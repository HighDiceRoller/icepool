<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 13.1.1"/>
    <title>icepool.evaluator API documentation</title>
            <link rel="icon" href="favicon.png"/>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../icepool.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;icepool</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#JointEvaluator">JointEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#JointEvaluator.__init__">JointEvaluator</a>
                        </li>
                        <li>
                                <a class="function" href="#JointEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#JointEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#JointEvaluator.order">order</a>
                        </li>
                        <li>
                                <a class="function" href="#JointEvaluator.alignment">alignment</a>
                        </li>
                        <li>
                                <a class="function" href="#JointEvaluator.prefix_generators">prefix_generators</a>
                        </li>
                        <li>
                                <a class="function" href="#JointEvaluator.validate_arity">validate_arity</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ExpandEvaluator">ExpandEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ExpandEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#ExpandEvaluator.order">order</a>
                        </li>
                        <li>
                                <a class="function" href="#ExpandEvaluator.final_outcome">final_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SumEvaluator">SumEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SumEvaluator.__init__">SumEvaluator</a>
                        </li>
                        <li>
                                <a class="function" href="#SumEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#SumEvaluator.order">order</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#sum_evaluator">sum_evaluator</a>
            </li>
            <li>
                    <a class="class" href="#CountEvaluator">CountEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CountEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#CountEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#CountEvaluator.order">order</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#count_evaluator">count_evaluator</a>
            </li>
            <li>
                    <a class="class" href="#AnyEvaluator">AnyEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AnyEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#AnyEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#AnyEvaluator.order">order</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#any_evaluator">any_evaluator</a>
            </li>
            <li>
                    <a class="class" href="#HighestOutcomeAndCountEvaluator">HighestOutcomeAndCountEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#HighestOutcomeAndCountEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#HighestOutcomeAndCountEvaluator.order">order</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LargestCountEvaluator">LargestCountEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LargestCountEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#LargestCountEvaluator.order">order</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LargestCountAndOutcomeEvaluator">LargestCountAndOutcomeEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LargestCountAndOutcomeEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#LargestCountAndOutcomeEvaluator.order">order</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AllCountsEvaluator">AllCountsEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AllCountsEvaluator.__init__">AllCountsEvaluator</a>
                        </li>
                        <li>
                                <a class="function" href="#AllCountsEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#AllCountsEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#AllCountsEvaluator.order">order</a>
                        </li>
                        <li>
                                <a class="function" href="#AllCountsEvaluator.alignment">alignment</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LargestStraightEvaluator">LargestStraightEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LargestStraightEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#LargestStraightEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#LargestStraightEvaluator.order">order</a>
                        </li>
                        <li>
                                <a class="function" href="#LargestStraightEvaluator.alignment">alignment</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LargestStraightAndOutcomeEvaluator">LargestStraightAndOutcomeEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LargestStraightAndOutcomeEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#LargestStraightAndOutcomeEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#LargestStraightAndOutcomeEvaluator.order">order</a>
                        </li>
                        <li>
                                <a class="function" href="#LargestStraightAndOutcomeEvaluator.alignment">alignment</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ComparisonEvaluator">ComparisonEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ComparisonEvaluator.any_all">any_all</a>
                        </li>
                        <li>
                                <a class="function" href="#ComparisonEvaluator.default_outcome">default_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#ComparisonEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#ComparisonEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#ComparisonEvaluator.order">order</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IsSubsetEvaluator">IsSubsetEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#IsSubsetEvaluator.any_all">any_all</a>
                        </li>
                        <li>
                                <a class="function" href="#IsSubsetEvaluator.default_outcome">default_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IsProperSubsetEvaluator">IsProperSubsetEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#IsProperSubsetEvaluator.any_all">any_all</a>
                        </li>
                        <li>
                                <a class="function" href="#IsProperSubsetEvaluator.default_outcome">default_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IsSupersetEvaluator">IsSupersetEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#IsSupersetEvaluator.any_all">any_all</a>
                        </li>
                        <li>
                                <a class="function" href="#IsSupersetEvaluator.default_outcome">default_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IsProperSupersetEvaluator">IsProperSupersetEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#IsProperSupersetEvaluator.any_all">any_all</a>
                        </li>
                        <li>
                                <a class="function" href="#IsProperSupersetEvaluator.default_outcome">default_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IsEqualSetEvaluator">IsEqualSetEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#IsEqualSetEvaluator.any_all">any_all</a>
                        </li>
                        <li>
                                <a class="function" href="#IsEqualSetEvaluator.default_outcome">default_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IsNotEqualSetEvaluator">IsNotEqualSetEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#IsNotEqualSetEvaluator.any_all">any_all</a>
                        </li>
                        <li>
                                <a class="function" href="#IsNotEqualSetEvaluator.default_outcome">default_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#IsDisjointSetEvaluator">IsDisjointSetEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#IsDisjointSetEvaluator.any_all">any_all</a>
                        </li>
                        <li>
                                <a class="function" href="#IsDisjointSetEvaluator.default_outcome">default_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ConstantEvaluator">ConstantEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ConstantEvaluator.__init__">ConstantEvaluator</a>
                        </li>
                        <li>
                                <a class="function" href="#ConstantEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#ConstantEvaluator.final_outcome">final_outcome</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#KeepEvaluator">KeepEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#KeepEvaluator.__init__">KeepEvaluator</a>
                        </li>
                        <li>
                                <a class="function" href="#KeepEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#KeepEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#KeepEvaluator.order">order</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ExpressionEvaluator">ExpressionEvaluator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ExpressionEvaluator.__init__">ExpressionEvaluator</a>
                        </li>
                        <li>
                                <a class="function" href="#ExpressionEvaluator.next_state">next_state</a>
                        </li>
                        <li>
                                <a class="function" href="#ExpressionEvaluator.final_outcome">final_outcome</a>
                        </li>
                        <li>
                                <a class="function" href="#ExpressionEvaluator.order">order</a>
                        </li>
                        <li>
                                <a class="function" href="#ExpressionEvaluator.alignment">alignment</a>
                        </li>
                        <li>
                                <a class="function" href="#ExpressionEvaluator.prefix_generators">prefix_generators</a>
                        </li>
                        <li>
                                <a class="function" href="#ExpressionEvaluator.validate_arity">validate_arity</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../icepool.html">icepool</a><wbr>.evaluator    </h1>

                        <div class="docstring"><p>Submodule containing evaluators.</p>
</div>

                        <input id="mod-evaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-evaluator-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="sd">&quot;&quot;&quot;Submodule containing evaluators.&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="n">__docformat__</span> <span class="o">=</span> <span class="s1">&#39;google&#39;</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="kn">from</span> <span class="nn">icepool.evaluator.basic</span> <span class="kn">import</span> <span class="p">(</span><span class="n">ExpandEvaluator</span><span class="p">,</span> <span class="n">SumEvaluator</span><span class="p">,</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a>                                     <span class="n">sum_evaluator</span><span class="p">,</span> <span class="n">CountEvaluator</span><span class="p">,</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a>                                     <span class="n">count_evaluator</span><span class="p">,</span> <span class="n">AnyEvaluator</span><span class="p">,</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a>                                     <span class="n">any_evaluator</span><span class="p">)</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="kn">from</span> <span class="nn">icepool.evaluator.poker</span> <span class="kn">import</span> <span class="p">(</span><span class="n">HighestOutcomeAndCountEvaluator</span><span class="p">,</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>                                     <span class="n">LargestCountEvaluator</span><span class="p">,</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a>                                     <span class="n">LargestCountAndOutcomeEvaluator</span><span class="p">,</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a>                                     <span class="n">AllCountsEvaluator</span><span class="p">,</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a>                                     <span class="n">LargestStraightEvaluator</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>                                     <span class="n">LargestStraightAndOutcomeEvaluator</span><span class="p">)</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a><span class="kn">from</span> <span class="nn">icepool.evaluator.comparison</span> <span class="kn">import</span> <span class="p">(</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a>    <span class="n">ComparisonEvaluator</span><span class="p">,</span> <span class="n">IsSubsetEvaluator</span><span class="p">,</span> <span class="n">IsProperSubsetEvaluator</span><span class="p">,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a>    <span class="n">IsSupersetEvaluator</span><span class="p">,</span> <span class="n">IsProperSupersetEvaluator</span><span class="p">,</span> <span class="n">IsEqualSetEvaluator</span><span class="p">,</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a>    <span class="n">IsNotEqualSetEvaluator</span><span class="p">,</span> <span class="n">IsDisjointSetEvaluator</span><span class="p">)</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a><span class="kn">from</span> <span class="nn">icepool.evaluator.joint</span> <span class="kn">import</span> <span class="n">JointEvaluator</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a><span class="kn">from</span> <span class="nn">icepool.evaluator.constant</span> <span class="kn">import</span> <span class="n">ConstantEvaluator</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a><span class="kn">from</span> <span class="nn">icepool.evaluator.keep</span> <span class="kn">import</span> <span class="n">KeepEvaluator</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a><span class="kn">from</span> <span class="nn">icepool.evaluator.expression</span> <span class="kn">import</span> <span class="n">ExpressionEvaluator</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a>    <span class="s1">&#39;JointEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;ExpandEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;SumEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;sum_evaluator&#39;</span><span class="p">,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a>    <span class="s1">&#39;CountEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;count_evaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;AnyEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;any_evaluator&#39;</span><span class="p">,</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a>    <span class="s1">&#39;HighestOutcomeAndCountEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;LargestCountEvaluator&#39;</span><span class="p">,</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a>    <span class="s1">&#39;LargestCountAndOutcomeEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;AllCountsEvaluator&#39;</span><span class="p">,</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>    <span class="s1">&#39;LargestStraightEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;LargestStraightAndOutcomeEvaluator&#39;</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a>    <span class="s1">&#39;ComparisonEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;IsSubsetEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;IsProperSubsetEvaluator&#39;</span><span class="p">,</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a>    <span class="s1">&#39;IsSupersetEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;IsProperSupersetEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;IsEqualSetEvaluator&#39;</span><span class="p">,</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a>    <span class="s1">&#39;IsNotEqualSetEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;IsDisjointSetEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;ConstantEvaluator&#39;</span><span class="p">,</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a>    <span class="s1">&#39;KeepEvaluator&#39;</span><span class="p">,</span> <span class="s1">&#39;ExpressionEvaluator&#39;</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="JointEvaluator">
                            <input id="JointEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">JointEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[-T_contra, tuple]</span>):

                <label class="view-source-button" for="JointEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JointEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JointEvaluator-16"><a href="#JointEvaluator-16"><span class="linenos"> 16</span></a><span class="k">class</span> <span class="nc">JointEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">T_contra</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">]):</span>
</span><span id="JointEvaluator-17"><a href="#JointEvaluator-17"><span class="linenos"> 17</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A `MultisetEvaluator` that jointly evaluates sub-evaluators on the same set of input generators.&quot;&quot;&quot;</span>
</span><span id="JointEvaluator-18"><a href="#JointEvaluator-18"><span class="linenos"> 18</span></a>
</span><span id="JointEvaluator-19"><a href="#JointEvaluator-19"><span class="linenos"> 19</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">inners</span><span class="p">:</span> <span class="n">MultisetEvaluator</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JointEvaluator-20"><a href="#JointEvaluator-20"><span class="linenos"> 20</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span> <span class="o">=</span> <span class="n">inners</span>
</span><span id="JointEvaluator-21"><a href="#JointEvaluator-21"><span class="linenos"> 21</span></a>
</span><span id="JointEvaluator-22"><a href="#JointEvaluator-22"><span class="linenos"> 22</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="o">*</span><span class="n">counts</span><span class="p">):</span>
</span><span id="JointEvaluator-23"><a href="#JointEvaluator-23"><span class="linenos"> 23</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs `next_state` for all sub-evaluator.</span>
</span><span id="JointEvaluator-24"><a href="#JointEvaluator-24"><span class="linenos"> 24</span></a>
</span><span id="JointEvaluator-25"><a href="#JointEvaluator-25"><span class="linenos"> 25</span></a><span class="sd">        The state is a tuple of the sub-states.</span>
</span><span id="JointEvaluator-26"><a href="#JointEvaluator-26"><span class="linenos"> 26</span></a>
</span><span id="JointEvaluator-27"><a href="#JointEvaluator-27"><span class="linenos"> 27</span></a><span class="sd">        If any sub-evaluator returns `Reroll`, the result as a whole is `Reroll`.</span>
</span><span id="JointEvaluator-28"><a href="#JointEvaluator-28"><span class="linenos"> 28</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JointEvaluator-29"><a href="#JointEvaluator-29"><span class="linenos"> 29</span></a>        <span class="n">prefix_counts</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_extra_arity</span><span class="p">]</span>
</span><span id="JointEvaluator-30"><a href="#JointEvaluator-30"><span class="linenos"> 30</span></a>        <span class="n">counts</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_extra_arity</span><span class="p">:]</span>
</span><span id="JointEvaluator-31"><a href="#JointEvaluator-31"><span class="linenos"> 31</span></a>
</span><span id="JointEvaluator-32"><a href="#JointEvaluator-32"><span class="linenos"> 32</span></a>        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JointEvaluator-33"><a href="#JointEvaluator-33"><span class="linenos"> 33</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="JointEvaluator-34"><a href="#JointEvaluator-34"><span class="linenos"> 34</span></a>                <span class="n">evaluator</span><span class="o">.</span><span class="n">next_state</span><span class="p">(</span>
</span><span id="JointEvaluator-35"><a href="#JointEvaluator-35"><span class="linenos"> 35</span></a>                    <span class="kc">None</span><span class="p">,</span>
</span><span id="JointEvaluator-36"><a href="#JointEvaluator-36"><span class="linenos"> 36</span></a>                    <span class="n">outcome</span><span class="p">,</span>
</span><span id="JointEvaluator-37"><a href="#JointEvaluator-37"><span class="linenos"> 37</span></a>                    <span class="o">*</span><span class="n">evaluator_prefix_counts</span><span class="p">,</span>
</span><span id="JointEvaluator-38"><a href="#JointEvaluator-38"><span class="linenos"> 38</span></a>                    <span class="o">*</span><span class="n">counts</span><span class="p">,</span>
</span><span id="JointEvaluator-39"><a href="#JointEvaluator-39"><span class="linenos"> 39</span></a>                <span class="p">)</span> <span class="k">for</span> <span class="n">evaluator</span><span class="p">,</span> <span class="n">evaluator_prefix_counts</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="JointEvaluator-40"><a href="#JointEvaluator-40"><span class="linenos"> 40</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_prefix_counts</span><span class="p">(</span><span class="o">*</span><span class="n">prefix_counts</span><span class="p">)))</span>
</span><span id="JointEvaluator-41"><a href="#JointEvaluator-41"><span class="linenos"> 41</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JointEvaluator-42"><a href="#JointEvaluator-42"><span class="linenos"> 42</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="JointEvaluator-43"><a href="#JointEvaluator-43"><span class="linenos"> 43</span></a>                <span class="n">evaluator</span><span class="o">.</span><span class="n">next_state</span><span class="p">(</span>
</span><span id="JointEvaluator-44"><a href="#JointEvaluator-44"><span class="linenos"> 44</span></a>                    <span class="n">substate</span><span class="p">,</span>
</span><span id="JointEvaluator-45"><a href="#JointEvaluator-45"><span class="linenos"> 45</span></a>                    <span class="n">outcome</span><span class="p">,</span>
</span><span id="JointEvaluator-46"><a href="#JointEvaluator-46"><span class="linenos"> 46</span></a>                    <span class="o">*</span><span class="n">evaluator_prefix_counts</span><span class="p">,</span>
</span><span id="JointEvaluator-47"><a href="#JointEvaluator-47"><span class="linenos"> 47</span></a>                    <span class="o">*</span><span class="n">counts</span><span class="p">,</span>
</span><span id="JointEvaluator-48"><a href="#JointEvaluator-48"><span class="linenos"> 48</span></a>                <span class="p">)</span> <span class="k">for</span> <span class="n">evaluator</span><span class="p">,</span> <span class="n">substate</span><span class="p">,</span> <span class="n">evaluator_prefix_counts</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="JointEvaluator-49"><a href="#JointEvaluator-49"><span class="linenos"> 49</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span>
</span><span id="JointEvaluator-50"><a href="#JointEvaluator-50"><span class="linenos"> 50</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_split_prefix_counts</span><span class="p">(</span><span class="o">*</span><span class="n">prefix_counts</span><span class="p">)))</span>
</span><span id="JointEvaluator-51"><a href="#JointEvaluator-51"><span class="linenos"> 51</span></a>        <span class="k">if</span> <span class="n">icepool</span><span class="o">.</span><span class="n">Reroll</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span><span id="JointEvaluator-52"><a href="#JointEvaluator-52"><span class="linenos"> 52</span></a>            <span class="k">return</span> <span class="n">icepool</span><span class="o">.</span><span class="n">Reroll</span>
</span><span id="JointEvaluator-53"><a href="#JointEvaluator-53"><span class="linenos"> 53</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JointEvaluator-54"><a href="#JointEvaluator-54"><span class="linenos"> 54</span></a>            <span class="k">return</span> <span class="n">result</span>
</span><span id="JointEvaluator-55"><a href="#JointEvaluator-55"><span class="linenos"> 55</span></a>
</span><span id="JointEvaluator-56"><a href="#JointEvaluator-56"><span class="linenos"> 56</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;tuple | icepool.RerollType&#39;</span><span class="p">:</span>
</span><span id="JointEvaluator-57"><a href="#JointEvaluator-57"><span class="linenos"> 57</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs `final_state` for all sub-evaluators.</span>
</span><span id="JointEvaluator-58"><a href="#JointEvaluator-58"><span class="linenos"> 58</span></a>
</span><span id="JointEvaluator-59"><a href="#JointEvaluator-59"><span class="linenos"> 59</span></a><span class="sd">        The final outcome is a tuple of the final suboutcomes.</span>
</span><span id="JointEvaluator-60"><a href="#JointEvaluator-60"><span class="linenos"> 60</span></a>
</span><span id="JointEvaluator-61"><a href="#JointEvaluator-61"><span class="linenos"> 61</span></a><span class="sd">        If any sub-evaluator returns `Reroll`, the result as a whole is `Reroll`.</span>
</span><span id="JointEvaluator-62"><a href="#JointEvaluator-62"><span class="linenos"> 62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JointEvaluator-63"><a href="#JointEvaluator-63"><span class="linenos"> 63</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JointEvaluator-64"><a href="#JointEvaluator-64"><span class="linenos"> 64</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">final_outcome</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">)</span>
</span><span id="JointEvaluator-65"><a href="#JointEvaluator-65"><span class="linenos"> 65</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JointEvaluator-66"><a href="#JointEvaluator-66"><span class="linenos"> 66</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="JointEvaluator-67"><a href="#JointEvaluator-67"><span class="linenos"> 67</span></a>                <span class="n">inner</span><span class="o">.</span><span class="n">final_outcome</span><span class="p">(</span><span class="n">final_substate</span><span class="p">)</span>
</span><span id="JointEvaluator-68"><a href="#JointEvaluator-68"><span class="linenos"> 68</span></a>                <span class="k">for</span> <span class="n">inner</span><span class="p">,</span> <span class="n">final_substate</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">,</span> <span class="n">final_state</span><span class="p">))</span>
</span><span id="JointEvaluator-69"><a href="#JointEvaluator-69"><span class="linenos"> 69</span></a>        <span class="k">if</span> <span class="n">icepool</span><span class="o">.</span><span class="n">Reroll</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span><span id="JointEvaluator-70"><a href="#JointEvaluator-70"><span class="linenos"> 70</span></a>            <span class="k">return</span> <span class="n">icepool</span><span class="o">.</span><span class="n">Reroll</span>
</span><span id="JointEvaluator-71"><a href="#JointEvaluator-71"><span class="linenos"> 71</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JointEvaluator-72"><a href="#JointEvaluator-72"><span class="linenos"> 72</span></a>            <span class="k">return</span> <span class="n">result</span>
</span><span id="JointEvaluator-73"><a href="#JointEvaluator-73"><span class="linenos"> 73</span></a>
</span><span id="JointEvaluator-74"><a href="#JointEvaluator-74"><span class="linenos"> 74</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Order</span><span class="p">:</span>
</span><span id="JointEvaluator-75"><a href="#JointEvaluator-75"><span class="linenos"> 75</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines the common order of the sub-evaluators.</span>
</span><span id="JointEvaluator-76"><a href="#JointEvaluator-76"><span class="linenos"> 76</span></a>
</span><span id="JointEvaluator-77"><a href="#JointEvaluator-77"><span class="linenos"> 77</span></a><span class="sd">        Raises:</span>
</span><span id="JointEvaluator-78"><a href="#JointEvaluator-78"><span class="linenos"> 78</span></a><span class="sd">            ValueError: If sub-evaluators have conflicting orders, i.e. some are</span>
</span><span id="JointEvaluator-79"><a href="#JointEvaluator-79"><span class="linenos"> 79</span></a><span class="sd">                ascending and others are descending.</span>
</span><span id="JointEvaluator-80"><a href="#JointEvaluator-80"><span class="linenos"> 80</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JointEvaluator-81"><a href="#JointEvaluator-81"><span class="linenos"> 81</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">order</span><span class="p">()</span> <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">))</span>
</span><span id="JointEvaluator-82"><a href="#JointEvaluator-82"><span class="linenos"> 82</span></a>
</span><span id="JointEvaluator-83"><a href="#JointEvaluator-83"><span class="linenos"> 83</span></a>    <span class="k">def</span> <span class="nf">alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outcomes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">[</span><span class="n">T_contra</span><span class="p">]:</span>
</span><span id="JointEvaluator-84"><a href="#JointEvaluator-84"><span class="linenos"> 84</span></a>        <span class="k">return</span> <span class="n">sorted_union</span><span class="p">(</span>
</span><span id="JointEvaluator-85"><a href="#JointEvaluator-85"><span class="linenos"> 85</span></a>            <span class="o">*</span><span class="p">(</span><span class="n">evaluator</span><span class="o">.</span><span class="n">alignment</span><span class="p">(</span><span class="n">outcomes</span><span class="p">)</span> <span class="k">for</span> <span class="n">evaluator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">))</span>
</span><span id="JointEvaluator-86"><a href="#JointEvaluator-86"><span class="linenos"> 86</span></a>
</span><span id="JointEvaluator-87"><a href="#JointEvaluator-87"><span class="linenos"> 87</span></a>    <span class="nd">@cached_property</span>
</span><span id="JointEvaluator-88"><a href="#JointEvaluator-88"><span class="linenos"> 88</span></a>    <span class="k">def</span> <span class="nf">_prefix_generators</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;tuple[icepool.MultisetGenerator, ...]&#39;</span><span class="p">:</span>
</span><span id="JointEvaluator-89"><a href="#JointEvaluator-89"><span class="linenos"> 89</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="JointEvaluator-90"><a href="#JointEvaluator-90"><span class="linenos"> 90</span></a>            <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
</span><span id="JointEvaluator-91"><a href="#JointEvaluator-91"><span class="linenos"> 91</span></a>                <span class="n">expression</span><span class="o">.</span><span class="n">prefix_generators</span><span class="p">()</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">))</span>
</span><span id="JointEvaluator-92"><a href="#JointEvaluator-92"><span class="linenos"> 92</span></a>
</span><span id="JointEvaluator-93"><a href="#JointEvaluator-93"><span class="linenos"> 93</span></a>    <span class="k">def</span> <span class="nf">prefix_generators</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;tuple[icepool.MultisetGenerator, ...]&#39;</span><span class="p">:</span>
</span><span id="JointEvaluator-94"><a href="#JointEvaluator-94"><span class="linenos"> 94</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_generators</span>
</span><span id="JointEvaluator-95"><a href="#JointEvaluator-95"><span class="linenos"> 95</span></a>
</span><span id="JointEvaluator-96"><a href="#JointEvaluator-96"><span class="linenos"> 96</span></a>    <span class="k">def</span> <span class="nf">validate_arity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arity</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JointEvaluator-97"><a href="#JointEvaluator-97"><span class="linenos"> 97</span></a>        <span class="k">for</span> <span class="n">evaluator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">:</span>
</span><span id="JointEvaluator-98"><a href="#JointEvaluator-98"><span class="linenos"> 98</span></a>            <span class="n">evaluator</span><span class="o">.</span><span class="n">validate_arity</span><span class="p">(</span><span class="n">arity</span><span class="p">)</span>
</span><span id="JointEvaluator-99"><a href="#JointEvaluator-99"><span class="linenos"> 99</span></a>
</span><span id="JointEvaluator-100"><a href="#JointEvaluator-100"><span class="linenos">100</span></a>    <span class="nd">@cached_property</span>
</span><span id="JointEvaluator-101"><a href="#JointEvaluator-101"><span class="linenos">101</span></a>    <span class="k">def</span> <span class="nf">_extra_arity</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="JointEvaluator-102"><a href="#JointEvaluator-102"><span class="linenos">102</span></a>        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span>
</span><span id="JointEvaluator-103"><a href="#JointEvaluator-103"><span class="linenos">103</span></a>            <span class="n">generator</span><span class="o">.</span><span class="n">output_arity</span><span class="p">()</span> <span class="k">for</span> <span class="n">generator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_generators</span><span class="p">())</span>
</span><span id="JointEvaluator-104"><a href="#JointEvaluator-104"><span class="linenos">104</span></a>
</span><span id="JointEvaluator-105"><a href="#JointEvaluator-105"><span class="linenos">105</span></a>    <span class="nd">@cached_property</span>
</span><span id="JointEvaluator-106"><a href="#JointEvaluator-106"><span class="linenos">106</span></a>    <span class="k">def</span> <span class="nf">_prefix_slices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">slice</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
</span><span id="JointEvaluator-107"><a href="#JointEvaluator-107"><span class="linenos">107</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Precomputed slices for determining which prefix counts go with which sub-evaluator.&quot;&quot;&quot;</span>
</span><span id="JointEvaluator-108"><a href="#JointEvaluator-108"><span class="linenos">108</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="JointEvaluator-109"><a href="#JointEvaluator-109"><span class="linenos">109</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="JointEvaluator-110"><a href="#JointEvaluator-110"><span class="linenos">110</span></a>        <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">:</span>
</span><span id="JointEvaluator-111"><a href="#JointEvaluator-111"><span class="linenos">111</span></a>            <span class="n">counts_length</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">generator</span><span class="o">.</span><span class="n">output_arity</span><span class="p">()</span>
</span><span id="JointEvaluator-112"><a href="#JointEvaluator-112"><span class="linenos">112</span></a>                                <span class="k">for</span> <span class="n">generator</span> <span class="ow">in</span> <span class="n">expression</span><span class="o">.</span><span class="n">prefix_generators</span><span class="p">())</span>
</span><span id="JointEvaluator-113"><a href="#JointEvaluator-113"><span class="linenos">113</span></a>            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">index</span> <span class="o">+</span> <span class="n">counts_length</span><span class="p">))</span>
</span><span id="JointEvaluator-114"><a href="#JointEvaluator-114"><span class="linenos">114</span></a>            <span class="n">index</span> <span class="o">+=</span> <span class="n">counts_length</span>
</span><span id="JointEvaluator-115"><a href="#JointEvaluator-115"><span class="linenos">115</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="JointEvaluator-116"><a href="#JointEvaluator-116"><span class="linenos">116</span></a>
</span><span id="JointEvaluator-117"><a href="#JointEvaluator-117"><span class="linenos">117</span></a>    <span class="k">def</span> <span class="nf">_split_prefix_counts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span><span id="JointEvaluator-118"><a href="#JointEvaluator-118"><span class="linenos">118</span></a>                             <span class="o">*</span><span class="n">extra_counts</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]:</span>
</span><span id="JointEvaluator-119"><a href="#JointEvaluator-119"><span class="linenos">119</span></a>        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_slices</span><span class="p">:</span>
</span><span id="JointEvaluator-120"><a href="#JointEvaluator-120"><span class="linenos">120</span></a>            <span class="k">yield</span> <span class="n">extra_counts</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</span><span id="JointEvaluator-121"><a href="#JointEvaluator-121"><span class="linenos">121</span></a>
</span><span id="JointEvaluator-122"><a href="#JointEvaluator-122"><span class="linenos">122</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="JointEvaluator-123"><a href="#JointEvaluator-123"><span class="linenos">123</span></a>        <span class="k">return</span> <span class="s1">&#39;JointEvaluator(</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="JointEvaluator-124"><a href="#JointEvaluator-124"><span class="linenos">124</span></a>            <span class="sa">f</span><span class="s1">&#39;    </span><span class="si">{</span><span class="n">evaluator</span><span class="si">}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">evaluator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
</span></pre></div>


            <div class="docstring"><p>A <code>MultisetEvaluator</code> that jointly evaluates sub-evaluators on the same set of input generators.</p>
</div>


                            <div id="JointEvaluator.__init__" class="classattr">
                                        <input id="JointEvaluator.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">JointEvaluator</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span><span class="n">inners</span><span class="p">:</span> <span class="n">icepool</span><span class="o">.</span><span class="n">evaluator</span><span class="o">.</span><span class="n">multiset_evaluator</span><span class="o">.</span><span class="n">MultisetEvaluator</span></span>)</span>

                <label class="view-source-button" for="JointEvaluator.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JointEvaluator.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JointEvaluator.__init__-19"><a href="#JointEvaluator.__init__-19"><span class="linenos">19</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">inners</span><span class="p">:</span> <span class="n">MultisetEvaluator</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JointEvaluator.__init__-20"><a href="#JointEvaluator.__init__-20"><span class="linenos">20</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span> <span class="o">=</span> <span class="n">inners</span>
</span></pre></div>


    

                            </div>
                            <div id="JointEvaluator.next_state" class="classattr">
                                        <input id="JointEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="o">*</span><span class="n">counts</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JointEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JointEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JointEvaluator.next_state-22"><a href="#JointEvaluator.next_state-22"><span class="linenos">22</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="o">*</span><span class="n">counts</span><span class="p">):</span>
</span><span id="JointEvaluator.next_state-23"><a href="#JointEvaluator.next_state-23"><span class="linenos">23</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs `next_state` for all sub-evaluator.</span>
</span><span id="JointEvaluator.next_state-24"><a href="#JointEvaluator.next_state-24"><span class="linenos">24</span></a>
</span><span id="JointEvaluator.next_state-25"><a href="#JointEvaluator.next_state-25"><span class="linenos">25</span></a><span class="sd">        The state is a tuple of the sub-states.</span>
</span><span id="JointEvaluator.next_state-26"><a href="#JointEvaluator.next_state-26"><span class="linenos">26</span></a>
</span><span id="JointEvaluator.next_state-27"><a href="#JointEvaluator.next_state-27"><span class="linenos">27</span></a><span class="sd">        If any sub-evaluator returns `Reroll`, the result as a whole is `Reroll`.</span>
</span><span id="JointEvaluator.next_state-28"><a href="#JointEvaluator.next_state-28"><span class="linenos">28</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JointEvaluator.next_state-29"><a href="#JointEvaluator.next_state-29"><span class="linenos">29</span></a>        <span class="n">prefix_counts</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">_extra_arity</span><span class="p">]</span>
</span><span id="JointEvaluator.next_state-30"><a href="#JointEvaluator.next_state-30"><span class="linenos">30</span></a>        <span class="n">counts</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_extra_arity</span><span class="p">:]</span>
</span><span id="JointEvaluator.next_state-31"><a href="#JointEvaluator.next_state-31"><span class="linenos">31</span></a>
</span><span id="JointEvaluator.next_state-32"><a href="#JointEvaluator.next_state-32"><span class="linenos">32</span></a>        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JointEvaluator.next_state-33"><a href="#JointEvaluator.next_state-33"><span class="linenos">33</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="JointEvaluator.next_state-34"><a href="#JointEvaluator.next_state-34"><span class="linenos">34</span></a>                <span class="n">evaluator</span><span class="o">.</span><span class="n">next_state</span><span class="p">(</span>
</span><span id="JointEvaluator.next_state-35"><a href="#JointEvaluator.next_state-35"><span class="linenos">35</span></a>                    <span class="kc">None</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-36"><a href="#JointEvaluator.next_state-36"><span class="linenos">36</span></a>                    <span class="n">outcome</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-37"><a href="#JointEvaluator.next_state-37"><span class="linenos">37</span></a>                    <span class="o">*</span><span class="n">evaluator_prefix_counts</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-38"><a href="#JointEvaluator.next_state-38"><span class="linenos">38</span></a>                    <span class="o">*</span><span class="n">counts</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-39"><a href="#JointEvaluator.next_state-39"><span class="linenos">39</span></a>                <span class="p">)</span> <span class="k">for</span> <span class="n">evaluator</span><span class="p">,</span> <span class="n">evaluator_prefix_counts</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="JointEvaluator.next_state-40"><a href="#JointEvaluator.next_state-40"><span class="linenos">40</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_prefix_counts</span><span class="p">(</span><span class="o">*</span><span class="n">prefix_counts</span><span class="p">)))</span>
</span><span id="JointEvaluator.next_state-41"><a href="#JointEvaluator.next_state-41"><span class="linenos">41</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JointEvaluator.next_state-42"><a href="#JointEvaluator.next_state-42"><span class="linenos">42</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="JointEvaluator.next_state-43"><a href="#JointEvaluator.next_state-43"><span class="linenos">43</span></a>                <span class="n">evaluator</span><span class="o">.</span><span class="n">next_state</span><span class="p">(</span>
</span><span id="JointEvaluator.next_state-44"><a href="#JointEvaluator.next_state-44"><span class="linenos">44</span></a>                    <span class="n">substate</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-45"><a href="#JointEvaluator.next_state-45"><span class="linenos">45</span></a>                    <span class="n">outcome</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-46"><a href="#JointEvaluator.next_state-46"><span class="linenos">46</span></a>                    <span class="o">*</span><span class="n">evaluator_prefix_counts</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-47"><a href="#JointEvaluator.next_state-47"><span class="linenos">47</span></a>                    <span class="o">*</span><span class="n">counts</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-48"><a href="#JointEvaluator.next_state-48"><span class="linenos">48</span></a>                <span class="p">)</span> <span class="k">for</span> <span class="n">evaluator</span><span class="p">,</span> <span class="n">substate</span><span class="p">,</span> <span class="n">evaluator_prefix_counts</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="JointEvaluator.next_state-49"><a href="#JointEvaluator.next_state-49"><span class="linenos">49</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span>
</span><span id="JointEvaluator.next_state-50"><a href="#JointEvaluator.next_state-50"><span class="linenos">50</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_split_prefix_counts</span><span class="p">(</span><span class="o">*</span><span class="n">prefix_counts</span><span class="p">)))</span>
</span><span id="JointEvaluator.next_state-51"><a href="#JointEvaluator.next_state-51"><span class="linenos">51</span></a>        <span class="k">if</span> <span class="n">icepool</span><span class="o">.</span><span class="n">Reroll</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span><span id="JointEvaluator.next_state-52"><a href="#JointEvaluator.next_state-52"><span class="linenos">52</span></a>            <span class="k">return</span> <span class="n">icepool</span><span class="o">.</span><span class="n">Reroll</span>
</span><span id="JointEvaluator.next_state-53"><a href="#JointEvaluator.next_state-53"><span class="linenos">53</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JointEvaluator.next_state-54"><a href="#JointEvaluator.next_state-54"><span class="linenos">54</span></a>            <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Runs <code><a href="#JointEvaluator.next_state">next_state</a></code> for all sub-evaluator.</p>

<p>The state is a tuple of the sub-states.</p>

<p>If any sub-evaluator returns <code>Reroll</code>, the result as a whole is <code>Reroll</code>.</p>
</div>


                            </div>
                            <div id="JointEvaluator.final_outcome" class="classattr">
                                        <input id="JointEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="nb">tuple</span> <span class="o">|</span> <span class="n"><a href="typing.html#RerollType">icepool.typing.RerollType</a></span>:</span></span>

                <label class="view-source-button" for="JointEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JointEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JointEvaluator.final_outcome-56"><a href="#JointEvaluator.final_outcome-56"><span class="linenos">56</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;tuple | icepool.RerollType&#39;</span><span class="p">:</span>
</span><span id="JointEvaluator.final_outcome-57"><a href="#JointEvaluator.final_outcome-57"><span class="linenos">57</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs `final_state` for all sub-evaluators.</span>
</span><span id="JointEvaluator.final_outcome-58"><a href="#JointEvaluator.final_outcome-58"><span class="linenos">58</span></a>
</span><span id="JointEvaluator.final_outcome-59"><a href="#JointEvaluator.final_outcome-59"><span class="linenos">59</span></a><span class="sd">        The final outcome is a tuple of the final suboutcomes.</span>
</span><span id="JointEvaluator.final_outcome-60"><a href="#JointEvaluator.final_outcome-60"><span class="linenos">60</span></a>
</span><span id="JointEvaluator.final_outcome-61"><a href="#JointEvaluator.final_outcome-61"><span class="linenos">61</span></a><span class="sd">        If any sub-evaluator returns `Reroll`, the result as a whole is `Reroll`.</span>
</span><span id="JointEvaluator.final_outcome-62"><a href="#JointEvaluator.final_outcome-62"><span class="linenos">62</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JointEvaluator.final_outcome-63"><a href="#JointEvaluator.final_outcome-63"><span class="linenos">63</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JointEvaluator.final_outcome-64"><a href="#JointEvaluator.final_outcome-64"><span class="linenos">64</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">final_outcome</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">)</span>
</span><span id="JointEvaluator.final_outcome-65"><a href="#JointEvaluator.final_outcome-65"><span class="linenos">65</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JointEvaluator.final_outcome-66"><a href="#JointEvaluator.final_outcome-66"><span class="linenos">66</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="JointEvaluator.final_outcome-67"><a href="#JointEvaluator.final_outcome-67"><span class="linenos">67</span></a>                <span class="n">inner</span><span class="o">.</span><span class="n">final_outcome</span><span class="p">(</span><span class="n">final_substate</span><span class="p">)</span>
</span><span id="JointEvaluator.final_outcome-68"><a href="#JointEvaluator.final_outcome-68"><span class="linenos">68</span></a>                <span class="k">for</span> <span class="n">inner</span><span class="p">,</span> <span class="n">final_substate</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">,</span> <span class="n">final_state</span><span class="p">))</span>
</span><span id="JointEvaluator.final_outcome-69"><a href="#JointEvaluator.final_outcome-69"><span class="linenos">69</span></a>        <span class="k">if</span> <span class="n">icepool</span><span class="o">.</span><span class="n">Reroll</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span><span id="JointEvaluator.final_outcome-70"><a href="#JointEvaluator.final_outcome-70"><span class="linenos">70</span></a>            <span class="k">return</span> <span class="n">icepool</span><span class="o">.</span><span class="n">Reroll</span>
</span><span id="JointEvaluator.final_outcome-71"><a href="#JointEvaluator.final_outcome-71"><span class="linenos">71</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JointEvaluator.final_outcome-72"><a href="#JointEvaluator.final_outcome-72"><span class="linenos">72</span></a>            <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Runs <code>final_state</code> for all sub-evaluators.</p>

<p>The final outcome is a tuple of the final suboutcomes.</p>

<p>If any sub-evaluator returns <code>Reroll</code>, the result as a whole is <code>Reroll</code>.</p>
</div>


                            </div>
                            <div id="JointEvaluator.order" class="classattr">
                                        <input id="JointEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="typing.html#Order">icepool.typing.Order</a></span>:</span></span>

                <label class="view-source-button" for="JointEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JointEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JointEvaluator.order-74"><a href="#JointEvaluator.order-74"><span class="linenos">74</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Order</span><span class="p">:</span>
</span><span id="JointEvaluator.order-75"><a href="#JointEvaluator.order-75"><span class="linenos">75</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines the common order of the sub-evaluators.</span>
</span><span id="JointEvaluator.order-76"><a href="#JointEvaluator.order-76"><span class="linenos">76</span></a>
</span><span id="JointEvaluator.order-77"><a href="#JointEvaluator.order-77"><span class="linenos">77</span></a><span class="sd">        Raises:</span>
</span><span id="JointEvaluator.order-78"><a href="#JointEvaluator.order-78"><span class="linenos">78</span></a><span class="sd">            ValueError: If sub-evaluators have conflicting orders, i.e. some are</span>
</span><span id="JointEvaluator.order-79"><a href="#JointEvaluator.order-79"><span class="linenos">79</span></a><span class="sd">                ascending and others are descending.</span>
</span><span id="JointEvaluator.order-80"><a href="#JointEvaluator.order-80"><span class="linenos">80</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JointEvaluator.order-81"><a href="#JointEvaluator.order-81"><span class="linenos">81</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">order</span><span class="p">()</span> <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Determines the common order of the sub-evaluators.</p>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>ValueError:</strong>  If sub-evaluators have conflicting orders, i.e. some are
ascending and others are descending.</li>
</ul>
</div>


                            </div>
                            <div id="JointEvaluator.alignment" class="classattr">
                                        <input id="JointEvaluator.alignment-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">alignment</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">outcomes</span></span><span class="return-annotation">) -> <span class="n">Collection</span><span class="p">[</span><span class="o">-</span><span class="n">T_contra</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="JointEvaluator.alignment-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JointEvaluator.alignment"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JointEvaluator.alignment-83"><a href="#JointEvaluator.alignment-83"><span class="linenos">83</span></a>    <span class="k">def</span> <span class="nf">alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outcomes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">[</span><span class="n">T_contra</span><span class="p">]:</span>
</span><span id="JointEvaluator.alignment-84"><a href="#JointEvaluator.alignment-84"><span class="linenos">84</span></a>        <span class="k">return</span> <span class="n">sorted_union</span><span class="p">(</span>
</span><span id="JointEvaluator.alignment-85"><a href="#JointEvaluator.alignment-85"><span class="linenos">85</span></a>            <span class="o">*</span><span class="p">(</span><span class="n">evaluator</span><span class="o">.</span><span class="n">alignment</span><span class="p">(</span><span class="n">outcomes</span><span class="p">)</span> <span class="k">for</span> <span class="n">evaluator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Optional method to specify additional outcomes that should be seen by <code><a href="#JointEvaluator.next_state">next_state()</a></code>.</p>

<p>These will be seen by <code><a href="#JointEvaluator.next_state">next_state</a></code> even if they have zero count or do
not appear in the generator(s) at all.</p>

<p>The default implementation returns <code>()</code>; this means outcomes with zero
count may or may not be seen by <code><a href="#JointEvaluator.next_state">next_state</a></code>.</p>

<p>If you want <code><a href="#JointEvaluator.next_state">next_state</a></code> to see consecutive <code>int</code> outcomes, you can set
<code>alignment = <a href="../icepool.html#MultisetEvaluator.range_alignment">icepool.MultisetEvaluator.range_alignment</a></code>.
See <code><a href="#JointEvaluator.range_alignment">range_alignment()</a></code> below.</p>

<p>If you want <code><a href="#JointEvaluator.next_state">next_state</a></code> to see all generator outcomes, you can return
<code>outcomes</code> as-is.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>outcomes:</strong>  The outcomes that could be produced by the generators, in</li>
<li>ascending order.</li>
</ul>
</div>


                            </div>
                            <div id="JointEvaluator.prefix_generators" class="classattr">
                                        <input id="JointEvaluator.prefix_generators-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prefix_generators</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="n">icepool</span><span class="o">.</span><span class="n">generator</span><span class="o">.</span><span class="n">multiset_generator</span><span class="o">.</span><span class="n">MultisetGenerator</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="JointEvaluator.prefix_generators-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JointEvaluator.prefix_generators"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JointEvaluator.prefix_generators-93"><a href="#JointEvaluator.prefix_generators-93"><span class="linenos">93</span></a>    <span class="k">def</span> <span class="nf">prefix_generators</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;tuple[icepool.MultisetGenerator, ...]&#39;</span><span class="p">:</span>
</span><span id="JointEvaluator.prefix_generators-94"><a href="#JointEvaluator.prefix_generators-94"><span class="linenos">94</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_generators</span>
</span></pre></div>


            <div class="docstring"><p>An optional sequence of extra generators whose counts will be prepended to *counts.</p>
</div>


                            </div>
                            <div id="JointEvaluator.validate_arity" class="classattr">
                                        <input id="JointEvaluator.validate_arity-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">validate_arity</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arity</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="JointEvaluator.validate_arity-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JointEvaluator.validate_arity"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JointEvaluator.validate_arity-96"><a href="#JointEvaluator.validate_arity-96"><span class="linenos">96</span></a>    <span class="k">def</span> <span class="nf">validate_arity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arity</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JointEvaluator.validate_arity-97"><a href="#JointEvaluator.validate_arity-97"><span class="linenos">97</span></a>        <span class="k">for</span> <span class="n">evaluator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inners</span><span class="p">:</span>
</span><span id="JointEvaluator.validate_arity-98"><a href="#JointEvaluator.validate_arity-98"><span class="linenos">98</span></a>            <span class="n">evaluator</span><span class="o">.</span><span class="n">validate_arity</span><span class="p">(</span><span class="n">arity</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An optional method to verify the total input arity.</p>

<p>This is called after any implicit conversion to generators, but does
not include any <code>extra_generators()</code>.</p>

<p>Overriding <code><a href="#JointEvaluator.next_state">next_state</a></code> with a fixed number of counts will make this
check redundant.</p>

<h6 id="raises">Raises:</h6>

<ul>
<li><code>ValueError</code> if the total input arity is not valid.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="JointEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="JointEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="JointEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ExpandEvaluator">
                            <input id="ExpandEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ExpandEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, tuple]</span>):

                <label class="view-source-button" for="ExpandEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpandEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpandEvaluator-14"><a href="#ExpandEvaluator-14"><span class="linenos">14</span></a><span class="k">class</span> <span class="nc">ExpandEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">]):</span>
</span><span id="ExpandEvaluator-15"><a href="#ExpandEvaluator-15"><span class="linenos">15</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Expands all results of a generator.</span>
</span><span id="ExpandEvaluator-16"><a href="#ExpandEvaluator-16"><span class="linenos">16</span></a>
</span><span id="ExpandEvaluator-17"><a href="#ExpandEvaluator-17"><span class="linenos">17</span></a><span class="sd">    This is expensive and not recommended unless there are few possibilities.</span>
</span><span id="ExpandEvaluator-18"><a href="#ExpandEvaluator-18"><span class="linenos">18</span></a>
</span><span id="ExpandEvaluator-19"><a href="#ExpandEvaluator-19"><span class="linenos">19</span></a><span class="sd">    Outcomes with negative count will be treated as 0 count.</span>
</span><span id="ExpandEvaluator-20"><a href="#ExpandEvaluator-20"><span class="linenos">20</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ExpandEvaluator-21"><a href="#ExpandEvaluator-21"><span class="linenos">21</span></a>
</span><span id="ExpandEvaluator-22"><a href="#ExpandEvaluator-22"><span class="linenos">22</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="ExpandEvaluator-23"><a href="#ExpandEvaluator-23"><span class="linenos">23</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="ExpandEvaluator-24"><a href="#ExpandEvaluator-24"><span class="linenos">24</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">state</span> <span class="ow">or</span> <span class="p">())</span> <span class="o">+</span> <span class="p">(</span><span class="n">outcome</span><span class="p">,)</span> <span class="o">*</span> <span class="n">count</span>
</span><span id="ExpandEvaluator-25"><a href="#ExpandEvaluator-25"><span class="linenos">25</span></a>
</span><span id="ExpandEvaluator-26"><a href="#ExpandEvaluator-26"><span class="linenos">26</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="ExpandEvaluator-27"><a href="#ExpandEvaluator-27"><span class="linenos">27</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="ExpandEvaluator-28"><a href="#ExpandEvaluator-28"><span class="linenos">28</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span><span id="ExpandEvaluator-29"><a href="#ExpandEvaluator-29"><span class="linenos">29</span></a>
</span><span id="ExpandEvaluator-30"><a href="#ExpandEvaluator-30"><span class="linenos">30</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="ExpandEvaluator-31"><a href="#ExpandEvaluator-31"><span class="linenos">31</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="ExpandEvaluator-32"><a href="#ExpandEvaluator-32"><span class="linenos">32</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpandEvaluator-33"><a href="#ExpandEvaluator-33"><span class="linenos">33</span></a>            <span class="k">return</span> <span class="p">()</span>
</span><span id="ExpandEvaluator-34"><a href="#ExpandEvaluator-34"><span class="linenos">34</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">final_state</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Expands all results of a generator.</p>

<p>This is expensive and not recommended unless there are few possibilities.</p>

<p>Outcomes with negative count will be treated as 0 count.</p>
</div>


                            <div id="ExpandEvaluator.next_state" class="classattr">
                                        <input id="ExpandEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ExpandEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpandEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpandEvaluator.next_state-22"><a href="#ExpandEvaluator.next_state-22"><span class="linenos">22</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="ExpandEvaluator.next_state-23"><a href="#ExpandEvaluator.next_state-23"><span class="linenos">23</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="ExpandEvaluator.next_state-24"><a href="#ExpandEvaluator.next_state-24"><span class="linenos">24</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">state</span> <span class="ow">or</span> <span class="p">())</span> <span class="o">+</span> <span class="p">(</span><span class="n">outcome</span><span class="p">,)</span> <span class="o">*</span> <span class="n">count</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="ExpandEvaluator.order" class="classattr">
                                        <input id="ExpandEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ExpandEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpandEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpandEvaluator.order-26"><a href="#ExpandEvaluator.order-26"><span class="linenos">26</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="ExpandEvaluator.order-27"><a href="#ExpandEvaluator.order-27"><span class="linenos">27</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="ExpandEvaluator.order-28"><a href="#ExpandEvaluator.order-28"><span class="linenos">28</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div id="ExpandEvaluator.final_outcome" class="classattr">
                                        <input id="ExpandEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="nb">tuple</span>:</span></span>

                <label class="view-source-button" for="ExpandEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpandEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpandEvaluator.final_outcome-30"><a href="#ExpandEvaluator.final_outcome-30"><span class="linenos">30</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="ExpandEvaluator.final_outcome-31"><a href="#ExpandEvaluator.final_outcome-31"><span class="linenos">31</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="ExpandEvaluator.final_outcome-32"><a href="#ExpandEvaluator.final_outcome-32"><span class="linenos">32</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpandEvaluator.final_outcome-33"><a href="#ExpandEvaluator.final_outcome-33"><span class="linenos">33</span></a>            <span class="k">return</span> <span class="p">()</span>
</span><span id="ExpandEvaluator.final_outcome-34"><a href="#ExpandEvaluator.final_outcome-34"><span class="linenos">34</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">final_state</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="ExpandEvaluator.alignment" class="function">alignment</dd>
                <dd id="ExpandEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="ExpandEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="ExpandEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="ExpandEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="ExpandEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SumEvaluator">
                            <input id="SumEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SumEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, typing.Any]</span>):

                <label class="view-source-button" for="SumEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SumEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SumEvaluator-37"><a href="#SumEvaluator-37"><span class="linenos">37</span></a><span class="k">class</span> <span class="nc">SumEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
</span><span id="SumEvaluator-38"><a href="#SumEvaluator-38"><span class="linenos">38</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sums all outcomes.&quot;&quot;&quot;</span>
</span><span id="SumEvaluator-39"><a href="#SumEvaluator-39"><span class="linenos">39</span></a>
</span><span id="SumEvaluator-40"><a href="#SumEvaluator-40"><span class="linenos">40</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">map</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="n">Mapping</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SumEvaluator-41"><a href="#SumEvaluator-41"><span class="linenos">41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="SumEvaluator-42"><a href="#SumEvaluator-42"><span class="linenos">42</span></a>
</span><span id="SumEvaluator-43"><a href="#SumEvaluator-43"><span class="linenos">43</span></a><span class="sd">        map: If provided, outcomes will be mapped according to this just</span>
</span><span id="SumEvaluator-44"><a href="#SumEvaluator-44"><span class="linenos">44</span></a><span class="sd">            before summing.</span>
</span><span id="SumEvaluator-45"><a href="#SumEvaluator-45"><span class="linenos">45</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SumEvaluator-46"><a href="#SumEvaluator-46"><span class="linenos">46</span></a>        <span class="k">if</span> <span class="nb">map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SumEvaluator-47"><a href="#SumEvaluator-47"><span class="linenos">47</span></a>
</span><span id="SumEvaluator-48"><a href="#SumEvaluator-48"><span class="linenos">48</span></a>            <span class="k">def</span> <span class="nf">map_func</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span>
</span><span id="SumEvaluator-49"><a href="#SumEvaluator-49"><span class="linenos">49</span></a>                <span class="k">return</span> <span class="n">outcome</span>
</span><span id="SumEvaluator-50"><a href="#SumEvaluator-50"><span class="linenos">50</span></a>
</span><span id="SumEvaluator-51"><a href="#SumEvaluator-51"><span class="linenos">51</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_map</span> <span class="o">=</span> <span class="n">map_func</span>
</span><span id="SumEvaluator-52"><a href="#SumEvaluator-52"><span class="linenos">52</span></a>        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="nb">map</span><span class="p">):</span>
</span><span id="SumEvaluator-53"><a href="#SumEvaluator-53"><span class="linenos">53</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_map</span> <span class="o">=</span> <span class="nb">map</span>
</span><span id="SumEvaluator-54"><a href="#SumEvaluator-54"><span class="linenos">54</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SumEvaluator-55"><a href="#SumEvaluator-55"><span class="linenos">55</span></a>            <span class="n">map_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">map</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="SumEvaluator-56"><a href="#SumEvaluator-56"><span class="linenos">56</span></a>
</span><span id="SumEvaluator-57"><a href="#SumEvaluator-57"><span class="linenos">57</span></a>            <span class="k">def</span> <span class="nf">map_func</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span>
</span><span id="SumEvaluator-58"><a href="#SumEvaluator-58"><span class="linenos">58</span></a>                <span class="k">return</span> <span class="n">map_dict</span><span class="p">[</span><span class="n">outcome</span><span class="p">]</span>
</span><span id="SumEvaluator-59"><a href="#SumEvaluator-59"><span class="linenos">59</span></a>
</span><span id="SumEvaluator-60"><a href="#SumEvaluator-60"><span class="linenos">60</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_map</span> <span class="o">=</span> <span class="n">map_func</span>
</span><span id="SumEvaluator-61"><a href="#SumEvaluator-61"><span class="linenos">61</span></a>
</span><span id="SumEvaluator-62"><a href="#SumEvaluator-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="SumEvaluator-63"><a href="#SumEvaluator-63"><span class="linenos">63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="SumEvaluator-64"><a href="#SumEvaluator-64"><span class="linenos">64</span></a>        <span class="n">outcome</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map</span><span class="p">(</span><span class="n">outcome</span><span class="p">)</span>
</span><span id="SumEvaluator-65"><a href="#SumEvaluator-65"><span class="linenos">65</span></a>        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SumEvaluator-66"><a href="#SumEvaluator-66"><span class="linenos">66</span></a>            <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="SumEvaluator-67"><a href="#SumEvaluator-67"><span class="linenos">67</span></a>                <span class="c1"># The outcome does not need to support addition or</span>
</span><span id="SumEvaluator-68"><a href="#SumEvaluator-68"><span class="linenos">68</span></a>                <span class="c1"># multiplication in this case.</span>
</span><span id="SumEvaluator-69"><a href="#SumEvaluator-69"><span class="linenos">69</span></a>                <span class="k">return</span> <span class="n">outcome</span>
</span><span id="SumEvaluator-70"><a href="#SumEvaluator-70"><span class="linenos">70</span></a>            <span class="k">return</span> <span class="n">outcome</span> <span class="o">*</span> <span class="n">count</span>
</span><span id="SumEvaluator-71"><a href="#SumEvaluator-71"><span class="linenos">71</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SumEvaluator-72"><a href="#SumEvaluator-72"><span class="linenos">72</span></a>            <span class="k">return</span> <span class="n">state</span> <span class="o">+</span> <span class="n">outcome</span> <span class="o">*</span> <span class="n">count</span>
</span><span id="SumEvaluator-73"><a href="#SumEvaluator-73"><span class="linenos">73</span></a>
</span><span id="SumEvaluator-74"><a href="#SumEvaluator-74"><span class="linenos">74</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="SumEvaluator-75"><a href="#SumEvaluator-75"><span class="linenos">75</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="SumEvaluator-76"><a href="#SumEvaluator-76"><span class="linenos">76</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Sums all outcomes.</p>
</div>


                            <div id="SumEvaluator.__init__" class="classattr">
                                        <input id="SumEvaluator.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">SumEvaluator</span><span class="signature pdoc-code condensed">(<span class="param"><span class="nb">map</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="SumEvaluator.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SumEvaluator.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SumEvaluator.__init__-40"><a href="#SumEvaluator.__init__-40"><span class="linenos">40</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">map</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">|</span> <span class="n">Mapping</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SumEvaluator.__init__-41"><a href="#SumEvaluator.__init__-41"><span class="linenos">41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="SumEvaluator.__init__-42"><a href="#SumEvaluator.__init__-42"><span class="linenos">42</span></a>
</span><span id="SumEvaluator.__init__-43"><a href="#SumEvaluator.__init__-43"><span class="linenos">43</span></a><span class="sd">        map: If provided, outcomes will be mapped according to this just</span>
</span><span id="SumEvaluator.__init__-44"><a href="#SumEvaluator.__init__-44"><span class="linenos">44</span></a><span class="sd">            before summing.</span>
</span><span id="SumEvaluator.__init__-45"><a href="#SumEvaluator.__init__-45"><span class="linenos">45</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SumEvaluator.__init__-46"><a href="#SumEvaluator.__init__-46"><span class="linenos">46</span></a>        <span class="k">if</span> <span class="nb">map</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SumEvaluator.__init__-47"><a href="#SumEvaluator.__init__-47"><span class="linenos">47</span></a>
</span><span id="SumEvaluator.__init__-48"><a href="#SumEvaluator.__init__-48"><span class="linenos">48</span></a>            <span class="k">def</span> <span class="nf">map_func</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span>
</span><span id="SumEvaluator.__init__-49"><a href="#SumEvaluator.__init__-49"><span class="linenos">49</span></a>                <span class="k">return</span> <span class="n">outcome</span>
</span><span id="SumEvaluator.__init__-50"><a href="#SumEvaluator.__init__-50"><span class="linenos">50</span></a>
</span><span id="SumEvaluator.__init__-51"><a href="#SumEvaluator.__init__-51"><span class="linenos">51</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_map</span> <span class="o">=</span> <span class="n">map_func</span>
</span><span id="SumEvaluator.__init__-52"><a href="#SumEvaluator.__init__-52"><span class="linenos">52</span></a>        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="nb">map</span><span class="p">):</span>
</span><span id="SumEvaluator.__init__-53"><a href="#SumEvaluator.__init__-53"><span class="linenos">53</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_map</span> <span class="o">=</span> <span class="nb">map</span>
</span><span id="SumEvaluator.__init__-54"><a href="#SumEvaluator.__init__-54"><span class="linenos">54</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SumEvaluator.__init__-55"><a href="#SumEvaluator.__init__-55"><span class="linenos">55</span></a>            <span class="n">map_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">map</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="SumEvaluator.__init__-56"><a href="#SumEvaluator.__init__-56"><span class="linenos">56</span></a>
</span><span id="SumEvaluator.__init__-57"><a href="#SumEvaluator.__init__-57"><span class="linenos">57</span></a>            <span class="k">def</span> <span class="nf">map_func</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span>
</span><span id="SumEvaluator.__init__-58"><a href="#SumEvaluator.__init__-58"><span class="linenos">58</span></a>                <span class="k">return</span> <span class="n">map_dict</span><span class="p">[</span><span class="n">outcome</span><span class="p">]</span>
</span><span id="SumEvaluator.__init__-59"><a href="#SumEvaluator.__init__-59"><span class="linenos">59</span></a>
</span><span id="SumEvaluator.__init__-60"><a href="#SumEvaluator.__init__-60"><span class="linenos">60</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_map</span> <span class="o">=</span> <span class="n">map_func</span>
</span></pre></div>


            <div class="docstring"><p>Constructor.</p>

<p>map: If provided, outcomes will be mapped according to this just
    before summing.</p>
</div>


                            </div>
                            <div id="SumEvaluator.next_state" class="classattr">
                                        <input id="SumEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SumEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SumEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SumEvaluator.next_state-62"><a href="#SumEvaluator.next_state-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="SumEvaluator.next_state-63"><a href="#SumEvaluator.next_state-63"><span class="linenos">63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="SumEvaluator.next_state-64"><a href="#SumEvaluator.next_state-64"><span class="linenos">64</span></a>        <span class="n">outcome</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map</span><span class="p">(</span><span class="n">outcome</span><span class="p">)</span>
</span><span id="SumEvaluator.next_state-65"><a href="#SumEvaluator.next_state-65"><span class="linenos">65</span></a>        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SumEvaluator.next_state-66"><a href="#SumEvaluator.next_state-66"><span class="linenos">66</span></a>            <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="SumEvaluator.next_state-67"><a href="#SumEvaluator.next_state-67"><span class="linenos">67</span></a>                <span class="c1"># The outcome does not need to support addition or</span>
</span><span id="SumEvaluator.next_state-68"><a href="#SumEvaluator.next_state-68"><span class="linenos">68</span></a>                <span class="c1"># multiplication in this case.</span>
</span><span id="SumEvaluator.next_state-69"><a href="#SumEvaluator.next_state-69"><span class="linenos">69</span></a>                <span class="k">return</span> <span class="n">outcome</span>
</span><span id="SumEvaluator.next_state-70"><a href="#SumEvaluator.next_state-70"><span class="linenos">70</span></a>            <span class="k">return</span> <span class="n">outcome</span> <span class="o">*</span> <span class="n">count</span>
</span><span id="SumEvaluator.next_state-71"><a href="#SumEvaluator.next_state-71"><span class="linenos">71</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SumEvaluator.next_state-72"><a href="#SumEvaluator.next_state-72"><span class="linenos">72</span></a>            <span class="k">return</span> <span class="n">state</span> <span class="o">+</span> <span class="n">outcome</span> <span class="o">*</span> <span class="n">count</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="SumEvaluator.order" class="classattr">
                                        <input id="SumEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="SumEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SumEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SumEvaluator.order-74"><a href="#SumEvaluator.order-74"><span class="linenos">74</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="SumEvaluator.order-75"><a href="#SumEvaluator.order-75"><span class="linenos">75</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="SumEvaluator.order-76"><a href="#SumEvaluator.order-76"><span class="linenos">76</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="SumEvaluator.final_outcome" class="function">final_outcome</dd>
                <dd id="SumEvaluator.alignment" class="function">alignment</dd>
                <dd id="SumEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="SumEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="SumEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="SumEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="SumEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="sum_evaluator">
                    <div class="attr variable">
            <span class="name">sum_evaluator</span>        =
<span class="default_value">&lt;<a href="#SumEvaluator">icepool.evaluator.SumEvaluator</a> object&gt;</span>

        
    </div>
    <a class="headerlink" href="#sum_evaluator"></a>
    
    

                </section>
                <section id="CountEvaluator">
                            <input id="CountEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">CountEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, int]</span>):

                <label class="view-source-button" for="CountEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CountEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CountEvaluator-83"><a href="#CountEvaluator-83"><span class="linenos"> 83</span></a><span class="k">class</span> <span class="nc">CountEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">int</span><span class="p">]):</span>
</span><span id="CountEvaluator-84"><a href="#CountEvaluator-84"><span class="linenos"> 84</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the total count of outcomes.</span>
</span><span id="CountEvaluator-85"><a href="#CountEvaluator-85"><span class="linenos"> 85</span></a>
</span><span id="CountEvaluator-86"><a href="#CountEvaluator-86"><span class="linenos"> 86</span></a><span class="sd">    Usually not very interesting unless the counts are adjusted by</span>
</span><span id="CountEvaluator-87"><a href="#CountEvaluator-87"><span class="linenos"> 87</span></a><span class="sd">    `AdjustIntCountEvaluator`.</span>
</span><span id="CountEvaluator-88"><a href="#CountEvaluator-88"><span class="linenos"> 88</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="CountEvaluator-89"><a href="#CountEvaluator-89"><span class="linenos"> 89</span></a>
</span><span id="CountEvaluator-90"><a href="#CountEvaluator-90"><span class="linenos"> 90</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="CountEvaluator-91"><a href="#CountEvaluator-91"><span class="linenos"> 91</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="CountEvaluator-92"><a href="#CountEvaluator-92"><span class="linenos"> 92</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">state</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">count</span>
</span><span id="CountEvaluator-93"><a href="#CountEvaluator-93"><span class="linenos"> 93</span></a>
</span><span id="CountEvaluator-94"><a href="#CountEvaluator-94"><span class="linenos"> 94</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="CountEvaluator-95"><a href="#CountEvaluator-95"><span class="linenos"> 95</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="CountEvaluator-96"><a href="#CountEvaluator-96"><span class="linenos"> 96</span></a>        <span class="k">return</span> <span class="n">final_state</span> <span class="ow">or</span> <span class="mi">0</span>
</span><span id="CountEvaluator-97"><a href="#CountEvaluator-97"><span class="linenos"> 97</span></a>
</span><span id="CountEvaluator-98"><a href="#CountEvaluator-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="CountEvaluator-99"><a href="#CountEvaluator-99"><span class="linenos"> 99</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="CountEvaluator-100"><a href="#CountEvaluator-100"><span class="linenos">100</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Returns the total count of outcomes.</p>

<p>Usually not very interesting unless the counts are adjusted by
<code>AdjustIntCountEvaluator</code>.</p>
</div>


                            <div id="CountEvaluator.next_state" class="classattr">
                                        <input id="CountEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CountEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CountEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CountEvaluator.next_state-90"><a href="#CountEvaluator.next_state-90"><span class="linenos">90</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="CountEvaluator.next_state-91"><a href="#CountEvaluator.next_state-91"><span class="linenos">91</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="CountEvaluator.next_state-92"><a href="#CountEvaluator.next_state-92"><span class="linenos">92</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">state</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">count</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="CountEvaluator.final_outcome" class="classattr">
                                        <input id="CountEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="CountEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CountEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CountEvaluator.final_outcome-94"><a href="#CountEvaluator.final_outcome-94"><span class="linenos">94</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="CountEvaluator.final_outcome-95"><a href="#CountEvaluator.final_outcome-95"><span class="linenos">95</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="CountEvaluator.final_outcome-96"><a href="#CountEvaluator.final_outcome-96"><span class="linenos">96</span></a>        <span class="k">return</span> <span class="n">final_state</span> <span class="ow">or</span> <span class="mi">0</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="CountEvaluator.order" class="classattr">
                                        <input id="CountEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="CountEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CountEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CountEvaluator.order-98"><a href="#CountEvaluator.order-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="CountEvaluator.order-99"><a href="#CountEvaluator.order-99"><span class="linenos"> 99</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="CountEvaluator.order-100"><a href="#CountEvaluator.order-100"><span class="linenos">100</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="CountEvaluator.alignment" class="function">alignment</dd>
                <dd id="CountEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="CountEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="CountEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="CountEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="CountEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="count_evaluator">
                    <div class="attr variable">
            <span class="name">count_evaluator</span>        =
<span class="default_value">&lt;<a href="#CountEvaluator">icepool.evaluator.CountEvaluator</a> object&gt;</span>

        
    </div>
    <a class="headerlink" href="#count_evaluator"></a>
    
    

                </section>
                <section id="AnyEvaluator">
                            <input id="AnyEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AnyEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="AnyEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnyEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnyEvaluator-107"><a href="#AnyEvaluator-107"><span class="linenos">107</span></a><span class="k">class</span> <span class="nc">AnyEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]):</span>
</span><span id="AnyEvaluator-108"><a href="#AnyEvaluator-108"><span class="linenos">108</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns `True` iff at least one count is positive.&quot;&quot;&quot;</span>
</span><span id="AnyEvaluator-109"><a href="#AnyEvaluator-109"><span class="linenos">109</span></a>
</span><span id="AnyEvaluator-110"><a href="#AnyEvaluator-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="AnyEvaluator-111"><a href="#AnyEvaluator-111"><span class="linenos">111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="AnyEvaluator-112"><a href="#AnyEvaluator-112"><span class="linenos">112</span></a>        <span class="k">return</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="AnyEvaluator-113"><a href="#AnyEvaluator-113"><span class="linenos">113</span></a>
</span><span id="AnyEvaluator-114"><a href="#AnyEvaluator-114"><span class="linenos">114</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="AnyEvaluator-115"><a href="#AnyEvaluator-115"><span class="linenos">115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="AnyEvaluator-116"><a href="#AnyEvaluator-116"><span class="linenos">116</span></a>        <span class="k">return</span> <span class="n">final_state</span> <span class="ow">or</span> <span class="kc">False</span>
</span><span id="AnyEvaluator-117"><a href="#AnyEvaluator-117"><span class="linenos">117</span></a>
</span><span id="AnyEvaluator-118"><a href="#AnyEvaluator-118"><span class="linenos">118</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="AnyEvaluator-119"><a href="#AnyEvaluator-119"><span class="linenos">119</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="AnyEvaluator-120"><a href="#AnyEvaluator-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Returns <code>True</code> iff at least one count is positive.</p>
</div>


                            <div id="AnyEvaluator.next_state" class="classattr">
                                        <input id="AnyEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="AnyEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnyEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnyEvaluator.next_state-110"><a href="#AnyEvaluator.next_state-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="AnyEvaluator.next_state-111"><a href="#AnyEvaluator.next_state-111"><span class="linenos">111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="AnyEvaluator.next_state-112"><a href="#AnyEvaluator.next_state-112"><span class="linenos">112</span></a>        <span class="k">return</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="AnyEvaluator.final_outcome" class="classattr">
                                        <input id="AnyEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="AnyEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnyEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnyEvaluator.final_outcome-114"><a href="#AnyEvaluator.final_outcome-114"><span class="linenos">114</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="AnyEvaluator.final_outcome-115"><a href="#AnyEvaluator.final_outcome-115"><span class="linenos">115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="AnyEvaluator.final_outcome-116"><a href="#AnyEvaluator.final_outcome-116"><span class="linenos">116</span></a>        <span class="k">return</span> <span class="n">final_state</span> <span class="ow">or</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="AnyEvaluator.order" class="classattr">
                                        <input id="AnyEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="AnyEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AnyEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AnyEvaluator.order-118"><a href="#AnyEvaluator.order-118"><span class="linenos">118</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="AnyEvaluator.order-119"><a href="#AnyEvaluator.order-119"><span class="linenos">119</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="AnyEvaluator.order-120"><a href="#AnyEvaluator.order-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="AnyEvaluator.alignment" class="function">alignment</dd>
                <dd id="AnyEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="AnyEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="AnyEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="AnyEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="AnyEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="any_evaluator">
                    <div class="attr variable">
            <span class="name">any_evaluator</span>        =
<span class="default_value">&lt;<a href="#AnyEvaluator">icepool.evaluator.AnyEvaluator</a> object&gt;</span>

        
    </div>
    <a class="headerlink" href="#any_evaluator"></a>
    
    

                </section>
                <section id="HighestOutcomeAndCountEvaluator">
                            <input id="HighestOutcomeAndCountEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">HighestOutcomeAndCountEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, tuple[typing.Any, int]]</span>):

                <label class="view-source-button" for="HighestOutcomeAndCountEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#HighestOutcomeAndCountEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="HighestOutcomeAndCountEvaluator-13"><a href="#HighestOutcomeAndCountEvaluator-13"><span class="linenos">13</span></a><span class="k">class</span> <span class="nc">HighestOutcomeAndCountEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]):</span>
</span><span id="HighestOutcomeAndCountEvaluator-14"><a href="#HighestOutcomeAndCountEvaluator-14"><span class="linenos">14</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The highest outcome that has positive count, along with that count.</span>
</span><span id="HighestOutcomeAndCountEvaluator-15"><a href="#HighestOutcomeAndCountEvaluator-15"><span class="linenos">15</span></a>
</span><span id="HighestOutcomeAndCountEvaluator-16"><a href="#HighestOutcomeAndCountEvaluator-16"><span class="linenos">16</span></a><span class="sd">    If no outcomes have positive count, an arbitrary outcome will be produced</span>
</span><span id="HighestOutcomeAndCountEvaluator-17"><a href="#HighestOutcomeAndCountEvaluator-17"><span class="linenos">17</span></a><span class="sd">    with a 0 count.</span>
</span><span id="HighestOutcomeAndCountEvaluator-18"><a href="#HighestOutcomeAndCountEvaluator-18"><span class="linenos">18</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HighestOutcomeAndCountEvaluator-19"><a href="#HighestOutcomeAndCountEvaluator-19"><span class="linenos">19</span></a>
</span><span id="HighestOutcomeAndCountEvaluator-20"><a href="#HighestOutcomeAndCountEvaluator-20"><span class="linenos">20</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="HighestOutcomeAndCountEvaluator-21"><a href="#HighestOutcomeAndCountEvaluator-21"><span class="linenos">21</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="HighestOutcomeAndCountEvaluator-22"><a href="#HighestOutcomeAndCountEvaluator-22"><span class="linenos">22</span></a>        <span class="n">count</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="HighestOutcomeAndCountEvaluator-23"><a href="#HighestOutcomeAndCountEvaluator-23"><span class="linenos">23</span></a>        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator-24"><a href="#HighestOutcomeAndCountEvaluator-24"><span class="linenos">24</span></a>            <span class="k">return</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span>
</span><span id="HighestOutcomeAndCountEvaluator-25"><a href="#HighestOutcomeAndCountEvaluator-25"><span class="linenos">25</span></a>        <span class="k">elif</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator-26"><a href="#HighestOutcomeAndCountEvaluator-26"><span class="linenos">26</span></a>            <span class="k">if</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator-27"><a href="#HighestOutcomeAndCountEvaluator-27"><span class="linenos">27</span></a>                <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="p">(</span><span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">))</span>
</span><span id="HighestOutcomeAndCountEvaluator-28"><a href="#HighestOutcomeAndCountEvaluator-28"><span class="linenos">28</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator-29"><a href="#HighestOutcomeAndCountEvaluator-29"><span class="linenos">29</span></a>                <span class="k">return</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span>
</span><span id="HighestOutcomeAndCountEvaluator-30"><a href="#HighestOutcomeAndCountEvaluator-30"><span class="linenos">30</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator-31"><a href="#HighestOutcomeAndCountEvaluator-31"><span class="linenos">31</span></a>            <span class="k">return</span> <span class="n">state</span>
</span><span id="HighestOutcomeAndCountEvaluator-32"><a href="#HighestOutcomeAndCountEvaluator-32"><span class="linenos">32</span></a>
</span><span id="HighestOutcomeAndCountEvaluator-33"><a href="#HighestOutcomeAndCountEvaluator-33"><span class="linenos">33</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="HighestOutcomeAndCountEvaluator-34"><a href="#HighestOutcomeAndCountEvaluator-34"><span class="linenos">34</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="HighestOutcomeAndCountEvaluator-35"><a href="#HighestOutcomeAndCountEvaluator-35"><span class="linenos">35</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>The highest outcome that has positive count, along with that count.</p>

<p>If no outcomes have positive count, an arbitrary outcome will be produced
with a 0 count.</p>
</div>


                            <div id="HighestOutcomeAndCountEvaluator.next_state" class="classattr">
                                        <input id="HighestOutcomeAndCountEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="HighestOutcomeAndCountEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#HighestOutcomeAndCountEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="HighestOutcomeAndCountEvaluator.next_state-20"><a href="#HighestOutcomeAndCountEvaluator.next_state-20"><span class="linenos">20</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-21"><a href="#HighestOutcomeAndCountEvaluator.next_state-21"><span class="linenos">21</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-22"><a href="#HighestOutcomeAndCountEvaluator.next_state-22"><span class="linenos">22</span></a>        <span class="n">count</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-23"><a href="#HighestOutcomeAndCountEvaluator.next_state-23"><span class="linenos">23</span></a>        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-24"><a href="#HighestOutcomeAndCountEvaluator.next_state-24"><span class="linenos">24</span></a>            <span class="k">return</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-25"><a href="#HighestOutcomeAndCountEvaluator.next_state-25"><span class="linenos">25</span></a>        <span class="k">elif</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-26"><a href="#HighestOutcomeAndCountEvaluator.next_state-26"><span class="linenos">26</span></a>            <span class="k">if</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-27"><a href="#HighestOutcomeAndCountEvaluator.next_state-27"><span class="linenos">27</span></a>                <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="p">(</span><span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">))</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-28"><a href="#HighestOutcomeAndCountEvaluator.next_state-28"><span class="linenos">28</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-29"><a href="#HighestOutcomeAndCountEvaluator.next_state-29"><span class="linenos">29</span></a>                <span class="k">return</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-30"><a href="#HighestOutcomeAndCountEvaluator.next_state-30"><span class="linenos">30</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="HighestOutcomeAndCountEvaluator.next_state-31"><a href="#HighestOutcomeAndCountEvaluator.next_state-31"><span class="linenos">31</span></a>            <span class="k">return</span> <span class="n">state</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="HighestOutcomeAndCountEvaluator.order" class="classattr">
                                        <input id="HighestOutcomeAndCountEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="HighestOutcomeAndCountEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#HighestOutcomeAndCountEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="HighestOutcomeAndCountEvaluator.order-33"><a href="#HighestOutcomeAndCountEvaluator.order-33"><span class="linenos">33</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="HighestOutcomeAndCountEvaluator.order-34"><a href="#HighestOutcomeAndCountEvaluator.order-34"><span class="linenos">34</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="HighestOutcomeAndCountEvaluator.order-35"><a href="#HighestOutcomeAndCountEvaluator.order-35"><span class="linenos">35</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="HighestOutcomeAndCountEvaluator.final_outcome" class="function">final_outcome</dd>
                <dd id="HighestOutcomeAndCountEvaluator.alignment" class="function">alignment</dd>
                <dd id="HighestOutcomeAndCountEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="HighestOutcomeAndCountEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="HighestOutcomeAndCountEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="HighestOutcomeAndCountEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="HighestOutcomeAndCountEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="LargestCountEvaluator">
                            <input id="LargestCountEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LargestCountEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, int]</span>):

                <label class="view-source-button" for="LargestCountEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestCountEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestCountEvaluator-78"><a href="#LargestCountEvaluator-78"><span class="linenos">78</span></a><span class="k">class</span> <span class="nc">LargestCountEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">int</span><span class="p">]):</span>
</span><span id="LargestCountEvaluator-79"><a href="#LargestCountEvaluator-79"><span class="linenos">79</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The largest count of any outcome.&quot;&quot;&quot;</span>
</span><span id="LargestCountEvaluator-80"><a href="#LargestCountEvaluator-80"><span class="linenos">80</span></a>
</span><span id="LargestCountEvaluator-81"><a href="#LargestCountEvaluator-81"><span class="linenos">81</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="LargestCountEvaluator-82"><a href="#LargestCountEvaluator-82"><span class="linenos">82</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestCountEvaluator-83"><a href="#LargestCountEvaluator-83"><span class="linenos">83</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span> <span class="ow">or</span> <span class="n">count</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
</span><span id="LargestCountEvaluator-84"><a href="#LargestCountEvaluator-84"><span class="linenos">84</span></a>
</span><span id="LargestCountEvaluator-85"><a href="#LargestCountEvaluator-85"><span class="linenos">85</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="LargestCountEvaluator-86"><a href="#LargestCountEvaluator-86"><span class="linenos">86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="LargestCountEvaluator-87"><a href="#LargestCountEvaluator-87"><span class="linenos">87</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>The largest count of any outcome.</p>
</div>


                            <div id="LargestCountEvaluator.next_state" class="classattr">
                                        <input id="LargestCountEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">_</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LargestCountEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestCountEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestCountEvaluator.next_state-81"><a href="#LargestCountEvaluator.next_state-81"><span class="linenos">81</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="LargestCountEvaluator.next_state-82"><a href="#LargestCountEvaluator.next_state-82"><span class="linenos">82</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestCountEvaluator.next_state-83"><a href="#LargestCountEvaluator.next_state-83"><span class="linenos">83</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span> <span class="ow">or</span> <span class="n">count</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="LargestCountEvaluator.order" class="classattr">
                                        <input id="LargestCountEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="LargestCountEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestCountEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestCountEvaluator.order-85"><a href="#LargestCountEvaluator.order-85"><span class="linenos">85</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="LargestCountEvaluator.order-86"><a href="#LargestCountEvaluator.order-86"><span class="linenos">86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="LargestCountEvaluator.order-87"><a href="#LargestCountEvaluator.order-87"><span class="linenos">87</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="LargestCountEvaluator.final_outcome" class="function">final_outcome</dd>
                <dd id="LargestCountEvaluator.alignment" class="function">alignment</dd>
                <dd id="LargestCountEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="LargestCountEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="LargestCountEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="LargestCountEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="LargestCountEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="LargestCountAndOutcomeEvaluator">
                            <input id="LargestCountAndOutcomeEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LargestCountAndOutcomeEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, tuple[int, typing.Any]]</span>):

                <label class="view-source-button" for="LargestCountAndOutcomeEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestCountAndOutcomeEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestCountAndOutcomeEvaluator-90"><a href="#LargestCountAndOutcomeEvaluator-90"><span class="linenos">90</span></a><span class="k">class</span> <span class="nc">LargestCountAndOutcomeEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]):</span>
</span><span id="LargestCountAndOutcomeEvaluator-91"><a href="#LargestCountAndOutcomeEvaluator-91"><span class="linenos">91</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The largest count of any outcome, along with that outcome.&quot;&quot;&quot;</span>
</span><span id="LargestCountAndOutcomeEvaluator-92"><a href="#LargestCountAndOutcomeEvaluator-92"><span class="linenos">92</span></a>
</span><span id="LargestCountAndOutcomeEvaluator-93"><a href="#LargestCountAndOutcomeEvaluator-93"><span class="linenos">93</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="LargestCountAndOutcomeEvaluator-94"><a href="#LargestCountAndOutcomeEvaluator-94"><span class="linenos">94</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestCountAndOutcomeEvaluator-95"><a href="#LargestCountAndOutcomeEvaluator-95"><span class="linenos">95</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">outcome</span><span class="p">),</span> <span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">outcome</span><span class="p">))</span>
</span><span id="LargestCountAndOutcomeEvaluator-96"><a href="#LargestCountAndOutcomeEvaluator-96"><span class="linenos">96</span></a>
</span><span id="LargestCountAndOutcomeEvaluator-97"><a href="#LargestCountAndOutcomeEvaluator-97"><span class="linenos">97</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="LargestCountAndOutcomeEvaluator-98"><a href="#LargestCountAndOutcomeEvaluator-98"><span class="linenos">98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="LargestCountAndOutcomeEvaluator-99"><a href="#LargestCountAndOutcomeEvaluator-99"><span class="linenos">99</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>The largest count of any outcome, along with that outcome.</p>
</div>


                            <div id="LargestCountAndOutcomeEvaluator.next_state" class="classattr">
                                        <input id="LargestCountAndOutcomeEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LargestCountAndOutcomeEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestCountAndOutcomeEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestCountAndOutcomeEvaluator.next_state-93"><a href="#LargestCountAndOutcomeEvaluator.next_state-93"><span class="linenos">93</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="LargestCountAndOutcomeEvaluator.next_state-94"><a href="#LargestCountAndOutcomeEvaluator.next_state-94"><span class="linenos">94</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestCountAndOutcomeEvaluator.next_state-95"><a href="#LargestCountAndOutcomeEvaluator.next_state-95"><span class="linenos">95</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">outcome</span><span class="p">),</span> <span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">outcome</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="LargestCountAndOutcomeEvaluator.order" class="classattr">
                                        <input id="LargestCountAndOutcomeEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="LargestCountAndOutcomeEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestCountAndOutcomeEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestCountAndOutcomeEvaluator.order-97"><a href="#LargestCountAndOutcomeEvaluator.order-97"><span class="linenos">97</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="LargestCountAndOutcomeEvaluator.order-98"><a href="#LargestCountAndOutcomeEvaluator.order-98"><span class="linenos">98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="LargestCountAndOutcomeEvaluator.order-99"><a href="#LargestCountAndOutcomeEvaluator.order-99"><span class="linenos">99</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="LargestCountAndOutcomeEvaluator.final_outcome" class="function">final_outcome</dd>
                <dd id="LargestCountAndOutcomeEvaluator.alignment" class="function">alignment</dd>
                <dd id="LargestCountAndOutcomeEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="LargestCountAndOutcomeEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="LargestCountAndOutcomeEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="LargestCountAndOutcomeEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="LargestCountAndOutcomeEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="AllCountsEvaluator">
                            <input id="AllCountsEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">AllCountsEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, tuple[int, ...]]</span>):

                <label class="view-source-button" for="AllCountsEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AllCountsEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AllCountsEvaluator-38"><a href="#AllCountsEvaluator-38"><span class="linenos">38</span></a><span class="k">class</span> <span class="nc">AllCountsEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]]):</span>
</span><span id="AllCountsEvaluator-39"><a href="#AllCountsEvaluator-39"><span class="linenos">39</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;All counts in ascending order.</span>
</span><span id="AllCountsEvaluator-40"><a href="#AllCountsEvaluator-40"><span class="linenos">40</span></a>
</span><span id="AllCountsEvaluator-41"><a href="#AllCountsEvaluator-41"><span class="linenos">41</span></a><span class="sd">    In other words, this produces tuples of the sizes of all matching sets.</span>
</span><span id="AllCountsEvaluator-42"><a href="#AllCountsEvaluator-42"><span class="linenos">42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator-43"><a href="#AllCountsEvaluator-43"><span class="linenos">43</span></a>
</span><span id="AllCountsEvaluator-44"><a href="#AllCountsEvaluator-44"><span class="linenos">44</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AllCountsEvaluator-45"><a href="#AllCountsEvaluator-45"><span class="linenos">45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator-46"><a href="#AllCountsEvaluator-46"><span class="linenos">46</span></a><span class="sd">        Args:</span>
</span><span id="AllCountsEvaluator-47"><a href="#AllCountsEvaluator-47"><span class="linenos">47</span></a><span class="sd">            filter: Any counts below this value will not be in the output.</span>
</span><span id="AllCountsEvaluator-48"><a href="#AllCountsEvaluator-48"><span class="linenos">48</span></a><span class="sd">                For example, `filter=2` will only produce pairs and better.</span>
</span><span id="AllCountsEvaluator-49"><a href="#AllCountsEvaluator-49"><span class="linenos">49</span></a><span class="sd">                If `None`, no filtering will be done.</span>
</span><span id="AllCountsEvaluator-50"><a href="#AllCountsEvaluator-50"><span class="linenos">50</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator-51"><a href="#AllCountsEvaluator-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="nb">filter</span>
</span><span id="AllCountsEvaluator-52"><a href="#AllCountsEvaluator-52"><span class="linenos">52</span></a>
</span><span id="AllCountsEvaluator-53"><a href="#AllCountsEvaluator-53"><span class="linenos">53</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="AllCountsEvaluator-54"><a href="#AllCountsEvaluator-54"><span class="linenos">54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator-55"><a href="#AllCountsEvaluator-55"><span class="linenos">55</span></a>        <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">()</span>
</span><span id="AllCountsEvaluator-56"><a href="#AllCountsEvaluator-56"><span class="linenos">56</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span><span class="p">:</span>
</span><span id="AllCountsEvaluator-57"><a href="#AllCountsEvaluator-57"><span class="linenos">57</span></a>            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">+</span> <span class="p">(</span><span class="n">count</span><span class="p">,)</span>
</span><span id="AllCountsEvaluator-58"><a href="#AllCountsEvaluator-58"><span class="linenos">58</span></a>            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">state</span><span class="p">))</span>
</span><span id="AllCountsEvaluator-59"><a href="#AllCountsEvaluator-59"><span class="linenos">59</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AllCountsEvaluator-60"><a href="#AllCountsEvaluator-60"><span class="linenos">60</span></a>            <span class="k">return</span> <span class="n">state</span>
</span><span id="AllCountsEvaluator-61"><a href="#AllCountsEvaluator-61"><span class="linenos">61</span></a>
</span><span id="AllCountsEvaluator-62"><a href="#AllCountsEvaluator-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="AllCountsEvaluator-63"><a href="#AllCountsEvaluator-63"><span class="linenos">63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator-64"><a href="#AllCountsEvaluator-64"><span class="linenos">64</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AllCountsEvaluator-65"><a href="#AllCountsEvaluator-65"><span class="linenos">65</span></a>            <span class="k">return</span> <span class="p">()</span>
</span><span id="AllCountsEvaluator-66"><a href="#AllCountsEvaluator-66"><span class="linenos">66</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AllCountsEvaluator-67"><a href="#AllCountsEvaluator-67"><span class="linenos">67</span></a>            <span class="k">return</span> <span class="n">final_state</span>
</span><span id="AllCountsEvaluator-68"><a href="#AllCountsEvaluator-68"><span class="linenos">68</span></a>
</span><span id="AllCountsEvaluator-69"><a href="#AllCountsEvaluator-69"><span class="linenos">69</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="AllCountsEvaluator-70"><a href="#AllCountsEvaluator-70"><span class="linenos">70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator-71"><a href="#AllCountsEvaluator-71"><span class="linenos">71</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span><span id="AllCountsEvaluator-72"><a href="#AllCountsEvaluator-72"><span class="linenos">72</span></a>
</span><span id="AllCountsEvaluator-73"><a href="#AllCountsEvaluator-73"><span class="linenos">73</span></a>    <span class="k">def</span> <span class="nf">alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outcomes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">:</span>
</span><span id="AllCountsEvaluator-74"><a href="#AllCountsEvaluator-74"><span class="linenos">74</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Always sees zeros.&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator-75"><a href="#AllCountsEvaluator-75"><span class="linenos">75</span></a>        <span class="k">return</span> <span class="n">outcomes</span>
</span></pre></div>


            <div class="docstring"><p>All counts in ascending order.</p>

<p>In other words, this produces tuples of the sizes of all matching sets.</p>
</div>


                            <div id="AllCountsEvaluator.__init__" class="classattr">
                                        <input id="AllCountsEvaluator.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">AllCountsEvaluator</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span>, </span><span class="param"><span class="nb">filter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">1</span></span>)</span>

                <label class="view-source-button" for="AllCountsEvaluator.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AllCountsEvaluator.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AllCountsEvaluator.__init__-44"><a href="#AllCountsEvaluator.__init__-44"><span class="linenos">44</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AllCountsEvaluator.__init__-45"><a href="#AllCountsEvaluator.__init__-45"><span class="linenos">45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator.__init__-46"><a href="#AllCountsEvaluator.__init__-46"><span class="linenos">46</span></a><span class="sd">        Args:</span>
</span><span id="AllCountsEvaluator.__init__-47"><a href="#AllCountsEvaluator.__init__-47"><span class="linenos">47</span></a><span class="sd">            filter: Any counts below this value will not be in the output.</span>
</span><span id="AllCountsEvaluator.__init__-48"><a href="#AllCountsEvaluator.__init__-48"><span class="linenos">48</span></a><span class="sd">                For example, `filter=2` will only produce pairs and better.</span>
</span><span id="AllCountsEvaluator.__init__-49"><a href="#AllCountsEvaluator.__init__-49"><span class="linenos">49</span></a><span class="sd">                If `None`, no filtering will be done.</span>
</span><span id="AllCountsEvaluator.__init__-50"><a href="#AllCountsEvaluator.__init__-50"><span class="linenos">50</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator.__init__-51"><a href="#AllCountsEvaluator.__init__-51"><span class="linenos">51</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="nb">filter</span>
</span></pre></div>


            <div class="docstring"><h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>filter:</strong>  Any counts below this value will not be in the output.
For example, <code>filter=2</code> will only produce pairs and better.
If <code>None</code>, no filtering will be done.</li>
</ul>
</div>


                            </div>
                            <div id="AllCountsEvaluator.next_state" class="classattr">
                                        <input id="AllCountsEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="AllCountsEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AllCountsEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AllCountsEvaluator.next_state-53"><a href="#AllCountsEvaluator.next_state-53"><span class="linenos">53</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="AllCountsEvaluator.next_state-54"><a href="#AllCountsEvaluator.next_state-54"><span class="linenos">54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator.next_state-55"><a href="#AllCountsEvaluator.next_state-55"><span class="linenos">55</span></a>        <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">()</span>
</span><span id="AllCountsEvaluator.next_state-56"><a href="#AllCountsEvaluator.next_state-56"><span class="linenos">56</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span><span class="p">:</span>
</span><span id="AllCountsEvaluator.next_state-57"><a href="#AllCountsEvaluator.next_state-57"><span class="linenos">57</span></a>            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">+</span> <span class="p">(</span><span class="n">count</span><span class="p">,)</span>
</span><span id="AllCountsEvaluator.next_state-58"><a href="#AllCountsEvaluator.next_state-58"><span class="linenos">58</span></a>            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">state</span><span class="p">))</span>
</span><span id="AllCountsEvaluator.next_state-59"><a href="#AllCountsEvaluator.next_state-59"><span class="linenos">59</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AllCountsEvaluator.next_state-60"><a href="#AllCountsEvaluator.next_state-60"><span class="linenos">60</span></a>            <span class="k">return</span> <span class="n">state</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="AllCountsEvaluator.final_outcome" class="classattr">
                                        <input id="AllCountsEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="nb">tuple</span>:</span></span>

                <label class="view-source-button" for="AllCountsEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AllCountsEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AllCountsEvaluator.final_outcome-62"><a href="#AllCountsEvaluator.final_outcome-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="AllCountsEvaluator.final_outcome-63"><a href="#AllCountsEvaluator.final_outcome-63"><span class="linenos">63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator.final_outcome-64"><a href="#AllCountsEvaluator.final_outcome-64"><span class="linenos">64</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="AllCountsEvaluator.final_outcome-65"><a href="#AllCountsEvaluator.final_outcome-65"><span class="linenos">65</span></a>            <span class="k">return</span> <span class="p">()</span>
</span><span id="AllCountsEvaluator.final_outcome-66"><a href="#AllCountsEvaluator.final_outcome-66"><span class="linenos">66</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="AllCountsEvaluator.final_outcome-67"><a href="#AllCountsEvaluator.final_outcome-67"><span class="linenos">67</span></a>            <span class="k">return</span> <span class="n">final_state</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="AllCountsEvaluator.order" class="classattr">
                                        <input id="AllCountsEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="AllCountsEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AllCountsEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AllCountsEvaluator.order-69"><a href="#AllCountsEvaluator.order-69"><span class="linenos">69</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="AllCountsEvaluator.order-70"><a href="#AllCountsEvaluator.order-70"><span class="linenos">70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator.order-71"><a href="#AllCountsEvaluator.order-71"><span class="linenos">71</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div id="AllCountsEvaluator.alignment" class="classattr">
                                        <input id="AllCountsEvaluator.alignment-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">alignment</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">outcomes</span><span class="p">:</span> <span class="n">Sequence</span></span><span class="return-annotation">) -> <span class="n">Collection</span>:</span></span>

                <label class="view-source-button" for="AllCountsEvaluator.alignment-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AllCountsEvaluator.alignment"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AllCountsEvaluator.alignment-73"><a href="#AllCountsEvaluator.alignment-73"><span class="linenos">73</span></a>    <span class="k">def</span> <span class="nf">alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outcomes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">:</span>
</span><span id="AllCountsEvaluator.alignment-74"><a href="#AllCountsEvaluator.alignment-74"><span class="linenos">74</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Always sees zeros.&quot;&quot;&quot;</span>
</span><span id="AllCountsEvaluator.alignment-75"><a href="#AllCountsEvaluator.alignment-75"><span class="linenos">75</span></a>        <span class="k">return</span> <span class="n">outcomes</span>
</span></pre></div>


            <div class="docstring"><p>Always sees zeros.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="AllCountsEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="AllCountsEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="AllCountsEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="AllCountsEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="AllCountsEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="LargestStraightEvaluator">
                            <input id="LargestStraightEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LargestStraightEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[int, int]</span>):

                <label class="view-source-button" for="LargestStraightEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightEvaluator-102"><a href="#LargestStraightEvaluator-102"><span class="linenos">102</span></a><span class="k">class</span> <span class="nc">LargestStraightEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]):</span>
</span><span id="LargestStraightEvaluator-103"><a href="#LargestStraightEvaluator-103"><span class="linenos">103</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The size of the largest straight.&quot;&quot;&quot;</span>
</span><span id="LargestStraightEvaluator-104"><a href="#LargestStraightEvaluator-104"><span class="linenos">104</span></a>
</span><span id="LargestStraightEvaluator-105"><a href="#LargestStraightEvaluator-105"><span class="linenos">105</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="LargestStraightEvaluator-106"><a href="#LargestStraightEvaluator-106"><span class="linenos">106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestStraightEvaluator-107"><a href="#LargestStraightEvaluator-107"><span class="linenos">107</span></a>        <span class="n">best_run</span><span class="p">,</span> <span class="n">run</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="LargestStraightEvaluator-108"><a href="#LargestStraightEvaluator-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator-109"><a href="#LargestStraightEvaluator-109"><span class="linenos">109</span></a>            <span class="n">run</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="LargestStraightEvaluator-110"><a href="#LargestStraightEvaluator-110"><span class="linenos">110</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator-111"><a href="#LargestStraightEvaluator-111"><span class="linenos">111</span></a>            <span class="n">run</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="LargestStraightEvaluator-112"><a href="#LargestStraightEvaluator-112"><span class="linenos">112</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">best_run</span><span class="p">,</span> <span class="n">run</span><span class="p">),</span> <span class="n">run</span>
</span><span id="LargestStraightEvaluator-113"><a href="#LargestStraightEvaluator-113"><span class="linenos">113</span></a>
</span><span id="LargestStraightEvaluator-114"><a href="#LargestStraightEvaluator-114"><span class="linenos">114</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator-115"><a href="#LargestStraightEvaluator-115"><span class="linenos">115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestStraightEvaluator-116"><a href="#LargestStraightEvaluator-116"><span class="linenos">116</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator-117"><a href="#LargestStraightEvaluator-117"><span class="linenos">117</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="LargestStraightEvaluator-118"><a href="#LargestStraightEvaluator-118"><span class="linenos">118</span></a>        <span class="k">return</span> <span class="n">final_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="LargestStraightEvaluator-119"><a href="#LargestStraightEvaluator-119"><span class="linenos">119</span></a>
</span><span id="LargestStraightEvaluator-120"><a href="#LargestStraightEvaluator-120"><span class="linenos">120</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span><span class="p">]:</span>
</span><span id="LargestStraightEvaluator-121"><a href="#LargestStraightEvaluator-121"><span class="linenos">121</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Ascending order.&quot;&quot;&quot;</span>
</span><span id="LargestStraightEvaluator-122"><a href="#LargestStraightEvaluator-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span>
</span><span id="LargestStraightEvaluator-123"><a href="#LargestStraightEvaluator-123"><span class="linenos">123</span></a>
</span><span id="LargestStraightEvaluator-124"><a href="#LargestStraightEvaluator-124"><span class="linenos">124</span></a>    <span class="n">alignment</span> <span class="o">=</span> <span class="n">MultisetEvaluator</span><span class="o">.</span><span class="n">range_alignment</span>
</span></pre></div>


            <div class="docstring"><p>The size of the largest straight.</p>
</div>


                            <div id="LargestStraightEvaluator.next_state" class="classattr">
                                        <input id="LargestStraightEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">_</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LargestStraightEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightEvaluator.next_state-105"><a href="#LargestStraightEvaluator.next_state-105"><span class="linenos">105</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="LargestStraightEvaluator.next_state-106"><a href="#LargestStraightEvaluator.next_state-106"><span class="linenos">106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestStraightEvaluator.next_state-107"><a href="#LargestStraightEvaluator.next_state-107"><span class="linenos">107</span></a>        <span class="n">best_run</span><span class="p">,</span> <span class="n">run</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="LargestStraightEvaluator.next_state-108"><a href="#LargestStraightEvaluator.next_state-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator.next_state-109"><a href="#LargestStraightEvaluator.next_state-109"><span class="linenos">109</span></a>            <span class="n">run</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="LargestStraightEvaluator.next_state-110"><a href="#LargestStraightEvaluator.next_state-110"><span class="linenos">110</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator.next_state-111"><a href="#LargestStraightEvaluator.next_state-111"><span class="linenos">111</span></a>            <span class="n">run</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="LargestStraightEvaluator.next_state-112"><a href="#LargestStraightEvaluator.next_state-112"><span class="linenos">112</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">best_run</span><span class="p">,</span> <span class="n">run</span><span class="p">),</span> <span class="n">run</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="LargestStraightEvaluator.final_outcome" class="classattr">
                                        <input id="LargestStraightEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="LargestStraightEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightEvaluator.final_outcome-114"><a href="#LargestStraightEvaluator.final_outcome-114"><span class="linenos">114</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator.final_outcome-115"><a href="#LargestStraightEvaluator.final_outcome-115"><span class="linenos">115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestStraightEvaluator.final_outcome-116"><a href="#LargestStraightEvaluator.final_outcome-116"><span class="linenos">116</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator.final_outcome-117"><a href="#LargestStraightEvaluator.final_outcome-117"><span class="linenos">117</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="LargestStraightEvaluator.final_outcome-118"><a href="#LargestStraightEvaluator.final_outcome-118"><span class="linenos">118</span></a>        <span class="k">return</span> <span class="n">final_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="LargestStraightEvaluator.order" class="classattr">
                                        <input id="LargestStraightEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="LargestStraightEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightEvaluator.order-120"><a href="#LargestStraightEvaluator.order-120"><span class="linenos">120</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span><span class="p">]:</span>
</span><span id="LargestStraightEvaluator.order-121"><a href="#LargestStraightEvaluator.order-121"><span class="linenos">121</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Ascending order.&quot;&quot;&quot;</span>
</span><span id="LargestStraightEvaluator.order-122"><a href="#LargestStraightEvaluator.order-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span>
</span></pre></div>


            <div class="docstring"><p>Ascending order.</p>
</div>


                            </div>
                            <div id="LargestStraightEvaluator.alignment" class="classattr">
                                        <input id="LargestStraightEvaluator.alignment-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">alignment</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">outcomes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="LargestStraightEvaluator.alignment-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightEvaluator.alignment"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightEvaluator.alignment-167"><a href="#LargestStraightEvaluator.alignment-167"><span class="linenos">167</span></a>    <span class="k">def</span> <span class="nf">range_alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outcomes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span><span id="LargestStraightEvaluator.alignment-168"><a href="#LargestStraightEvaluator.alignment-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Example implementation of `alignment()` that produces consecutive `int` outcomes.</span>
</span><span id="LargestStraightEvaluator.alignment-169"><a href="#LargestStraightEvaluator.alignment-169"><span class="linenos">169</span></a>
</span><span id="LargestStraightEvaluator.alignment-170"><a href="#LargestStraightEvaluator.alignment-170"><span class="linenos">170</span></a><span class="sd">        There is no expectation that a subclass be able to handle</span>
</span><span id="LargestStraightEvaluator.alignment-171"><a href="#LargestStraightEvaluator.alignment-171"><span class="linenos">171</span></a><span class="sd">        an arbitrary number of generators. Thus, you are free to rename any of</span>
</span><span id="LargestStraightEvaluator.alignment-172"><a href="#LargestStraightEvaluator.alignment-172"><span class="linenos">172</span></a><span class="sd">        the parameters in a subclass, or to replace `*generators` with a fixed</span>
</span><span id="LargestStraightEvaluator.alignment-173"><a href="#LargestStraightEvaluator.alignment-173"><span class="linenos">173</span></a><span class="sd">        set of parameters.</span>
</span><span id="LargestStraightEvaluator.alignment-174"><a href="#LargestStraightEvaluator.alignment-174"><span class="linenos">174</span></a>
</span><span id="LargestStraightEvaluator.alignment-175"><a href="#LargestStraightEvaluator.alignment-175"><span class="linenos">175</span></a><span class="sd">        Set `alignment = icepool.MultisetEvaluator.range_alignment` to use this.</span>
</span><span id="LargestStraightEvaluator.alignment-176"><a href="#LargestStraightEvaluator.alignment-176"><span class="linenos">176</span></a>
</span><span id="LargestStraightEvaluator.alignment-177"><a href="#LargestStraightEvaluator.alignment-177"><span class="linenos">177</span></a><span class="sd">        Returns:</span>
</span><span id="LargestStraightEvaluator.alignment-178"><a href="#LargestStraightEvaluator.alignment-178"><span class="linenos">178</span></a><span class="sd">            All `int`s from the min outcome to the max outcome among the generators,</span>
</span><span id="LargestStraightEvaluator.alignment-179"><a href="#LargestStraightEvaluator.alignment-179"><span class="linenos">179</span></a><span class="sd">            inclusive.</span>
</span><span id="LargestStraightEvaluator.alignment-180"><a href="#LargestStraightEvaluator.alignment-180"><span class="linenos">180</span></a>
</span><span id="LargestStraightEvaluator.alignment-181"><a href="#LargestStraightEvaluator.alignment-181"><span class="linenos">181</span></a><span class="sd">        Raises:</span>
</span><span id="LargestStraightEvaluator.alignment-182"><a href="#LargestStraightEvaluator.alignment-182"><span class="linenos">182</span></a><span class="sd">            TypeError: if any generator has any non-`int` outcome.</span>
</span><span id="LargestStraightEvaluator.alignment-183"><a href="#LargestStraightEvaluator.alignment-183"><span class="linenos">183</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LargestStraightEvaluator.alignment-184"><a href="#LargestStraightEvaluator.alignment-184"><span class="linenos">184</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">outcomes</span><span class="p">:</span>
</span><span id="LargestStraightEvaluator.alignment-185"><a href="#LargestStraightEvaluator.alignment-185"><span class="linenos">185</span></a>            <span class="k">return</span> <span class="p">()</span>
</span><span id="LargestStraightEvaluator.alignment-186"><a href="#LargestStraightEvaluator.alignment-186"><span class="linenos">186</span></a>
</span><span id="LargestStraightEvaluator.alignment-187"><a href="#LargestStraightEvaluator.alignment-187"><span class="linenos">187</span></a>        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outcomes</span><span class="p">):</span>
</span><span id="LargestStraightEvaluator.alignment-188"><a href="#LargestStraightEvaluator.alignment-188"><span class="linenos">188</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
</span><span id="LargestStraightEvaluator.alignment-189"><a href="#LargestStraightEvaluator.alignment-189"><span class="linenos">189</span></a>                <span class="s2">&quot;range_alignment cannot be used with outcomes of type other than &#39;int&#39;.&quot;</span>
</span><span id="LargestStraightEvaluator.alignment-190"><a href="#LargestStraightEvaluator.alignment-190"><span class="linenos">190</span></a>            <span class="p">)</span>
</span><span id="LargestStraightEvaluator.alignment-191"><a href="#LargestStraightEvaluator.alignment-191"><span class="linenos">191</span></a>
</span><span id="LargestStraightEvaluator.alignment-192"><a href="#LargestStraightEvaluator.alignment-192"><span class="linenos">192</span></a>        <span class="k">return</span> <span class="nb">range</span><span class="p">(</span><span class="n">outcomes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">outcomes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Example implementation of <code><a href="#LargestStraightEvaluator.alignment">alignment()</a></code> that produces consecutive <code>int</code> outcomes.</p>

<p>There is no expectation that a subclass be able to handle
an arbitrary number of generators. Thus, you are free to rename any of
the parameters in a subclass, or to replace <code>*generators</code> with a fixed
set of parameters.</p>

<p>Set <code>alignment = <a href="../icepool.html#MultisetEvaluator.range_alignment">icepool.MultisetEvaluator.range_alignment</a></code> to use this.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>All <code>int</code>s from the min outcome to the max outcome among the generators,
  inclusive.</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>TypeError:</strong>  if any generator has any non-<code>int</code> outcome.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="LargestStraightEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="LargestStraightEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="LargestStraightEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="LargestStraightEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="LargestStraightEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="LargestStraightAndOutcomeEvaluator">
                            <input id="LargestStraightAndOutcomeEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">LargestStraightAndOutcomeEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[int, tuple[int, int]]</span>):

                <label class="view-source-button" for="LargestStraightAndOutcomeEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightAndOutcomeEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightAndOutcomeEvaluator-127"><a href="#LargestStraightAndOutcomeEvaluator-127"><span class="linenos">127</span></a><span class="k">class</span> <span class="nc">LargestStraightAndOutcomeEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span>
</span><span id="LargestStraightAndOutcomeEvaluator-128"><a href="#LargestStraightAndOutcomeEvaluator-128"><span class="linenos">128</span></a>                                                                      <span class="nb">int</span><span class="p">]]):</span>
</span><span id="LargestStraightAndOutcomeEvaluator-129"><a href="#LargestStraightAndOutcomeEvaluator-129"><span class="linenos">129</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The size of the largest straight, along with the greatest outcome in that straight.&quot;&quot;&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator-130"><a href="#LargestStraightAndOutcomeEvaluator-130"><span class="linenos">130</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator-131"><a href="#LargestStraightAndOutcomeEvaluator-131"><span class="linenos">131</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="LargestStraightAndOutcomeEvaluator-132"><a href="#LargestStraightAndOutcomeEvaluator-132"><span class="linenos">132</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator-133"><a href="#LargestStraightAndOutcomeEvaluator-133"><span class="linenos">133</span></a>        <span class="n">best_run_and_outcome</span><span class="p">,</span> <span class="n">run</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">outcome</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="LargestStraightAndOutcomeEvaluator-134"><a href="#LargestStraightAndOutcomeEvaluator-134"><span class="linenos">134</span></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="LargestStraightAndOutcomeEvaluator-135"><a href="#LargestStraightAndOutcomeEvaluator-135"><span class="linenos">135</span></a>            <span class="n">run</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="LargestStraightAndOutcomeEvaluator-136"><a href="#LargestStraightAndOutcomeEvaluator-136"><span class="linenos">136</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="LargestStraightAndOutcomeEvaluator-137"><a href="#LargestStraightAndOutcomeEvaluator-137"><span class="linenos">137</span></a>            <span class="n">run</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="LargestStraightAndOutcomeEvaluator-138"><a href="#LargestStraightAndOutcomeEvaluator-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">best_run_and_outcome</span><span class="p">,</span> <span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="n">outcome</span><span class="p">)),</span> <span class="n">run</span>
</span><span id="LargestStraightAndOutcomeEvaluator-139"><a href="#LargestStraightAndOutcomeEvaluator-139"><span class="linenos">139</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator-140"><a href="#LargestStraightAndOutcomeEvaluator-140"><span class="linenos">140</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
</span><span id="LargestStraightAndOutcomeEvaluator-141"><a href="#LargestStraightAndOutcomeEvaluator-141"><span class="linenos">141</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator-142"><a href="#LargestStraightAndOutcomeEvaluator-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="n">final_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="LargestStraightAndOutcomeEvaluator-143"><a href="#LargestStraightAndOutcomeEvaluator-143"><span class="linenos">143</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator-144"><a href="#LargestStraightAndOutcomeEvaluator-144"><span class="linenos">144</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span><span class="p">]:</span>
</span><span id="LargestStraightAndOutcomeEvaluator-145"><a href="#LargestStraightAndOutcomeEvaluator-145"><span class="linenos">145</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Ascending order.&quot;&quot;&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator-146"><a href="#LargestStraightAndOutcomeEvaluator-146"><span class="linenos">146</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span>
</span><span id="LargestStraightAndOutcomeEvaluator-147"><a href="#LargestStraightAndOutcomeEvaluator-147"><span class="linenos">147</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator-148"><a href="#LargestStraightAndOutcomeEvaluator-148"><span class="linenos">148</span></a>    <span class="n">alignment</span> <span class="o">=</span> <span class="n">MultisetEvaluator</span><span class="o">.</span><span class="n">range_alignment</span>
</span></pre></div>


            <div class="docstring"><p>The size of the largest straight, along with the greatest outcome in that straight.</p>
</div>


                            <div id="LargestStraightAndOutcomeEvaluator.next_state" class="classattr">
                                        <input id="LargestStraightAndOutcomeEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="LargestStraightAndOutcomeEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightAndOutcomeEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightAndOutcomeEvaluator.next_state-131"><a href="#LargestStraightAndOutcomeEvaluator.next_state-131"><span class="linenos">131</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="LargestStraightAndOutcomeEvaluator.next_state-132"><a href="#LargestStraightAndOutcomeEvaluator.next_state-132"><span class="linenos">132</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator.next_state-133"><a href="#LargestStraightAndOutcomeEvaluator.next_state-133"><span class="linenos">133</span></a>        <span class="n">best_run_and_outcome</span><span class="p">,</span> <span class="n">run</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">outcome</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="LargestStraightAndOutcomeEvaluator.next_state-134"><a href="#LargestStraightAndOutcomeEvaluator.next_state-134"><span class="linenos">134</span></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="LargestStraightAndOutcomeEvaluator.next_state-135"><a href="#LargestStraightAndOutcomeEvaluator.next_state-135"><span class="linenos">135</span></a>            <span class="n">run</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="LargestStraightAndOutcomeEvaluator.next_state-136"><a href="#LargestStraightAndOutcomeEvaluator.next_state-136"><span class="linenos">136</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="LargestStraightAndOutcomeEvaluator.next_state-137"><a href="#LargestStraightAndOutcomeEvaluator.next_state-137"><span class="linenos">137</span></a>            <span class="n">run</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="LargestStraightAndOutcomeEvaluator.next_state-138"><a href="#LargestStraightAndOutcomeEvaluator.next_state-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">best_run_and_outcome</span><span class="p">,</span> <span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="n">outcome</span><span class="p">)),</span> <span class="n">run</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="LargestStraightAndOutcomeEvaluator.final_outcome" class="classattr">
                                        <input id="LargestStraightAndOutcomeEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="LargestStraightAndOutcomeEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightAndOutcomeEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightAndOutcomeEvaluator.final_outcome-140"><a href="#LargestStraightAndOutcomeEvaluator.final_outcome-140"><span class="linenos">140</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
</span><span id="LargestStraightAndOutcomeEvaluator.final_outcome-141"><a href="#LargestStraightAndOutcomeEvaluator.final_outcome-141"><span class="linenos">141</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator.final_outcome-142"><a href="#LargestStraightAndOutcomeEvaluator.final_outcome-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="n">final_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="LargestStraightAndOutcomeEvaluator.order" class="classattr">
                                        <input id="LargestStraightAndOutcomeEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="LargestStraightAndOutcomeEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightAndOutcomeEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightAndOutcomeEvaluator.order-144"><a href="#LargestStraightAndOutcomeEvaluator.order-144"><span class="linenos">144</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span><span class="p">]:</span>
</span><span id="LargestStraightAndOutcomeEvaluator.order-145"><a href="#LargestStraightAndOutcomeEvaluator.order-145"><span class="linenos">145</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Ascending order.&quot;&quot;&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator.order-146"><a href="#LargestStraightAndOutcomeEvaluator.order-146"><span class="linenos">146</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span>
</span></pre></div>


            <div class="docstring"><p>Ascending order.</p>
</div>


                            </div>
                            <div id="LargestStraightAndOutcomeEvaluator.alignment" class="classattr">
                                        <input id="LargestStraightAndOutcomeEvaluator.alignment-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">alignment</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">outcomes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="LargestStraightAndOutcomeEvaluator.alignment-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LargestStraightAndOutcomeEvaluator.alignment"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LargestStraightAndOutcomeEvaluator.alignment-167"><a href="#LargestStraightAndOutcomeEvaluator.alignment-167"><span class="linenos">167</span></a>    <span class="k">def</span> <span class="nf">range_alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outcomes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-168"><a href="#LargestStraightAndOutcomeEvaluator.alignment-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Example implementation of `alignment()` that produces consecutive `int` outcomes.</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-169"><a href="#LargestStraightAndOutcomeEvaluator.alignment-169"><span class="linenos">169</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-170"><a href="#LargestStraightAndOutcomeEvaluator.alignment-170"><span class="linenos">170</span></a><span class="sd">        There is no expectation that a subclass be able to handle</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-171"><a href="#LargestStraightAndOutcomeEvaluator.alignment-171"><span class="linenos">171</span></a><span class="sd">        an arbitrary number of generators. Thus, you are free to rename any of</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-172"><a href="#LargestStraightAndOutcomeEvaluator.alignment-172"><span class="linenos">172</span></a><span class="sd">        the parameters in a subclass, or to replace `*generators` with a fixed</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-173"><a href="#LargestStraightAndOutcomeEvaluator.alignment-173"><span class="linenos">173</span></a><span class="sd">        set of parameters.</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-174"><a href="#LargestStraightAndOutcomeEvaluator.alignment-174"><span class="linenos">174</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-175"><a href="#LargestStraightAndOutcomeEvaluator.alignment-175"><span class="linenos">175</span></a><span class="sd">        Set `alignment = icepool.MultisetEvaluator.range_alignment` to use this.</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-176"><a href="#LargestStraightAndOutcomeEvaluator.alignment-176"><span class="linenos">176</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-177"><a href="#LargestStraightAndOutcomeEvaluator.alignment-177"><span class="linenos">177</span></a><span class="sd">        Returns:</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-178"><a href="#LargestStraightAndOutcomeEvaluator.alignment-178"><span class="linenos">178</span></a><span class="sd">            All `int`s from the min outcome to the max outcome among the generators,</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-179"><a href="#LargestStraightAndOutcomeEvaluator.alignment-179"><span class="linenos">179</span></a><span class="sd">            inclusive.</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-180"><a href="#LargestStraightAndOutcomeEvaluator.alignment-180"><span class="linenos">180</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-181"><a href="#LargestStraightAndOutcomeEvaluator.alignment-181"><span class="linenos">181</span></a><span class="sd">        Raises:</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-182"><a href="#LargestStraightAndOutcomeEvaluator.alignment-182"><span class="linenos">182</span></a><span class="sd">            TypeError: if any generator has any non-`int` outcome.</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-183"><a href="#LargestStraightAndOutcomeEvaluator.alignment-183"><span class="linenos">183</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-184"><a href="#LargestStraightAndOutcomeEvaluator.alignment-184"><span class="linenos">184</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">outcomes</span><span class="p">:</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-185"><a href="#LargestStraightAndOutcomeEvaluator.alignment-185"><span class="linenos">185</span></a>            <span class="k">return</span> <span class="p">()</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-186"><a href="#LargestStraightAndOutcomeEvaluator.alignment-186"><span class="linenos">186</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-187"><a href="#LargestStraightAndOutcomeEvaluator.alignment-187"><span class="linenos">187</span></a>        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">outcomes</span><span class="p">):</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-188"><a href="#LargestStraightAndOutcomeEvaluator.alignment-188"><span class="linenos">188</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-189"><a href="#LargestStraightAndOutcomeEvaluator.alignment-189"><span class="linenos">189</span></a>                <span class="s2">&quot;range_alignment cannot be used with outcomes of type other than &#39;int&#39;.&quot;</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-190"><a href="#LargestStraightAndOutcomeEvaluator.alignment-190"><span class="linenos">190</span></a>            <span class="p">)</span>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-191"><a href="#LargestStraightAndOutcomeEvaluator.alignment-191"><span class="linenos">191</span></a>
</span><span id="LargestStraightAndOutcomeEvaluator.alignment-192"><a href="#LargestStraightAndOutcomeEvaluator.alignment-192"><span class="linenos">192</span></a>        <span class="k">return</span> <span class="nb">range</span><span class="p">(</span><span class="n">outcomes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">outcomes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Example implementation of <code><a href="#LargestStraightAndOutcomeEvaluator.alignment">alignment()</a></code> that produces consecutive <code>int</code> outcomes.</p>

<p>There is no expectation that a subclass be able to handle
an arbitrary number of generators. Thus, you are free to rename any of
the parameters in a subclass, or to replace <code>*generators</code> with a fixed
set of parameters.</p>

<p>Set <code>alignment = <a href="../icepool.html#MultisetEvaluator.range_alignment">icepool.MultisetEvaluator.range_alignment</a></code> to use this.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>All <code>int</code>s from the min outcome to the max outcome among the generators,
  inclusive.</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>TypeError:</strong>  if any generator has any non-<code>int</code> outcome.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="LargestStraightAndOutcomeEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="LargestStraightAndOutcomeEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="LargestStraightAndOutcomeEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="LargestStraightAndOutcomeEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="LargestStraightAndOutcomeEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ComparisonEvaluator">
                            <input id="ComparisonEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ComparisonEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="ComparisonEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ComparisonEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ComparisonEvaluator-15"><a href="#ComparisonEvaluator-15"><span class="linenos">15</span></a><span class="k">class</span> <span class="nc">ComparisonEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]):</span>
</span><span id="ComparisonEvaluator-16"><a href="#ComparisonEvaluator-16"><span class="linenos">16</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Compares the multisets produced by two generators.&quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator-17"><a href="#ComparisonEvaluator-17"><span class="linenos">17</span></a>
</span><span id="ComparisonEvaluator-18"><a href="#ComparisonEvaluator-18"><span class="linenos">18</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="ComparisonEvaluator-19"><a href="#ComparisonEvaluator-19"><span class="linenos">19</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="ComparisonEvaluator-20"><a href="#ComparisonEvaluator-20"><span class="linenos">20</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Called for each outcome and produces a pair of bools.</span>
</span><span id="ComparisonEvaluator-21"><a href="#ComparisonEvaluator-21"><span class="linenos">21</span></a>
</span><span id="ComparisonEvaluator-22"><a href="#ComparisonEvaluator-22"><span class="linenos">22</span></a><span class="sd">        The final outcome is true iff any of the first and all of the second</span>
</span><span id="ComparisonEvaluator-23"><a href="#ComparisonEvaluator-23"><span class="linenos">23</span></a><span class="sd">        bool are `True`.</span>
</span><span id="ComparisonEvaluator-24"><a href="#ComparisonEvaluator-24"><span class="linenos">24</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator-25"><a href="#ComparisonEvaluator-25"><span class="linenos">25</span></a>
</span><span id="ComparisonEvaluator-26"><a href="#ComparisonEvaluator-26"><span class="linenos">26</span></a>    <span class="nd">@staticmethod</span>
</span><span id="ComparisonEvaluator-27"><a href="#ComparisonEvaluator-27"><span class="linenos">27</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="ComparisonEvaluator-28"><a href="#ComparisonEvaluator-28"><span class="linenos">28</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ComparisonEvaluator-29"><a href="#ComparisonEvaluator-29"><span class="linenos">29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The final outcome if both left and right have no outcomes.&quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator-30"><a href="#ComparisonEvaluator-30"><span class="linenos">30</span></a>
</span><span id="ComparisonEvaluator-31"><a href="#ComparisonEvaluator-31"><span class="linenos">31</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
</span><span id="ComparisonEvaluator-32"><a href="#ComparisonEvaluator-32"><span class="linenos">32</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator-33"><a href="#ComparisonEvaluator-33"><span class="linenos">33</span></a>        <span class="n">has_any</span><span class="p">,</span> <span class="n">has_all</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="ComparisonEvaluator-34"><a href="#ComparisonEvaluator-34"><span class="linenos">34</span></a>        <span class="n">this_any</span><span class="p">,</span> <span class="n">this_all</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">any_all</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
</span><span id="ComparisonEvaluator-35"><a href="#ComparisonEvaluator-35"><span class="linenos">35</span></a>        <span class="n">has_all</span> <span class="o">=</span> <span class="n">has_all</span> <span class="ow">and</span> <span class="n">this_all</span>
</span><span id="ComparisonEvaluator-36"><a href="#ComparisonEvaluator-36"><span class="linenos">36</span></a>        <span class="n">has_any</span> <span class="o">=</span> <span class="n">has_all</span> <span class="ow">and</span> <span class="p">(</span><span class="n">has_any</span> <span class="ow">or</span> <span class="n">this_any</span><span class="p">)</span>
</span><span id="ComparisonEvaluator-37"><a href="#ComparisonEvaluator-37"><span class="linenos">37</span></a>        <span class="k">return</span> <span class="n">has_any</span><span class="p">,</span> <span class="n">has_all</span>
</span><span id="ComparisonEvaluator-38"><a href="#ComparisonEvaluator-38"><span class="linenos">38</span></a>
</span><span id="ComparisonEvaluator-39"><a href="#ComparisonEvaluator-39"><span class="linenos">39</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ComparisonEvaluator-40"><a href="#ComparisonEvaluator-40"><span class="linenos">40</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator-41"><a href="#ComparisonEvaluator-41"><span class="linenos">41</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ComparisonEvaluator-42"><a href="#ComparisonEvaluator-42"><span class="linenos">42</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_outcome</span><span class="p">()</span>
</span><span id="ComparisonEvaluator-43"><a href="#ComparisonEvaluator-43"><span class="linenos">43</span></a>        <span class="n">has_any</span><span class="p">,</span> <span class="n">has_all</span> <span class="o">=</span> <span class="n">final_state</span>
</span><span id="ComparisonEvaluator-44"><a href="#ComparisonEvaluator-44"><span class="linenos">44</span></a>        <span class="k">return</span> <span class="n">has_any</span> <span class="ow">and</span> <span class="n">has_all</span>
</span><span id="ComparisonEvaluator-45"><a href="#ComparisonEvaluator-45"><span class="linenos">45</span></a>
</span><span id="ComparisonEvaluator-46"><a href="#ComparisonEvaluator-46"><span class="linenos">46</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="ComparisonEvaluator-47"><a href="#ComparisonEvaluator-47"><span class="linenos">47</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator-48"><a href="#ComparisonEvaluator-48"><span class="linenos">48</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Compares the multisets produced by two generators.</p>
</div>


                            <div id="ComparisonEvaluator.any_all" class="classattr">
                                        <input id="ComparisonEvaluator.any_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">any_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ComparisonEvaluator.any_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ComparisonEvaluator.any_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ComparisonEvaluator.any_all-18"><a href="#ComparisonEvaluator.any_all-18"><span class="linenos">18</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="ComparisonEvaluator.any_all-19"><a href="#ComparisonEvaluator.any_all-19"><span class="linenos">19</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="ComparisonEvaluator.any_all-20"><a href="#ComparisonEvaluator.any_all-20"><span class="linenos">20</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Called for each outcome and produces a pair of bools.</span>
</span><span id="ComparisonEvaluator.any_all-21"><a href="#ComparisonEvaluator.any_all-21"><span class="linenos">21</span></a>
</span><span id="ComparisonEvaluator.any_all-22"><a href="#ComparisonEvaluator.any_all-22"><span class="linenos">22</span></a><span class="sd">        The final outcome is true iff any of the first and all of the second</span>
</span><span id="ComparisonEvaluator.any_all-23"><a href="#ComparisonEvaluator.any_all-23"><span class="linenos">23</span></a><span class="sd">        bool are `True`.</span>
</span><span id="ComparisonEvaluator.any_all-24"><a href="#ComparisonEvaluator.any_all-24"><span class="linenos">24</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Called for each outcome and produces a pair of bools.</p>

<p>The final outcome is true iff any of the first and all of the second
bool are <code>True</code>.</p>
</div>


                            </div>
                            <div id="ComparisonEvaluator.default_outcome" class="classattr">
                                        <input id="ComparisonEvaluator.default_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>
        <div class="decorator">@abstractmethod</div>

        <span class="def">def</span>
        <span class="name">default_outcome</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="ComparisonEvaluator.default_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ComparisonEvaluator.default_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ComparisonEvaluator.default_outcome-26"><a href="#ComparisonEvaluator.default_outcome-26"><span class="linenos">26</span></a>    <span class="nd">@staticmethod</span>
</span><span id="ComparisonEvaluator.default_outcome-27"><a href="#ComparisonEvaluator.default_outcome-27"><span class="linenos">27</span></a>    <span class="nd">@abstractmethod</span>
</span><span id="ComparisonEvaluator.default_outcome-28"><a href="#ComparisonEvaluator.default_outcome-28"><span class="linenos">28</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ComparisonEvaluator.default_outcome-29"><a href="#ComparisonEvaluator.default_outcome-29"><span class="linenos">29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The final outcome if both left and right have no outcomes.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>The final outcome if both left and right have no outcomes.</p>
</div>


                            </div>
                            <div id="ComparisonEvaluator.next_state" class="classattr">
                                        <input id="ComparisonEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">left</span>, </span><span class="param"><span class="n">right</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ComparisonEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ComparisonEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ComparisonEvaluator.next_state-31"><a href="#ComparisonEvaluator.next_state-31"><span class="linenos">31</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
</span><span id="ComparisonEvaluator.next_state-32"><a href="#ComparisonEvaluator.next_state-32"><span class="linenos">32</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator.next_state-33"><a href="#ComparisonEvaluator.next_state-33"><span class="linenos">33</span></a>        <span class="n">has_any</span><span class="p">,</span> <span class="n">has_all</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="ComparisonEvaluator.next_state-34"><a href="#ComparisonEvaluator.next_state-34"><span class="linenos">34</span></a>        <span class="n">this_any</span><span class="p">,</span> <span class="n">this_all</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">any_all</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
</span><span id="ComparisonEvaluator.next_state-35"><a href="#ComparisonEvaluator.next_state-35"><span class="linenos">35</span></a>        <span class="n">has_all</span> <span class="o">=</span> <span class="n">has_all</span> <span class="ow">and</span> <span class="n">this_all</span>
</span><span id="ComparisonEvaluator.next_state-36"><a href="#ComparisonEvaluator.next_state-36"><span class="linenos">36</span></a>        <span class="n">has_any</span> <span class="o">=</span> <span class="n">has_all</span> <span class="ow">and</span> <span class="p">(</span><span class="n">has_any</span> <span class="ow">or</span> <span class="n">this_any</span><span class="p">)</span>
</span><span id="ComparisonEvaluator.next_state-37"><a href="#ComparisonEvaluator.next_state-37"><span class="linenos">37</span></a>        <span class="k">return</span> <span class="n">has_any</span><span class="p">,</span> <span class="n">has_all</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="ComparisonEvaluator.final_outcome" class="classattr">
                                        <input id="ComparisonEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="ComparisonEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ComparisonEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ComparisonEvaluator.final_outcome-39"><a href="#ComparisonEvaluator.final_outcome-39"><span class="linenos">39</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ComparisonEvaluator.final_outcome-40"><a href="#ComparisonEvaluator.final_outcome-40"><span class="linenos">40</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator.final_outcome-41"><a href="#ComparisonEvaluator.final_outcome-41"><span class="linenos">41</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ComparisonEvaluator.final_outcome-42"><a href="#ComparisonEvaluator.final_outcome-42"><span class="linenos">42</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_outcome</span><span class="p">()</span>
</span><span id="ComparisonEvaluator.final_outcome-43"><a href="#ComparisonEvaluator.final_outcome-43"><span class="linenos">43</span></a>        <span class="n">has_any</span><span class="p">,</span> <span class="n">has_all</span> <span class="o">=</span> <span class="n">final_state</span>
</span><span id="ComparisonEvaluator.final_outcome-44"><a href="#ComparisonEvaluator.final_outcome-44"><span class="linenos">44</span></a>        <span class="k">return</span> <span class="n">has_any</span> <span class="ow">and</span> <span class="n">has_all</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="ComparisonEvaluator.order" class="classattr">
                                        <input id="ComparisonEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Literal</span><span class="p">[</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ComparisonEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ComparisonEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ComparisonEvaluator.order-46"><a href="#ComparisonEvaluator.order-46"><span class="linenos">46</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="ComparisonEvaluator.order-47"><a href="#ComparisonEvaluator.order-47"><span class="linenos">47</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows any order.&quot;&quot;&quot;</span>
</span><span id="ComparisonEvaluator.order-48"><a href="#ComparisonEvaluator.order-48"><span class="linenos">48</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span></pre></div>


            <div class="docstring"><p>Allows any order.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="ComparisonEvaluator.alignment" class="function">alignment</dd>
                <dd id="ComparisonEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="ComparisonEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="ComparisonEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="ComparisonEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="ComparisonEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IsSubsetEvaluator">
                            <input id="IsSubsetEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IsSubsetEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="IsSubsetEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsSubsetEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsSubsetEvaluator-61"><a href="#IsSubsetEvaluator-61"><span class="linenos">61</span></a><span class="k">class</span> <span class="nc">IsSubsetEvaluator</span><span class="p">(</span><span class="n">ComparisonEvaluator</span><span class="p">):</span>
</span><span id="IsSubsetEvaluator-62"><a href="#IsSubsetEvaluator-62"><span class="linenos">62</span></a>
</span><span id="IsSubsetEvaluator-63"><a href="#IsSubsetEvaluator-63"><span class="linenos">63</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsSubsetEvaluator-64"><a href="#IsSubsetEvaluator-64"><span class="linenos">64</span></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span>
</span><span id="IsSubsetEvaluator-65"><a href="#IsSubsetEvaluator-65"><span class="linenos">65</span></a>
</span><span id="IsSubsetEvaluator-66"><a href="#IsSubsetEvaluator-66"><span class="linenos">66</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsSubsetEvaluator-67"><a href="#IsSubsetEvaluator-67"><span class="linenos">67</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsSubsetEvaluator-68"><a href="#IsSubsetEvaluator-68"><span class="linenos">68</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Compares the multisets produced by two generators.</p>
</div>


                            <div id="IsSubsetEvaluator.any_all" class="classattr">
                                        <input id="IsSubsetEvaluator.any_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">any_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="IsSubsetEvaluator.any_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsSubsetEvaluator.any_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsSubsetEvaluator.any_all-63"><a href="#IsSubsetEvaluator.any_all-63"><span class="linenos">63</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsSubsetEvaluator.any_all-64"><a href="#IsSubsetEvaluator.any_all-64"><span class="linenos">64</span></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span>
</span></pre></div>


            <div class="docstring"><p>Called for each outcome and produces a pair of bools.</p>

<p>The final outcome is true iff any of the first and all of the second
bool are <code>True</code>.</p>
</div>


                            </div>
                            <div id="IsSubsetEvaluator.default_outcome" class="classattr">
                                        <input id="IsSubsetEvaluator.default_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">default_outcome</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="IsSubsetEvaluator.default_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsSubsetEvaluator.default_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsSubsetEvaluator.default_outcome-66"><a href="#IsSubsetEvaluator.default_outcome-66"><span class="linenos">66</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsSubsetEvaluator.default_outcome-67"><a href="#IsSubsetEvaluator.default_outcome-67"><span class="linenos">67</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsSubsetEvaluator.default_outcome-68"><a href="#IsSubsetEvaluator.default_outcome-68"><span class="linenos">68</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>The final outcome if both left and right have no outcomes.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ComparisonEvaluator">ComparisonEvaluator</a></dt>
                                <dd id="IsSubsetEvaluator.next_state" class="function"><a href="#ComparisonEvaluator.next_state">next_state</a></dd>
                <dd id="IsSubsetEvaluator.final_outcome" class="function"><a href="#ComparisonEvaluator.final_outcome">final_outcome</a></dd>
                <dd id="IsSubsetEvaluator.order" class="function"><a href="#ComparisonEvaluator.order">order</a></dd>

            </div>
            <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="IsSubsetEvaluator.alignment" class="function">alignment</dd>
                <dd id="IsSubsetEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="IsSubsetEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="IsSubsetEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="IsSubsetEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="IsSubsetEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IsProperSubsetEvaluator">
                            <input id="IsProperSubsetEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IsProperSubsetEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="IsProperSubsetEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsProperSubsetEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsProperSubsetEvaluator-51"><a href="#IsProperSubsetEvaluator-51"><span class="linenos">51</span></a><span class="k">class</span> <span class="nc">IsProperSubsetEvaluator</span><span class="p">(</span><span class="n">ComparisonEvaluator</span><span class="p">):</span>
</span><span id="IsProperSubsetEvaluator-52"><a href="#IsProperSubsetEvaluator-52"><span class="linenos">52</span></a>
</span><span id="IsProperSubsetEvaluator-53"><a href="#IsProperSubsetEvaluator-53"><span class="linenos">53</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsProperSubsetEvaluator-54"><a href="#IsProperSubsetEvaluator-54"><span class="linenos">54</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span>
</span><span id="IsProperSubsetEvaluator-55"><a href="#IsProperSubsetEvaluator-55"><span class="linenos">55</span></a>
</span><span id="IsProperSubsetEvaluator-56"><a href="#IsProperSubsetEvaluator-56"><span class="linenos">56</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsProperSubsetEvaluator-57"><a href="#IsProperSubsetEvaluator-57"><span class="linenos">57</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsProperSubsetEvaluator-58"><a href="#IsProperSubsetEvaluator-58"><span class="linenos">58</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Compares the multisets produced by two generators.</p>
</div>


                            <div id="IsProperSubsetEvaluator.any_all" class="classattr">
                                        <input id="IsProperSubsetEvaluator.any_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">any_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="IsProperSubsetEvaluator.any_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsProperSubsetEvaluator.any_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsProperSubsetEvaluator.any_all-53"><a href="#IsProperSubsetEvaluator.any_all-53"><span class="linenos">53</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsProperSubsetEvaluator.any_all-54"><a href="#IsProperSubsetEvaluator.any_all-54"><span class="linenos">54</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span>
</span></pre></div>


            <div class="docstring"><p>Called for each outcome and produces a pair of bools.</p>

<p>The final outcome is true iff any of the first and all of the second
bool are <code>True</code>.</p>
</div>


                            </div>
                            <div id="IsProperSubsetEvaluator.default_outcome" class="classattr">
                                        <input id="IsProperSubsetEvaluator.default_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">default_outcome</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="IsProperSubsetEvaluator.default_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsProperSubsetEvaluator.default_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsProperSubsetEvaluator.default_outcome-56"><a href="#IsProperSubsetEvaluator.default_outcome-56"><span class="linenos">56</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsProperSubsetEvaluator.default_outcome-57"><a href="#IsProperSubsetEvaluator.default_outcome-57"><span class="linenos">57</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsProperSubsetEvaluator.default_outcome-58"><a href="#IsProperSubsetEvaluator.default_outcome-58"><span class="linenos">58</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>The final outcome if both left and right have no outcomes.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ComparisonEvaluator">ComparisonEvaluator</a></dt>
                                <dd id="IsProperSubsetEvaluator.next_state" class="function"><a href="#ComparisonEvaluator.next_state">next_state</a></dd>
                <dd id="IsProperSubsetEvaluator.final_outcome" class="function"><a href="#ComparisonEvaluator.final_outcome">final_outcome</a></dd>
                <dd id="IsProperSubsetEvaluator.order" class="function"><a href="#ComparisonEvaluator.order">order</a></dd>

            </div>
            <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="IsProperSubsetEvaluator.alignment" class="function">alignment</dd>
                <dd id="IsProperSubsetEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="IsProperSubsetEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="IsProperSubsetEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="IsProperSubsetEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="IsProperSubsetEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IsSupersetEvaluator">
                            <input id="IsSupersetEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IsSupersetEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="IsSupersetEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsSupersetEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsSupersetEvaluator-81"><a href="#IsSupersetEvaluator-81"><span class="linenos">81</span></a><span class="k">class</span> <span class="nc">IsSupersetEvaluator</span><span class="p">(</span><span class="n">ComparisonEvaluator</span><span class="p">):</span>
</span><span id="IsSupersetEvaluator-82"><a href="#IsSupersetEvaluator-82"><span class="linenos">82</span></a>
</span><span id="IsSupersetEvaluator-83"><a href="#IsSupersetEvaluator-83"><span class="linenos">83</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsSupersetEvaluator-84"><a href="#IsSupersetEvaluator-84"><span class="linenos">84</span></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">left</span> <span class="o">&gt;=</span> <span class="n">right</span>
</span><span id="IsSupersetEvaluator-85"><a href="#IsSupersetEvaluator-85"><span class="linenos">85</span></a>
</span><span id="IsSupersetEvaluator-86"><a href="#IsSupersetEvaluator-86"><span class="linenos">86</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsSupersetEvaluator-87"><a href="#IsSupersetEvaluator-87"><span class="linenos">87</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsSupersetEvaluator-88"><a href="#IsSupersetEvaluator-88"><span class="linenos">88</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Compares the multisets produced by two generators.</p>
</div>


                            <div id="IsSupersetEvaluator.any_all" class="classattr">
                                        <input id="IsSupersetEvaluator.any_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">any_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="IsSupersetEvaluator.any_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsSupersetEvaluator.any_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsSupersetEvaluator.any_all-83"><a href="#IsSupersetEvaluator.any_all-83"><span class="linenos">83</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsSupersetEvaluator.any_all-84"><a href="#IsSupersetEvaluator.any_all-84"><span class="linenos">84</span></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">left</span> <span class="o">&gt;=</span> <span class="n">right</span>
</span></pre></div>


            <div class="docstring"><p>Called for each outcome and produces a pair of bools.</p>

<p>The final outcome is true iff any of the first and all of the second
bool are <code>True</code>.</p>
</div>


                            </div>
                            <div id="IsSupersetEvaluator.default_outcome" class="classattr">
                                        <input id="IsSupersetEvaluator.default_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">default_outcome</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="IsSupersetEvaluator.default_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsSupersetEvaluator.default_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsSupersetEvaluator.default_outcome-86"><a href="#IsSupersetEvaluator.default_outcome-86"><span class="linenos">86</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsSupersetEvaluator.default_outcome-87"><a href="#IsSupersetEvaluator.default_outcome-87"><span class="linenos">87</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsSupersetEvaluator.default_outcome-88"><a href="#IsSupersetEvaluator.default_outcome-88"><span class="linenos">88</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>The final outcome if both left and right have no outcomes.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ComparisonEvaluator">ComparisonEvaluator</a></dt>
                                <dd id="IsSupersetEvaluator.next_state" class="function"><a href="#ComparisonEvaluator.next_state">next_state</a></dd>
                <dd id="IsSupersetEvaluator.final_outcome" class="function"><a href="#ComparisonEvaluator.final_outcome">final_outcome</a></dd>
                <dd id="IsSupersetEvaluator.order" class="function"><a href="#ComparisonEvaluator.order">order</a></dd>

            </div>
            <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="IsSupersetEvaluator.alignment" class="function">alignment</dd>
                <dd id="IsSupersetEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="IsSupersetEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="IsSupersetEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="IsSupersetEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="IsSupersetEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IsProperSupersetEvaluator">
                            <input id="IsProperSupersetEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IsProperSupersetEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="IsProperSupersetEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsProperSupersetEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsProperSupersetEvaluator-71"><a href="#IsProperSupersetEvaluator-71"><span class="linenos">71</span></a><span class="k">class</span> <span class="nc">IsProperSupersetEvaluator</span><span class="p">(</span><span class="n">ComparisonEvaluator</span><span class="p">):</span>
</span><span id="IsProperSupersetEvaluator-72"><a href="#IsProperSupersetEvaluator-72"><span class="linenos">72</span></a>
</span><span id="IsProperSupersetEvaluator-73"><a href="#IsProperSupersetEvaluator-73"><span class="linenos">73</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsProperSupersetEvaluator-74"><a href="#IsProperSupersetEvaluator-74"><span class="linenos">74</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span> <span class="o">&gt;=</span> <span class="n">right</span>
</span><span id="IsProperSupersetEvaluator-75"><a href="#IsProperSupersetEvaluator-75"><span class="linenos">75</span></a>
</span><span id="IsProperSupersetEvaluator-76"><a href="#IsProperSupersetEvaluator-76"><span class="linenos">76</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsProperSupersetEvaluator-77"><a href="#IsProperSupersetEvaluator-77"><span class="linenos">77</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsProperSupersetEvaluator-78"><a href="#IsProperSupersetEvaluator-78"><span class="linenos">78</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Compares the multisets produced by two generators.</p>
</div>


                            <div id="IsProperSupersetEvaluator.any_all" class="classattr">
                                        <input id="IsProperSupersetEvaluator.any_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">any_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="IsProperSupersetEvaluator.any_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsProperSupersetEvaluator.any_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsProperSupersetEvaluator.any_all-73"><a href="#IsProperSupersetEvaluator.any_all-73"><span class="linenos">73</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsProperSupersetEvaluator.any_all-74"><a href="#IsProperSupersetEvaluator.any_all-74"><span class="linenos">74</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span> <span class="o">&gt;=</span> <span class="n">right</span>
</span></pre></div>


            <div class="docstring"><p>Called for each outcome and produces a pair of bools.</p>

<p>The final outcome is true iff any of the first and all of the second
bool are <code>True</code>.</p>
</div>


                            </div>
                            <div id="IsProperSupersetEvaluator.default_outcome" class="classattr">
                                        <input id="IsProperSupersetEvaluator.default_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">default_outcome</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="IsProperSupersetEvaluator.default_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsProperSupersetEvaluator.default_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsProperSupersetEvaluator.default_outcome-76"><a href="#IsProperSupersetEvaluator.default_outcome-76"><span class="linenos">76</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsProperSupersetEvaluator.default_outcome-77"><a href="#IsProperSupersetEvaluator.default_outcome-77"><span class="linenos">77</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsProperSupersetEvaluator.default_outcome-78"><a href="#IsProperSupersetEvaluator.default_outcome-78"><span class="linenos">78</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>The final outcome if both left and right have no outcomes.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ComparisonEvaluator">ComparisonEvaluator</a></dt>
                                <dd id="IsProperSupersetEvaluator.next_state" class="function"><a href="#ComparisonEvaluator.next_state">next_state</a></dd>
                <dd id="IsProperSupersetEvaluator.final_outcome" class="function"><a href="#ComparisonEvaluator.final_outcome">final_outcome</a></dd>
                <dd id="IsProperSupersetEvaluator.order" class="function"><a href="#ComparisonEvaluator.order">order</a></dd>

            </div>
            <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="IsProperSupersetEvaluator.alignment" class="function">alignment</dd>
                <dd id="IsProperSupersetEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="IsProperSupersetEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="IsProperSupersetEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="IsProperSupersetEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="IsProperSupersetEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IsEqualSetEvaluator">
                            <input id="IsEqualSetEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IsEqualSetEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="IsEqualSetEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsEqualSetEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsEqualSetEvaluator-91"><a href="#IsEqualSetEvaluator-91"><span class="linenos">91</span></a><span class="k">class</span> <span class="nc">IsEqualSetEvaluator</span><span class="p">(</span><span class="n">ComparisonEvaluator</span><span class="p">):</span>
</span><span id="IsEqualSetEvaluator-92"><a href="#IsEqualSetEvaluator-92"><span class="linenos">92</span></a>
</span><span id="IsEqualSetEvaluator-93"><a href="#IsEqualSetEvaluator-93"><span class="linenos">93</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsEqualSetEvaluator-94"><a href="#IsEqualSetEvaluator-94"><span class="linenos">94</span></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">left</span> <span class="o">==</span> <span class="n">right</span>
</span><span id="IsEqualSetEvaluator-95"><a href="#IsEqualSetEvaluator-95"><span class="linenos">95</span></a>
</span><span id="IsEqualSetEvaluator-96"><a href="#IsEqualSetEvaluator-96"><span class="linenos">96</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsEqualSetEvaluator-97"><a href="#IsEqualSetEvaluator-97"><span class="linenos">97</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsEqualSetEvaluator-98"><a href="#IsEqualSetEvaluator-98"><span class="linenos">98</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Compares the multisets produced by two generators.</p>
</div>


                            <div id="IsEqualSetEvaluator.any_all" class="classattr">
                                        <input id="IsEqualSetEvaluator.any_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">any_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="IsEqualSetEvaluator.any_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsEqualSetEvaluator.any_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsEqualSetEvaluator.any_all-93"><a href="#IsEqualSetEvaluator.any_all-93"><span class="linenos">93</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsEqualSetEvaluator.any_all-94"><a href="#IsEqualSetEvaluator.any_all-94"><span class="linenos">94</span></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">left</span> <span class="o">==</span> <span class="n">right</span>
</span></pre></div>


            <div class="docstring"><p>Called for each outcome and produces a pair of bools.</p>

<p>The final outcome is true iff any of the first and all of the second
bool are <code>True</code>.</p>
</div>


                            </div>
                            <div id="IsEqualSetEvaluator.default_outcome" class="classattr">
                                        <input id="IsEqualSetEvaluator.default_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">default_outcome</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="IsEqualSetEvaluator.default_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsEqualSetEvaluator.default_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsEqualSetEvaluator.default_outcome-96"><a href="#IsEqualSetEvaluator.default_outcome-96"><span class="linenos">96</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsEqualSetEvaluator.default_outcome-97"><a href="#IsEqualSetEvaluator.default_outcome-97"><span class="linenos">97</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsEqualSetEvaluator.default_outcome-98"><a href="#IsEqualSetEvaluator.default_outcome-98"><span class="linenos">98</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>The final outcome if both left and right have no outcomes.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ComparisonEvaluator">ComparisonEvaluator</a></dt>
                                <dd id="IsEqualSetEvaluator.next_state" class="function"><a href="#ComparisonEvaluator.next_state">next_state</a></dd>
                <dd id="IsEqualSetEvaluator.final_outcome" class="function"><a href="#ComparisonEvaluator.final_outcome">final_outcome</a></dd>
                <dd id="IsEqualSetEvaluator.order" class="function"><a href="#ComparisonEvaluator.order">order</a></dd>

            </div>
            <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="IsEqualSetEvaluator.alignment" class="function">alignment</dd>
                <dd id="IsEqualSetEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="IsEqualSetEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="IsEqualSetEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="IsEqualSetEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="IsEqualSetEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IsNotEqualSetEvaluator">
                            <input id="IsNotEqualSetEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IsNotEqualSetEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="IsNotEqualSetEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsNotEqualSetEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsNotEqualSetEvaluator-101"><a href="#IsNotEqualSetEvaluator-101"><span class="linenos">101</span></a><span class="k">class</span> <span class="nc">IsNotEqualSetEvaluator</span><span class="p">(</span><span class="n">ComparisonEvaluator</span><span class="p">):</span>
</span><span id="IsNotEqualSetEvaluator-102"><a href="#IsNotEqualSetEvaluator-102"><span class="linenos">102</span></a>
</span><span id="IsNotEqualSetEvaluator-103"><a href="#IsNotEqualSetEvaluator-103"><span class="linenos">103</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsNotEqualSetEvaluator-104"><a href="#IsNotEqualSetEvaluator-104"><span class="linenos">104</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">!=</span> <span class="n">right</span><span class="p">,</span> <span class="kc">True</span>
</span><span id="IsNotEqualSetEvaluator-105"><a href="#IsNotEqualSetEvaluator-105"><span class="linenos">105</span></a>
</span><span id="IsNotEqualSetEvaluator-106"><a href="#IsNotEqualSetEvaluator-106"><span class="linenos">106</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsNotEqualSetEvaluator-107"><a href="#IsNotEqualSetEvaluator-107"><span class="linenos">107</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsNotEqualSetEvaluator-108"><a href="#IsNotEqualSetEvaluator-108"><span class="linenos">108</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Compares the multisets produced by two generators.</p>
</div>


                            <div id="IsNotEqualSetEvaluator.any_all" class="classattr">
                                        <input id="IsNotEqualSetEvaluator.any_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">any_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="IsNotEqualSetEvaluator.any_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsNotEqualSetEvaluator.any_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsNotEqualSetEvaluator.any_all-103"><a href="#IsNotEqualSetEvaluator.any_all-103"><span class="linenos">103</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsNotEqualSetEvaluator.any_all-104"><a href="#IsNotEqualSetEvaluator.any_all-104"><span class="linenos">104</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">!=</span> <span class="n">right</span><span class="p">,</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Called for each outcome and produces a pair of bools.</p>

<p>The final outcome is true iff any of the first and all of the second
bool are <code>True</code>.</p>
</div>


                            </div>
                            <div id="IsNotEqualSetEvaluator.default_outcome" class="classattr">
                                        <input id="IsNotEqualSetEvaluator.default_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">default_outcome</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="IsNotEqualSetEvaluator.default_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsNotEqualSetEvaluator.default_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsNotEqualSetEvaluator.default_outcome-106"><a href="#IsNotEqualSetEvaluator.default_outcome-106"><span class="linenos">106</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsNotEqualSetEvaluator.default_outcome-107"><a href="#IsNotEqualSetEvaluator.default_outcome-107"><span class="linenos">107</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsNotEqualSetEvaluator.default_outcome-108"><a href="#IsNotEqualSetEvaluator.default_outcome-108"><span class="linenos">108</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>The final outcome if both left and right have no outcomes.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ComparisonEvaluator">ComparisonEvaluator</a></dt>
                                <dd id="IsNotEqualSetEvaluator.next_state" class="function"><a href="#ComparisonEvaluator.next_state">next_state</a></dd>
                <dd id="IsNotEqualSetEvaluator.final_outcome" class="function"><a href="#ComparisonEvaluator.final_outcome">final_outcome</a></dd>
                <dd id="IsNotEqualSetEvaluator.order" class="function"><a href="#ComparisonEvaluator.order">order</a></dd>

            </div>
            <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="IsNotEqualSetEvaluator.alignment" class="function">alignment</dd>
                <dd id="IsNotEqualSetEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="IsNotEqualSetEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="IsNotEqualSetEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="IsNotEqualSetEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="IsNotEqualSetEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IsDisjointSetEvaluator">
                            <input id="IsDisjointSetEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">IsDisjointSetEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, bool]</span>):

                <label class="view-source-button" for="IsDisjointSetEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsDisjointSetEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsDisjointSetEvaluator-111"><a href="#IsDisjointSetEvaluator-111"><span class="linenos">111</span></a><span class="k">class</span> <span class="nc">IsDisjointSetEvaluator</span><span class="p">(</span><span class="n">ComparisonEvaluator</span><span class="p">):</span>
</span><span id="IsDisjointSetEvaluator-112"><a href="#IsDisjointSetEvaluator-112"><span class="linenos">112</span></a>
</span><span id="IsDisjointSetEvaluator-113"><a href="#IsDisjointSetEvaluator-113"><span class="linenos">113</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsDisjointSetEvaluator-114"><a href="#IsDisjointSetEvaluator-114"><span class="linenos">114</span></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="ow">not</span> <span class="p">((</span><span class="n">left</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="n">right</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="IsDisjointSetEvaluator-115"><a href="#IsDisjointSetEvaluator-115"><span class="linenos">115</span></a>
</span><span id="IsDisjointSetEvaluator-116"><a href="#IsDisjointSetEvaluator-116"><span class="linenos">116</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsDisjointSetEvaluator-117"><a href="#IsDisjointSetEvaluator-117"><span class="linenos">117</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsDisjointSetEvaluator-118"><a href="#IsDisjointSetEvaluator-118"><span class="linenos">118</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Compares the multisets produced by two generators.</p>
</div>


                            <div id="IsDisjointSetEvaluator.any_all" class="classattr">
                                        <input id="IsDisjointSetEvaluator.any_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">any_all</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">left</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">right</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="IsDisjointSetEvaluator.any_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsDisjointSetEvaluator.any_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsDisjointSetEvaluator.any_all-113"><a href="#IsDisjointSetEvaluator.any_all-113"><span class="linenos">113</span></a>    <span class="k">def</span> <span class="nf">any_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
</span><span id="IsDisjointSetEvaluator.any_all-114"><a href="#IsDisjointSetEvaluator.any_all-114"><span class="linenos">114</span></a>        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="ow">not</span> <span class="p">((</span><span class="n">left</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="n">right</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Called for each outcome and produces a pair of bools.</p>

<p>The final outcome is true iff any of the first and all of the second
bool are <code>True</code>.</p>
</div>


                            </div>
                            <div id="IsDisjointSetEvaluator.default_outcome" class="classattr">
                                        <input id="IsDisjointSetEvaluator.default_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">default_outcome</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="IsDisjointSetEvaluator.default_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#IsDisjointSetEvaluator.default_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="IsDisjointSetEvaluator.default_outcome-116"><a href="#IsDisjointSetEvaluator.default_outcome-116"><span class="linenos">116</span></a>    <span class="nd">@staticmethod</span>
</span><span id="IsDisjointSetEvaluator.default_outcome-117"><a href="#IsDisjointSetEvaluator.default_outcome-117"><span class="linenos">117</span></a>    <span class="k">def</span> <span class="nf">default_outcome</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="IsDisjointSetEvaluator.default_outcome-118"><a href="#IsDisjointSetEvaluator.default_outcome-118"><span class="linenos">118</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>The final outcome if both left and right have no outcomes.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#ComparisonEvaluator">ComparisonEvaluator</a></dt>
                                <dd id="IsDisjointSetEvaluator.next_state" class="function"><a href="#ComparisonEvaluator.next_state">next_state</a></dd>
                <dd id="IsDisjointSetEvaluator.final_outcome" class="function"><a href="#ComparisonEvaluator.final_outcome">final_outcome</a></dd>
                <dd id="IsDisjointSetEvaluator.order" class="function"><a href="#ComparisonEvaluator.order">order</a></dd>

            </div>
            <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="IsDisjointSetEvaluator.alignment" class="function">alignment</dd>
                <dd id="IsDisjointSetEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="IsDisjointSetEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="IsDisjointSetEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="IsDisjointSetEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="IsDisjointSetEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ConstantEvaluator">
                            <input id="ConstantEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ConstantEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, +U_co]</span>):

                <label class="view-source-button" for="ConstantEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConstantEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConstantEvaluator-12"><a href="#ConstantEvaluator-12"><span class="linenos">12</span></a><span class="k">class</span> <span class="nc">ConstantEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">U_co</span><span class="p">]):</span>
</span><span id="ConstantEvaluator-13"><a href="#ConstantEvaluator-13"><span class="linenos">13</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;An evaluator that ignores its arguments and returns a constant result.&quot;&quot;&quot;</span>
</span><span id="ConstantEvaluator-14"><a href="#ConstantEvaluator-14"><span class="linenos">14</span></a>
</span><span id="ConstantEvaluator-15"><a href="#ConstantEvaluator-15"><span class="linenos">15</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="s1">&#39;icepool.Die[U_co]&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConstantEvaluator-16"><a href="#ConstantEvaluator-16"><span class="linenos">16</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_result</span> <span class="o">=</span> <span class="n">result</span>
</span><span id="ConstantEvaluator-17"><a href="#ConstantEvaluator-17"><span class="linenos">17</span></a>
</span><span id="ConstantEvaluator-18"><a href="#ConstantEvaluator-18"><span class="linenos">18</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="o">*</span><span class="n">counts</span><span class="p">):</span>
</span><span id="ConstantEvaluator-19"><a href="#ConstantEvaluator-19"><span class="linenos">19</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="ConstantEvaluator-20"><a href="#ConstantEvaluator-20"><span class="linenos">20</span></a>
</span><span id="ConstantEvaluator-21"><a href="#ConstantEvaluator-21"><span class="linenos">21</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;icepool.Die[U_co]&#39;</span><span class="p">:</span>
</span><span id="ConstantEvaluator-22"><a href="#ConstantEvaluator-22"><span class="linenos">22</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result</span>
</span></pre></div>


            <div class="docstring"><p>An evaluator that ignores its arguments and returns a constant result.</p>
</div>


                            <div id="ConstantEvaluator.__init__" class="classattr">
                                        <input id="ConstantEvaluator.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ConstantEvaluator</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">result</span><span class="p">:</span> <span class="n">icepool</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">die</span><span class="o">.</span><span class="n">Die</span><span class="p">[</span><span class="o">+</span><span class="n">U_co</span><span class="p">]</span></span>)</span>

                <label class="view-source-button" for="ConstantEvaluator.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConstantEvaluator.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConstantEvaluator.__init__-15"><a href="#ConstantEvaluator.__init__-15"><span class="linenos">15</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="s1">&#39;icepool.Die[U_co]&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConstantEvaluator.__init__-16"><a href="#ConstantEvaluator.__init__-16"><span class="linenos">16</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_result</span> <span class="o">=</span> <span class="n">result</span>
</span></pre></div>


    

                            </div>
                            <div id="ConstantEvaluator.next_state" class="classattr">
                                        <input id="ConstantEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="o">*</span><span class="n">counts</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ConstantEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConstantEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConstantEvaluator.next_state-18"><a href="#ConstantEvaluator.next_state-18"><span class="linenos">18</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="o">*</span><span class="n">counts</span><span class="p">):</span>
</span><span id="ConstantEvaluator.next_state-19"><a href="#ConstantEvaluator.next_state-19"><span class="linenos">19</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>State transition function.</p>

<p>This should produce a state given the previous state, an outcome,
and the number that outcome produced by each generator.</p>

<p><code><a href="#ConstantEvaluator.evaluate">evaluate()</a></code> will always call this using only positional arguments.
Furthermore, there is no expectation that a subclass be able to handle
an arbitrary number of counts. Thus, you are free to rename any of
the parameters in a subclass, or to replace <code>*counts</code> with a fixed set
of parameters.</p>

<p>Make sure to handle the base case where <code>state is None</code>.</p>

<p>States must be hashable. At current, they do not have to be orderable.
However, this may change in the future, and if they are not totally
orderable, you must override <code><a href="#ConstantEvaluator.final_outcome">final_outcome</a></code> to create totally orderable
final outcomes.</p>

<p>The behavior of returning a <code>Die</code> from <code><a href="#ConstantEvaluator.next_state">next_state</a></code> is currently
undefined.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>state:</strong>  A hashable object indicating the state before rolling the
current outcome. If this is the first outcome being considered,
<code>state</code> will be <code>None</code>.</li>
<li><strong>outcome:</strong>  The current outcome.
<code><a href="#ConstantEvaluator.next_state">next_state</a></code> will see all rolled outcomes in monotonic order;
either ascending or descending depending on <code><a href="#ConstantEvaluator.order">order()</a></code>.
If there are multiple generators, the set of outcomes is the
union of the outcomes of the invididual generators. All outcomes
with nonzero count will be seen. Outcomes with zero count
may or may not be seen. If you need to enforce that certain
outcomes are seen even if they have zero count, see
<code><a href="#ConstantEvaluator.alignment">alignment()</a></code>.</li>
<li><strong>*counts:</strong>  One value (usually an <code>int</code>) for each generator output
indicating how many of the current outcome were produced.
All outcomes with nonzero count are guaranteed to be seen.
To guarantee that outcomes are seen even if they have zero
count, override <code><a href="#ConstantEvaluator.alignment">alignment()</a></code>.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>A hashable object indicating the next state.
  The special value <code><a href="../icepool.html#Reroll">icepool.Reroll</a></code> can be used to immediately remove
  the state from consideration, effectively performing a full reroll.</p>
</blockquote>
</div>


                            </div>
                            <div id="ConstantEvaluator.final_outcome" class="classattr">
                                        <input id="ConstantEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">) -> <span class="n">icepool</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">die</span><span class="o">.</span><span class="n">Die</span><span class="p">[</span><span class="o">+</span><span class="n">U_co</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ConstantEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConstantEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConstantEvaluator.final_outcome-21"><a href="#ConstantEvaluator.final_outcome-21"><span class="linenos">21</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;icepool.Die[U_co]&#39;</span><span class="p">:</span>
</span><span id="ConstantEvaluator.final_outcome-22"><a href="#ConstantEvaluator.final_outcome-22"><span class="linenos">22</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result</span>
</span></pre></div>


            <div class="docstring"><p>Optional function to generate a final outcome from a final state.</p>

<p>By default, the final outcome is equal to the final state.
Note that <code>None</code> is not a valid outcome for a <code>Die</code>,
and if there are no outcomes, <code><a href="#ConstantEvaluator.final_outcome">final_outcome</a></code> will be immediately
be callled with <code>final_state=None</code>.
Subclasses that want to handle this case should explicitly define what
happens.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>final_state:</strong>  A state after all outcomes have been processed.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>A final outcome that will be used as part of constructing the result <code>Die</code>.
  As usual for <code>Die()</code>, this could itself be a <code>Die</code> or <code><a href="../icepool.html#Reroll">icepool.Reroll</a></code>.</p>
</blockquote>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="ConstantEvaluator.order" class="function">order</dd>
                <dd id="ConstantEvaluator.alignment" class="function">alignment</dd>
                <dd id="ConstantEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="ConstantEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="ConstantEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="ConstantEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="ConstantEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="KeepEvaluator">
                            <input id="KeepEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">KeepEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[typing.Any, typing.Any]</span>):

                <label class="view-source-button" for="KeepEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#KeepEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="KeepEvaluator-9"><a href="#KeepEvaluator-9"><span class="linenos"> 9</span></a><span class="k">class</span> <span class="nc">KeepEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
</span><span id="KeepEvaluator-10"><a href="#KeepEvaluator-10"><span class="linenos">10</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Produces the outcome at a given sorted index.</span>
</span><span id="KeepEvaluator-11"><a href="#KeepEvaluator-11"><span class="linenos">11</span></a>
</span><span id="KeepEvaluator-12"><a href="#KeepEvaluator-12"><span class="linenos">12</span></a><span class="sd">    The attached generator or expression must produce enough values to reach</span>
</span><span id="KeepEvaluator-13"><a href="#KeepEvaluator-13"><span class="linenos">13</span></a><span class="sd">    the sorted index; otherwise, this raises `IndexError`.</span>
</span><span id="KeepEvaluator-14"><a href="#KeepEvaluator-14"><span class="linenos">14</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="KeepEvaluator-15"><a href="#KeepEvaluator-15"><span class="linenos">15</span></a>
</span><span id="KeepEvaluator-16"><a href="#KeepEvaluator-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator-17"><a href="#KeepEvaluator-17"><span class="linenos">17</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="KeepEvaluator-18"><a href="#KeepEvaluator-18"><span class="linenos">18</span></a>
</span><span id="KeepEvaluator-19"><a href="#KeepEvaluator-19"><span class="linenos">19</span></a><span class="sd">        Args:</span>
</span><span id="KeepEvaluator-20"><a href="#KeepEvaluator-20"><span class="linenos">20</span></a><span class="sd">            index: The index to keep.</span>
</span><span id="KeepEvaluator-21"><a href="#KeepEvaluator-21"><span class="linenos">21</span></a><span class="sd">                * If non-negative, this runs in ascending order.</span>
</span><span id="KeepEvaluator-22"><a href="#KeepEvaluator-22"><span class="linenos">22</span></a><span class="sd">                * If negative, this runs in descending order.</span>
</span><span id="KeepEvaluator-23"><a href="#KeepEvaluator-23"><span class="linenos">23</span></a><span class="sd">                * If `None`, this assumes only one element is produced.</span>
</span><span id="KeepEvaluator-24"><a href="#KeepEvaluator-24"><span class="linenos">24</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="KeepEvaluator-25"><a href="#KeepEvaluator-25"><span class="linenos">25</span></a>        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator-26"><a href="#KeepEvaluator-26"><span class="linenos">26</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_skip</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="KeepEvaluator-27"><a href="#KeepEvaluator-27"><span class="linenos">27</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span><span id="KeepEvaluator-28"><a href="#KeepEvaluator-28"><span class="linenos">28</span></a>        <span class="k">elif</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="KeepEvaluator-29"><a href="#KeepEvaluator-29"><span class="linenos">29</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_skip</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="KeepEvaluator-30"><a href="#KeepEvaluator-30"><span class="linenos">30</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span>
</span><span id="KeepEvaluator-31"><a href="#KeepEvaluator-31"><span class="linenos">31</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="KeepEvaluator-32"><a href="#KeepEvaluator-32"><span class="linenos">32</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_skip</span> <span class="o">=</span> <span class="o">-</span><span class="n">index</span>
</span><span id="KeepEvaluator-33"><a href="#KeepEvaluator-33"><span class="linenos">33</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">Descending</span>
</span><span id="KeepEvaluator-34"><a href="#KeepEvaluator-34"><span class="linenos">34</span></a>
</span><span id="KeepEvaluator-35"><a href="#KeepEvaluator-35"><span class="linenos">35</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="KeepEvaluator-36"><a href="#KeepEvaluator-36"><span class="linenos">36</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="KeepEvaluator-37"><a href="#KeepEvaluator-37"><span class="linenos">37</span></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="KeepEvaluator-38"><a href="#KeepEvaluator-38"><span class="linenos">38</span></a>            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span>
</span><span id="KeepEvaluator-39"><a href="#KeepEvaluator-39"><span class="linenos">39</span></a>                <span class="s1">&#39;KeepEvaluator is not compatible with incoming negative counts.&#39;</span>
</span><span id="KeepEvaluator-40"><a href="#KeepEvaluator-40"><span class="linenos">40</span></a>            <span class="p">)</span>
</span><span id="KeepEvaluator-41"><a href="#KeepEvaluator-41"><span class="linenos">41</span></a>        <span class="n">result</span><span class="p">,</span> <span class="n">remaining</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_skip</span><span class="p">)</span>
</span><span id="KeepEvaluator-42"><a href="#KeepEvaluator-42"><span class="linenos">42</span></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">==</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span> <span class="ow">and</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator-43"><a href="#KeepEvaluator-43"><span class="linenos">43</span></a>            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;Expected exactly one element.&#39;</span><span class="p">)</span>
</span><span id="KeepEvaluator-44"><a href="#KeepEvaluator-44"><span class="linenos">44</span></a>        <span class="n">remaining</span> <span class="o">-=</span> <span class="n">count</span>
</span><span id="KeepEvaluator-45"><a href="#KeepEvaluator-45"><span class="linenos">45</span></a>        <span class="k">if</span> <span class="n">remaining</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator-46"><a href="#KeepEvaluator-46"><span class="linenos">46</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">outcome</span>
</span><span id="KeepEvaluator-47"><a href="#KeepEvaluator-47"><span class="linenos">47</span></a>        <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="n">remaining</span>
</span><span id="KeepEvaluator-48"><a href="#KeepEvaluator-48"><span class="linenos">48</span></a>
</span><span id="KeepEvaluator-49"><a href="#KeepEvaluator-49"><span class="linenos">49</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">):</span>
</span><span id="KeepEvaluator-50"><a href="#KeepEvaluator-50"><span class="linenos">50</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="KeepEvaluator-51"><a href="#KeepEvaluator-51"><span class="linenos">51</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator-52"><a href="#KeepEvaluator-52"><span class="linenos">52</span></a>            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;No outcomes were seen.&#39;</span><span class="p">)</span>
</span><span id="KeepEvaluator-53"><a href="#KeepEvaluator-53"><span class="linenos">53</span></a>        <span class="k">if</span> <span class="n">final_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator-54"><a href="#KeepEvaluator-54"><span class="linenos">54</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">==</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
</span><span id="KeepEvaluator-55"><a href="#KeepEvaluator-55"><span class="linenos">55</span></a>                <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;Expected exactly one element.&#39;</span><span class="p">)</span>
</span><span id="KeepEvaluator-56"><a href="#KeepEvaluator-56"><span class="linenos">56</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="KeepEvaluator-57"><a href="#KeepEvaluator-57"><span class="linenos">57</span></a>                <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span>
</span><span id="KeepEvaluator-58"><a href="#KeepEvaluator-58"><span class="linenos">58</span></a>                    <span class="sa">f</span><span class="s1">&#39;Evaluation ended </span><span class="si">{</span><span class="n">final_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1"> element(s) short of reaching the kept index.&#39;</span>
</span><span id="KeepEvaluator-59"><a href="#KeepEvaluator-59"><span class="linenos">59</span></a>                <span class="p">)</span>
</span><span id="KeepEvaluator-60"><a href="#KeepEvaluator-60"><span class="linenos">60</span></a>        <span class="k">return</span> <span class="n">final_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="KeepEvaluator-61"><a href="#KeepEvaluator-61"><span class="linenos">61</span></a>
</span><span id="KeepEvaluator-62"><a href="#KeepEvaluator-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Order</span><span class="p">:</span>
</span><span id="KeepEvaluator-63"><a href="#KeepEvaluator-63"><span class="linenos">63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The required order is determined by whether the index is negative.&quot;&quot;&quot;</span>
</span><span id="KeepEvaluator-64"><a href="#KeepEvaluator-64"><span class="linenos">64</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span>
</span></pre></div>


            <div class="docstring"><p>Produces the outcome at a given sorted index.</p>

<p>The attached generator or expression must produce enough values to reach
the sorted index; otherwise, this raises <code>IndexError</code>.</p>
</div>


                            <div id="KeepEvaluator.__init__" class="classattr">
                                        <input id="KeepEvaluator.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">KeepEvaluator</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="KeepEvaluator.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#KeepEvaluator.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="KeepEvaluator.__init__-16"><a href="#KeepEvaluator.__init__-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator.__init__-17"><a href="#KeepEvaluator.__init__-17"><span class="linenos">17</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>
</span><span id="KeepEvaluator.__init__-18"><a href="#KeepEvaluator.__init__-18"><span class="linenos">18</span></a>
</span><span id="KeepEvaluator.__init__-19"><a href="#KeepEvaluator.__init__-19"><span class="linenos">19</span></a><span class="sd">        Args:</span>
</span><span id="KeepEvaluator.__init__-20"><a href="#KeepEvaluator.__init__-20"><span class="linenos">20</span></a><span class="sd">            index: The index to keep.</span>
</span><span id="KeepEvaluator.__init__-21"><a href="#KeepEvaluator.__init__-21"><span class="linenos">21</span></a><span class="sd">                * If non-negative, this runs in ascending order.</span>
</span><span id="KeepEvaluator.__init__-22"><a href="#KeepEvaluator.__init__-22"><span class="linenos">22</span></a><span class="sd">                * If negative, this runs in descending order.</span>
</span><span id="KeepEvaluator.__init__-23"><a href="#KeepEvaluator.__init__-23"><span class="linenos">23</span></a><span class="sd">                * If `None`, this assumes only one element is produced.</span>
</span><span id="KeepEvaluator.__init__-24"><a href="#KeepEvaluator.__init__-24"><span class="linenos">24</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="KeepEvaluator.__init__-25"><a href="#KeepEvaluator.__init__-25"><span class="linenos">25</span></a>        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator.__init__-26"><a href="#KeepEvaluator.__init__-26"><span class="linenos">26</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_skip</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="KeepEvaluator.__init__-27"><a href="#KeepEvaluator.__init__-27"><span class="linenos">27</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span>
</span><span id="KeepEvaluator.__init__-28"><a href="#KeepEvaluator.__init__-28"><span class="linenos">28</span></a>        <span class="k">elif</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="KeepEvaluator.__init__-29"><a href="#KeepEvaluator.__init__-29"><span class="linenos">29</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_skip</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="KeepEvaluator.__init__-30"><a href="#KeepEvaluator.__init__-30"><span class="linenos">30</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">Ascending</span>
</span><span id="KeepEvaluator.__init__-31"><a href="#KeepEvaluator.__init__-31"><span class="linenos">31</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="KeepEvaluator.__init__-32"><a href="#KeepEvaluator.__init__-32"><span class="linenos">32</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_skip</span> <span class="o">=</span> <span class="o">-</span><span class="n">index</span>
</span><span id="KeepEvaluator.__init__-33"><a href="#KeepEvaluator.__init__-33"><span class="linenos">33</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">Descending</span>
</span></pre></div>


            <div class="docstring"><p>Constructor.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>index:</strong>  The index to keep.
<ul>
<li>If non-negative, this runs in ascending order.</li>
<li>If negative, this runs in descending order.</li>
<li>If <code>None</code>, this assumes only one element is produced.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="KeepEvaluator.next_state" class="classattr">
                                        <input id="KeepEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="n">count</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="KeepEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#KeepEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="KeepEvaluator.next_state-35"><a href="#KeepEvaluator.next_state-35"><span class="linenos">35</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="KeepEvaluator.next_state-36"><a href="#KeepEvaluator.next_state-36"><span class="linenos">36</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="KeepEvaluator.next_state-37"><a href="#KeepEvaluator.next_state-37"><span class="linenos">37</span></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="KeepEvaluator.next_state-38"><a href="#KeepEvaluator.next_state-38"><span class="linenos">38</span></a>            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span>
</span><span id="KeepEvaluator.next_state-39"><a href="#KeepEvaluator.next_state-39"><span class="linenos">39</span></a>                <span class="s1">&#39;KeepEvaluator is not compatible with incoming negative counts.&#39;</span>
</span><span id="KeepEvaluator.next_state-40"><a href="#KeepEvaluator.next_state-40"><span class="linenos">40</span></a>            <span class="p">)</span>
</span><span id="KeepEvaluator.next_state-41"><a href="#KeepEvaluator.next_state-41"><span class="linenos">41</span></a>        <span class="n">result</span><span class="p">,</span> <span class="n">remaining</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_skip</span><span class="p">)</span>
</span><span id="KeepEvaluator.next_state-42"><a href="#KeepEvaluator.next_state-42"><span class="linenos">42</span></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">==</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span> <span class="ow">and</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator.next_state-43"><a href="#KeepEvaluator.next_state-43"><span class="linenos">43</span></a>            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;Expected exactly one element.&#39;</span><span class="p">)</span>
</span><span id="KeepEvaluator.next_state-44"><a href="#KeepEvaluator.next_state-44"><span class="linenos">44</span></a>        <span class="n">remaining</span> <span class="o">-=</span> <span class="n">count</span>
</span><span id="KeepEvaluator.next_state-45"><a href="#KeepEvaluator.next_state-45"><span class="linenos">45</span></a>        <span class="k">if</span> <span class="n">remaining</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator.next_state-46"><a href="#KeepEvaluator.next_state-46"><span class="linenos">46</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">outcome</span>
</span><span id="KeepEvaluator.next_state-47"><a href="#KeepEvaluator.next_state-47"><span class="linenos">47</span></a>        <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="n">remaining</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="KeepEvaluator.final_outcome" class="classattr">
                                        <input id="KeepEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">final_state</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="KeepEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#KeepEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="KeepEvaluator.final_outcome-49"><a href="#KeepEvaluator.final_outcome-49"><span class="linenos">49</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">final_state</span><span class="p">):</span>
</span><span id="KeepEvaluator.final_outcome-50"><a href="#KeepEvaluator.final_outcome-50"><span class="linenos">50</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation.&quot;&quot;&quot;</span>
</span><span id="KeepEvaluator.final_outcome-51"><a href="#KeepEvaluator.final_outcome-51"><span class="linenos">51</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator.final_outcome-52"><a href="#KeepEvaluator.final_outcome-52"><span class="linenos">52</span></a>            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;No outcomes were seen.&#39;</span><span class="p">)</span>
</span><span id="KeepEvaluator.final_outcome-53"><a href="#KeepEvaluator.final_outcome-53"><span class="linenos">53</span></a>        <span class="k">if</span> <span class="n">final_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="KeepEvaluator.final_outcome-54"><a href="#KeepEvaluator.final_outcome-54"><span class="linenos">54</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">==</span> <span class="n">Order</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
</span><span id="KeepEvaluator.final_outcome-55"><a href="#KeepEvaluator.final_outcome-55"><span class="linenos">55</span></a>                <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s1">&#39;Expected exactly one element.&#39;</span><span class="p">)</span>
</span><span id="KeepEvaluator.final_outcome-56"><a href="#KeepEvaluator.final_outcome-56"><span class="linenos">56</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="KeepEvaluator.final_outcome-57"><a href="#KeepEvaluator.final_outcome-57"><span class="linenos">57</span></a>                <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span>
</span><span id="KeepEvaluator.final_outcome-58"><a href="#KeepEvaluator.final_outcome-58"><span class="linenos">58</span></a>                    <span class="sa">f</span><span class="s1">&#39;Evaluation ended </span><span class="si">{</span><span class="n">final_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1"> element(s) short of reaching the kept index.&#39;</span>
</span><span id="KeepEvaluator.final_outcome-59"><a href="#KeepEvaluator.final_outcome-59"><span class="linenos">59</span></a>                <span class="p">)</span>
</span><span id="KeepEvaluator.final_outcome-60"><a href="#KeepEvaluator.final_outcome-60"><span class="linenos">60</span></a>        <span class="k">return</span> <span class="n">final_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Implementation.</p>
</div>


                            </div>
                            <div id="KeepEvaluator.order" class="classattr">
                                        <input id="KeepEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="typing.html#Order">icepool.typing.Order</a></span>:</span></span>

                <label class="view-source-button" for="KeepEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#KeepEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="KeepEvaluator.order-62"><a href="#KeepEvaluator.order-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Order</span><span class="p">:</span>
</span><span id="KeepEvaluator.order-63"><a href="#KeepEvaluator.order-63"><span class="linenos">63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The required order is determined by whether the index is negative.&quot;&quot;&quot;</span>
</span><span id="KeepEvaluator.order-64"><a href="#KeepEvaluator.order-64"><span class="linenos">64</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span>
</span></pre></div>


            <div class="docstring"><p>The required order is determined by whether the index is negative.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="KeepEvaluator.alignment" class="function">alignment</dd>
                <dd id="KeepEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="KeepEvaluator.prefix_generators" class="function">prefix_generators</dd>
                <dd id="KeepEvaluator.validate_arity" class="function">validate_arity</dd>
                <dd id="KeepEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="KeepEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ExpressionEvaluator">
                            <input id="ExpressionEvaluator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ExpressionEvaluator</span><wbr>(<span class="base">icepool.evaluator.multiset_evaluator.MultisetEvaluator[-T_contra, +U_co]</span>):

                <label class="view-source-button" for="ExpressionEvaluator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpressionEvaluator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpressionEvaluator-15"><a href="#ExpressionEvaluator-15"><span class="linenos"> 15</span></a><span class="k">class</span> <span class="nc">ExpressionEvaluator</span><span class="p">(</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">T_contra</span><span class="p">,</span> <span class="n">U_co</span><span class="p">]):</span>
</span><span id="ExpressionEvaluator-16"><a href="#ExpressionEvaluator-16"><span class="linenos"> 16</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Assigns an expression to be evaluated first to each input of an evaluator.&quot;&quot;&quot;</span>
</span><span id="ExpressionEvaluator-17"><a href="#ExpressionEvaluator-17"><span class="linenos"> 17</span></a>
</span><span id="ExpressionEvaluator-18"><a href="#ExpressionEvaluator-18"><span class="linenos"> 18</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-19"><a href="#ExpressionEvaluator-19"><span class="linenos"> 19</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="ExpressionEvaluator-20"><a href="#ExpressionEvaluator-20"><span class="linenos"> 20</span></a>            <span class="o">*</span><span class="n">expressions</span><span class="p">:</span> <span class="s1">&#39;icepool.expression.MultisetExpression[T_contra]&#39;</span><span class="p">,</span>
</span><span id="ExpressionEvaluator-21"><a href="#ExpressionEvaluator-21"><span class="linenos"> 21</span></a>            <span class="n">evaluator</span><span class="p">:</span> <span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">T_contra</span><span class="p">,</span> <span class="n">U_co</span><span class="p">],</span>
</span><span id="ExpressionEvaluator-22"><a href="#ExpressionEvaluator-22"><span class="linenos"> 22</span></a>            <span class="n">truth_value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-23"><a href="#ExpressionEvaluator-23"><span class="linenos"> 23</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span> <span class="o">=</span> <span class="n">evaluator</span>
</span><span id="ExpressionEvaluator-24"><a href="#ExpressionEvaluator-24"><span class="linenos"> 24</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bound_generators</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-25"><a href="#ExpressionEvaluator-25"><span class="linenos"> 25</span></a>            <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-26"><a href="#ExpressionEvaluator-26"><span class="linenos"> 26</span></a>                <span class="n">expression</span><span class="o">.</span><span class="n">_bound_generators</span><span class="p">()</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="n">expressions</span><span class="p">))</span>
</span><span id="ExpressionEvaluator-27"><a href="#ExpressionEvaluator-27"><span class="linenos"> 27</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bound_arity</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_bound_generators</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-28"><a href="#ExpressionEvaluator-28"><span class="linenos"> 28</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_free_arity</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-29"><a href="#ExpressionEvaluator-29"><span class="linenos"> 29</span></a>            <span class="p">(</span><span class="n">expression</span><span class="o">.</span><span class="n">_free_arity</span><span class="p">()</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="n">expressions</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-30"><a href="#ExpressionEvaluator-30"><span class="linenos"> 30</span></a>
</span><span id="ExpressionEvaluator-31"><a href="#ExpressionEvaluator-31"><span class="linenos"> 31</span></a>        <span class="n">unbound_expressions</span><span class="p">:</span> <span class="s1">&#39;list[icepool.expression.MultisetExpression[T_contra]]&#39;</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ExpressionEvaluator-32"><a href="#ExpressionEvaluator-32"><span class="linenos"> 32</span></a>        <span class="n">prefix_start</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="ExpressionEvaluator-33"><a href="#ExpressionEvaluator-33"><span class="linenos"> 33</span></a>        <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="n">expressions</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-34"><a href="#ExpressionEvaluator-34"><span class="linenos"> 34</span></a>            <span class="n">unbound_expression</span><span class="p">,</span> <span class="n">prefix_start</span> <span class="o">=</span> <span class="n">expression</span><span class="o">.</span><span class="n">_unbind</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-35"><a href="#ExpressionEvaluator-35"><span class="linenos"> 35</span></a>                <span class="n">prefix_start</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_bound_generators</span><span class="p">))</span>
</span><span id="ExpressionEvaluator-36"><a href="#ExpressionEvaluator-36"><span class="linenos"> 36</span></a>            <span class="n">unbound_expressions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unbound_expression</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-37"><a href="#ExpressionEvaluator-37"><span class="linenos"> 37</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">unbound_expressions</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-38"><a href="#ExpressionEvaluator-38"><span class="linenos"> 38</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_truth_value</span> <span class="o">=</span> <span class="n">truth_value</span>
</span><span id="ExpressionEvaluator-39"><a href="#ExpressionEvaluator-39"><span class="linenos"> 39</span></a>
</span><span id="ExpressionEvaluator-40"><a href="#ExpressionEvaluator-40"><span class="linenos"> 40</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="o">*</span><span class="n">counts</span><span class="p">):</span>
</span><span id="ExpressionEvaluator-41"><a href="#ExpressionEvaluator-41"><span class="linenos"> 41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Adjusts the counts, then forwards to inner.&quot;&quot;&quot;</span>
</span><span id="ExpressionEvaluator-42"><a href="#ExpressionEvaluator-42"><span class="linenos"> 42</span></a>        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-43"><a href="#ExpressionEvaluator-43"><span class="linenos"> 43</span></a>            <span class="n">expression_states</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-44"><a href="#ExpressionEvaluator-44"><span class="linenos"> 44</span></a>            <span class="n">evaluator_state</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ExpressionEvaluator-45"><a href="#ExpressionEvaluator-45"><span class="linenos"> 45</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-46"><a href="#ExpressionEvaluator-46"><span class="linenos"> 46</span></a>            <span class="n">expression_states</span><span class="p">,</span> <span class="n">evaluator_state</span> <span class="o">=</span> <span class="n">state</span>
</span><span id="ExpressionEvaluator-47"><a href="#ExpressionEvaluator-47"><span class="linenos"> 47</span></a>
</span><span id="ExpressionEvaluator-48"><a href="#ExpressionEvaluator-48"><span class="linenos"> 48</span></a>        <span class="n">prefix_counts</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">prefix_generators</span><span class="p">())]</span>
</span><span id="ExpressionEvaluator-49"><a href="#ExpressionEvaluator-49"><span class="linenos"> 49</span></a>        <span class="n">counts</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">prefix_generators</span><span class="p">()):]</span>
</span><span id="ExpressionEvaluator-50"><a href="#ExpressionEvaluator-50"><span class="linenos"> 50</span></a>
</span><span id="ExpressionEvaluator-51"><a href="#ExpressionEvaluator-51"><span class="linenos"> 51</span></a>        <span class="n">expression_states</span><span class="p">,</span> <span class="n">expression_counts</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-52"><a href="#ExpressionEvaluator-52"><span class="linenos"> 52</span></a>            <span class="o">*</span><span class="p">(</span><span class="n">expression</span><span class="o">.</span><span class="n">_next_state</span><span class="p">(</span><span class="n">expression_state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="o">*</span><span class="n">counts</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-53"><a href="#ExpressionEvaluator-53"><span class="linenos"> 53</span></a>              <span class="k">for</span> <span class="n">expression</span><span class="p">,</span> <span class="n">expression_state</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">,</span>
</span><span id="ExpressionEvaluator-54"><a href="#ExpressionEvaluator-54"><span class="linenos"> 54</span></a>                                                      <span class="n">expression_states</span><span class="p">)))</span>
</span><span id="ExpressionEvaluator-55"><a href="#ExpressionEvaluator-55"><span class="linenos"> 55</span></a>        <span class="n">evaluator_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">next_state</span><span class="p">(</span><span class="n">evaluator_state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span>
</span><span id="ExpressionEvaluator-56"><a href="#ExpressionEvaluator-56"><span class="linenos"> 56</span></a>                                                     <span class="o">*</span><span class="n">prefix_counts</span><span class="p">,</span>
</span><span id="ExpressionEvaluator-57"><a href="#ExpressionEvaluator-57"><span class="linenos"> 57</span></a>                                                     <span class="o">*</span><span class="n">expression_counts</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-58"><a href="#ExpressionEvaluator-58"><span class="linenos"> 58</span></a>        <span class="k">return</span> <span class="n">expression_states</span><span class="p">,</span> <span class="n">evaluator_state</span>
</span><span id="ExpressionEvaluator-59"><a href="#ExpressionEvaluator-59"><span class="linenos"> 59</span></a>
</span><span id="ExpressionEvaluator-60"><a href="#ExpressionEvaluator-60"><span class="linenos"> 60</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-61"><a href="#ExpressionEvaluator-61"><span class="linenos"> 61</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="ExpressionEvaluator-62"><a href="#ExpressionEvaluator-62"><span class="linenos"> 62</span></a>            <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;U_co | icepool.Die[U_co] | icepool.RerollType&#39;</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-63"><a href="#ExpressionEvaluator-63"><span class="linenos"> 63</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-64"><a href="#ExpressionEvaluator-64"><span class="linenos"> 64</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">final_outcome</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-65"><a href="#ExpressionEvaluator-65"><span class="linenos"> 65</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-66"><a href="#ExpressionEvaluator-66"><span class="linenos"> 66</span></a>            <span class="n">_</span><span class="p">,</span> <span class="n">evaluator_state</span> <span class="o">=</span> <span class="n">final_state</span>
</span><span id="ExpressionEvaluator-67"><a href="#ExpressionEvaluator-67"><span class="linenos"> 67</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">final_outcome</span><span class="p">(</span><span class="n">evaluator_state</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-68"><a href="#ExpressionEvaluator-68"><span class="linenos"> 68</span></a>
</span><span id="ExpressionEvaluator-69"><a href="#ExpressionEvaluator-69"><span class="linenos"> 69</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Order</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-70"><a href="#ExpressionEvaluator-70"><span class="linenos"> 70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Forwards to inner.&quot;&quot;&quot;</span>
</span><span id="ExpressionEvaluator-71"><a href="#ExpressionEvaluator-71"><span class="linenos"> 71</span></a>        <span class="n">expression_order</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-72"><a href="#ExpressionEvaluator-72"><span class="linenos"> 72</span></a>            <span class="o">*</span><span class="p">(</span><span class="n">expression</span><span class="o">.</span><span class="n">_order</span><span class="p">()</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">))</span>
</span><span id="ExpressionEvaluator-73"><a href="#ExpressionEvaluator-73"><span class="linenos"> 73</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">expression_order</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">order</span><span class="p">())</span>
</span><span id="ExpressionEvaluator-74"><a href="#ExpressionEvaluator-74"><span class="linenos"> 74</span></a>
</span><span id="ExpressionEvaluator-75"><a href="#ExpressionEvaluator-75"><span class="linenos"> 75</span></a>    <span class="k">def</span> <span class="nf">alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">generators</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">[</span><span class="n">T_contra</span><span class="p">]:</span>
</span><span id="ExpressionEvaluator-76"><a href="#ExpressionEvaluator-76"><span class="linenos"> 76</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Forwards to inner.&quot;&quot;&quot;</span>
</span><span id="ExpressionEvaluator-77"><a href="#ExpressionEvaluator-77"><span class="linenos"> 77</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">alignment</span><span class="p">(</span><span class="o">*</span><span class="n">generators</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-78"><a href="#ExpressionEvaluator-78"><span class="linenos"> 78</span></a>
</span><span id="ExpressionEvaluator-79"><a href="#ExpressionEvaluator-79"><span class="linenos"> 79</span></a>    <span class="nd">@cached_property</span>
</span><span id="ExpressionEvaluator-80"><a href="#ExpressionEvaluator-80"><span class="linenos"> 80</span></a>    <span class="k">def</span> <span class="nf">_prefix_generators</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;tuple[icepool.MultisetGenerator, ...]&#39;</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-81"><a href="#ExpressionEvaluator-81"><span class="linenos"> 81</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bound_generators</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">prefix_generators</span><span class="p">()</span>
</span><span id="ExpressionEvaluator-82"><a href="#ExpressionEvaluator-82"><span class="linenos"> 82</span></a>
</span><span id="ExpressionEvaluator-83"><a href="#ExpressionEvaluator-83"><span class="linenos"> 83</span></a>    <span class="k">def</span> <span class="nf">prefix_generators</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;tuple[icepool.MultisetGenerator, ...]&#39;</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-84"><a href="#ExpressionEvaluator-84"><span class="linenos"> 84</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_generators</span>
</span><span id="ExpressionEvaluator-85"><a href="#ExpressionEvaluator-85"><span class="linenos"> 85</span></a>
</span><span id="ExpressionEvaluator-86"><a href="#ExpressionEvaluator-86"><span class="linenos"> 86</span></a>    <span class="k">def</span> <span class="nf">validate_arity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arity</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-87"><a href="#ExpressionEvaluator-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="n">arity</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_free_arity</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-88"><a href="#ExpressionEvaluator-88"><span class="linenos"> 88</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-89"><a href="#ExpressionEvaluator-89"><span class="linenos"> 89</span></a>                <span class="sa">f</span><span class="s1">&#39;Expected arity of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_free_arity</span><span class="si">}</span><span class="s1">, got </span><span class="si">{</span><span class="n">arity</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-90"><a href="#ExpressionEvaluator-90"><span class="linenos"> 90</span></a>
</span><span id="ExpressionEvaluator-91"><a href="#ExpressionEvaluator-91"><span class="linenos"> 91</span></a>    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-92"><a href="#ExpressionEvaluator-92"><span class="linenos"> 92</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_truth_value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-93"><a href="#ExpressionEvaluator-93"><span class="linenos"> 93</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-94"><a href="#ExpressionEvaluator-94"><span class="linenos"> 94</span></a>                <span class="s1">&#39;MultisetExpression only has a truth value if it is the result of the == or != operator.&#39;</span>
</span><span id="ExpressionEvaluator-95"><a href="#ExpressionEvaluator-95"><span class="linenos"> 95</span></a>            <span class="p">)</span>
</span><span id="ExpressionEvaluator-96"><a href="#ExpressionEvaluator-96"><span class="linenos"> 96</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_truth_value</span>
</span><span id="ExpressionEvaluator-97"><a href="#ExpressionEvaluator-97"><span class="linenos"> 97</span></a>
</span><span id="ExpressionEvaluator-98"><a href="#ExpressionEvaluator-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-99"><a href="#ExpressionEvaluator-99"><span class="linenos"> 99</span></a>        <span class="n">input_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_bound_arity</span><span class="si">}</span><span class="s1"> bound, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_free_arity</span><span class="si">}</span><span class="s1"> free&#39;</span>
</span><span id="ExpressionEvaluator-100"><a href="#ExpressionEvaluator-100"><span class="linenos">100</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-101"><a href="#ExpressionEvaluator-101"><span class="linenos">101</span></a>            <span class="n">expression_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="ExpressionEvaluator-102"><a href="#ExpressionEvaluator-102"><span class="linenos">102</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ExpressionEvaluator-103"><a href="#ExpressionEvaluator-103"><span class="linenos">103</span></a>            <span class="n">expression_string</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="ExpressionEvaluator-104"><a href="#ExpressionEvaluator-104"><span class="linenos">104</span></a>                <span class="nb">str</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-105"><a href="#ExpressionEvaluator-105"><span class="linenos">105</span></a>        <span class="n">output_string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="p">)</span>
</span><span id="ExpressionEvaluator-106"><a href="#ExpressionEvaluator-106"><span class="linenos">106</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Expression: </span><span class="si">{</span><span class="n">input_string</span><span class="si">}</span><span class="s1"> -&gt; </span><span class="si">{</span><span class="n">expression_string</span><span class="si">}</span><span class="s1"> -&gt; </span><span class="si">{</span><span class="n">output_string</span><span class="si">}</span><span class="s1">&#39;</span>
</span></pre></div>


            <div class="docstring"><p>Assigns an expression to be evaluated first to each input of an evaluator.</p>
</div>


                            <div id="ExpressionEvaluator.__init__" class="classattr">
                                        <input id="ExpressionEvaluator.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ExpressionEvaluator</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span><span class="n">expressions</span><span class="p">:</span> <span class="n">icepool</span><span class="o">.</span><span class="n">expression</span><span class="o">.</span><span class="n">multiset_expression</span><span class="o">.</span><span class="n">MultisetExpression</span><span class="p">[</span><span class="o">-</span><span class="n">T_contra</span><span class="p">]</span>,</span><span class="param">	<span class="n">evaluator</span><span class="p">:</span> <span class="n">icepool</span><span class="o">.</span><span class="n">evaluator</span><span class="o">.</span><span class="n">multiset_evaluator</span><span class="o">.</span><span class="n">MultisetEvaluator</span><span class="p">[</span><span class="o">-</span><span class="n">T_contra</span><span class="p">,</span> <span class="o">+</span><span class="n">U_co</span><span class="p">]</span>,</span><span class="param">	<span class="n">truth_value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="ExpressionEvaluator.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpressionEvaluator.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpressionEvaluator.__init__-18"><a href="#ExpressionEvaluator.__init__-18"><span class="linenos">18</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.__init__-19"><a href="#ExpressionEvaluator.__init__-19"><span class="linenos">19</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="ExpressionEvaluator.__init__-20"><a href="#ExpressionEvaluator.__init__-20"><span class="linenos">20</span></a>            <span class="o">*</span><span class="n">expressions</span><span class="p">:</span> <span class="s1">&#39;icepool.expression.MultisetExpression[T_contra]&#39;</span><span class="p">,</span>
</span><span id="ExpressionEvaluator.__init__-21"><a href="#ExpressionEvaluator.__init__-21"><span class="linenos">21</span></a>            <span class="n">evaluator</span><span class="p">:</span> <span class="n">MultisetEvaluator</span><span class="p">[</span><span class="n">T_contra</span><span class="p">,</span> <span class="n">U_co</span><span class="p">],</span>
</span><span id="ExpressionEvaluator.__init__-22"><a href="#ExpressionEvaluator.__init__-22"><span class="linenos">22</span></a>            <span class="n">truth_value</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.__init__-23"><a href="#ExpressionEvaluator.__init__-23"><span class="linenos">23</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span> <span class="o">=</span> <span class="n">evaluator</span>
</span><span id="ExpressionEvaluator.__init__-24"><a href="#ExpressionEvaluator.__init__-24"><span class="linenos">24</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bound_generators</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.__init__-25"><a href="#ExpressionEvaluator.__init__-25"><span class="linenos">25</span></a>            <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.__init__-26"><a href="#ExpressionEvaluator.__init__-26"><span class="linenos">26</span></a>                <span class="n">expression</span><span class="o">.</span><span class="n">_bound_generators</span><span class="p">()</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="n">expressions</span><span class="p">))</span>
</span><span id="ExpressionEvaluator.__init__-27"><a href="#ExpressionEvaluator.__init__-27"><span class="linenos">27</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bound_arity</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_bound_generators</span><span class="p">)</span>
</span><span id="ExpressionEvaluator.__init__-28"><a href="#ExpressionEvaluator.__init__-28"><span class="linenos">28</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_free_arity</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.__init__-29"><a href="#ExpressionEvaluator.__init__-29"><span class="linenos">29</span></a>            <span class="p">(</span><span class="n">expression</span><span class="o">.</span><span class="n">_free_arity</span><span class="p">()</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="n">expressions</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="ExpressionEvaluator.__init__-30"><a href="#ExpressionEvaluator.__init__-30"><span class="linenos">30</span></a>
</span><span id="ExpressionEvaluator.__init__-31"><a href="#ExpressionEvaluator.__init__-31"><span class="linenos">31</span></a>        <span class="n">unbound_expressions</span><span class="p">:</span> <span class="s1">&#39;list[icepool.expression.MultisetExpression[T_contra]]&#39;</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ExpressionEvaluator.__init__-32"><a href="#ExpressionEvaluator.__init__-32"><span class="linenos">32</span></a>        <span class="n">prefix_start</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="ExpressionEvaluator.__init__-33"><a href="#ExpressionEvaluator.__init__-33"><span class="linenos">33</span></a>        <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="n">expressions</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.__init__-34"><a href="#ExpressionEvaluator.__init__-34"><span class="linenos">34</span></a>            <span class="n">unbound_expression</span><span class="p">,</span> <span class="n">prefix_start</span> <span class="o">=</span> <span class="n">expression</span><span class="o">.</span><span class="n">_unbind</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.__init__-35"><a href="#ExpressionEvaluator.__init__-35"><span class="linenos">35</span></a>                <span class="n">prefix_start</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_bound_generators</span><span class="p">))</span>
</span><span id="ExpressionEvaluator.__init__-36"><a href="#ExpressionEvaluator.__init__-36"><span class="linenos">36</span></a>            <span class="n">unbound_expressions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unbound_expression</span><span class="p">)</span>
</span><span id="ExpressionEvaluator.__init__-37"><a href="#ExpressionEvaluator.__init__-37"><span class="linenos">37</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">unbound_expressions</span><span class="p">)</span>
</span><span id="ExpressionEvaluator.__init__-38"><a href="#ExpressionEvaluator.__init__-38"><span class="linenos">38</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_truth_value</span> <span class="o">=</span> <span class="n">truth_value</span>
</span></pre></div>


    

                            </div>
                            <div id="ExpressionEvaluator.next_state" class="classattr">
                                        <input id="ExpressionEvaluator.next_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state</span>, </span><span class="param"><span class="n">outcome</span>, </span><span class="param"><span class="o">*</span><span class="n">counts</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ExpressionEvaluator.next_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpressionEvaluator.next_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpressionEvaluator.next_state-40"><a href="#ExpressionEvaluator.next_state-40"><span class="linenos">40</span></a>    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="o">*</span><span class="n">counts</span><span class="p">):</span>
</span><span id="ExpressionEvaluator.next_state-41"><a href="#ExpressionEvaluator.next_state-41"><span class="linenos">41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Adjusts the counts, then forwards to inner.&quot;&quot;&quot;</span>
</span><span id="ExpressionEvaluator.next_state-42"><a href="#ExpressionEvaluator.next_state-42"><span class="linenos">42</span></a>        <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.next_state-43"><a href="#ExpressionEvaluator.next_state-43"><span class="linenos">43</span></a>            <span class="n">expression_states</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">)</span>
</span><span id="ExpressionEvaluator.next_state-44"><a href="#ExpressionEvaluator.next_state-44"><span class="linenos">44</span></a>            <span class="n">evaluator_state</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ExpressionEvaluator.next_state-45"><a href="#ExpressionEvaluator.next_state-45"><span class="linenos">45</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.next_state-46"><a href="#ExpressionEvaluator.next_state-46"><span class="linenos">46</span></a>            <span class="n">expression_states</span><span class="p">,</span> <span class="n">evaluator_state</span> <span class="o">=</span> <span class="n">state</span>
</span><span id="ExpressionEvaluator.next_state-47"><a href="#ExpressionEvaluator.next_state-47"><span class="linenos">47</span></a>
</span><span id="ExpressionEvaluator.next_state-48"><a href="#ExpressionEvaluator.next_state-48"><span class="linenos">48</span></a>        <span class="n">prefix_counts</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">prefix_generators</span><span class="p">())]</span>
</span><span id="ExpressionEvaluator.next_state-49"><a href="#ExpressionEvaluator.next_state-49"><span class="linenos">49</span></a>        <span class="n">counts</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">prefix_generators</span><span class="p">()):]</span>
</span><span id="ExpressionEvaluator.next_state-50"><a href="#ExpressionEvaluator.next_state-50"><span class="linenos">50</span></a>
</span><span id="ExpressionEvaluator.next_state-51"><a href="#ExpressionEvaluator.next_state-51"><span class="linenos">51</span></a>        <span class="n">expression_states</span><span class="p">,</span> <span class="n">expression_counts</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.next_state-52"><a href="#ExpressionEvaluator.next_state-52"><span class="linenos">52</span></a>            <span class="o">*</span><span class="p">(</span><span class="n">expression</span><span class="o">.</span><span class="n">_next_state</span><span class="p">(</span><span class="n">expression_state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="o">*</span><span class="n">counts</span><span class="p">)</span>
</span><span id="ExpressionEvaluator.next_state-53"><a href="#ExpressionEvaluator.next_state-53"><span class="linenos">53</span></a>              <span class="k">for</span> <span class="n">expression</span><span class="p">,</span> <span class="n">expression_state</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">,</span>
</span><span id="ExpressionEvaluator.next_state-54"><a href="#ExpressionEvaluator.next_state-54"><span class="linenos">54</span></a>                                                      <span class="n">expression_states</span><span class="p">)))</span>
</span><span id="ExpressionEvaluator.next_state-55"><a href="#ExpressionEvaluator.next_state-55"><span class="linenos">55</span></a>        <span class="n">evaluator_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">next_state</span><span class="p">(</span><span class="n">evaluator_state</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span>
</span><span id="ExpressionEvaluator.next_state-56"><a href="#ExpressionEvaluator.next_state-56"><span class="linenos">56</span></a>                                                     <span class="o">*</span><span class="n">prefix_counts</span><span class="p">,</span>
</span><span id="ExpressionEvaluator.next_state-57"><a href="#ExpressionEvaluator.next_state-57"><span class="linenos">57</span></a>                                                     <span class="o">*</span><span class="n">expression_counts</span><span class="p">)</span>
</span><span id="ExpressionEvaluator.next_state-58"><a href="#ExpressionEvaluator.next_state-58"><span class="linenos">58</span></a>        <span class="k">return</span> <span class="n">expression_states</span><span class="p">,</span> <span class="n">evaluator_state</span>
</span></pre></div>


            <div class="docstring"><p>Adjusts the counts, then forwards to inner.</p>
</div>


                            </div>
                            <div id="ExpressionEvaluator.final_outcome" class="classattr">
                                        <input id="ExpressionEvaluator.final_outcome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">final_outcome</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">final_state</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="o">+</span><span class="n">U_co</span><span class="p">,</span> <span class="n">icepool</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">die</span><span class="o">.</span><span class="n">Die</span><span class="p">[</span><span class="o">+</span><span class="n">U_co</span><span class="p">],</span> <span class="n"><a href="typing.html#RerollType">icepool.typing.RerollType</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ExpressionEvaluator.final_outcome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpressionEvaluator.final_outcome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpressionEvaluator.final_outcome-60"><a href="#ExpressionEvaluator.final_outcome-60"><span class="linenos">60</span></a>    <span class="k">def</span> <span class="nf">final_outcome</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.final_outcome-61"><a href="#ExpressionEvaluator.final_outcome-61"><span class="linenos">61</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="ExpressionEvaluator.final_outcome-62"><a href="#ExpressionEvaluator.final_outcome-62"><span class="linenos">62</span></a>            <span class="n">final_state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;U_co | icepool.Die[U_co] | icepool.RerollType&#39;</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.final_outcome-63"><a href="#ExpressionEvaluator.final_outcome-63"><span class="linenos">63</span></a>        <span class="k">if</span> <span class="n">final_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.final_outcome-64"><a href="#ExpressionEvaluator.final_outcome-64"><span class="linenos">64</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">final_outcome</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="ExpressionEvaluator.final_outcome-65"><a href="#ExpressionEvaluator.final_outcome-65"><span class="linenos">65</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.final_outcome-66"><a href="#ExpressionEvaluator.final_outcome-66"><span class="linenos">66</span></a>            <span class="n">_</span><span class="p">,</span> <span class="n">evaluator_state</span> <span class="o">=</span> <span class="n">final_state</span>
</span><span id="ExpressionEvaluator.final_outcome-67"><a href="#ExpressionEvaluator.final_outcome-67"><span class="linenos">67</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">final_outcome</span><span class="p">(</span><span class="n">evaluator_state</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Optional function to generate a final outcome from a final state.</p>

<p>By default, the final outcome is equal to the final state.
Note that <code>None</code> is not a valid outcome for a <code>Die</code>,
and if there are no outcomes, <code><a href="#ExpressionEvaluator.final_outcome">final_outcome</a></code> will be immediately
be callled with <code>final_state=None</code>.
Subclasses that want to handle this case should explicitly define what
happens.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>final_state:</strong>  A state after all outcomes have been processed.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>A final outcome that will be used as part of constructing the result <code>Die</code>.
  As usual for <code>Die()</code>, this could itself be a <code>Die</code> or <code><a href="../icepool.html#Reroll">icepool.Reroll</a></code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="ExpressionEvaluator.order" class="classattr">
                                        <input id="ExpressionEvaluator.order-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="typing.html#Order">icepool.typing.Order</a></span>:</span></span>

                <label class="view-source-button" for="ExpressionEvaluator.order-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpressionEvaluator.order"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpressionEvaluator.order-69"><a href="#ExpressionEvaluator.order-69"><span class="linenos">69</span></a>    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Order</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.order-70"><a href="#ExpressionEvaluator.order-70"><span class="linenos">70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Forwards to inner.&quot;&quot;&quot;</span>
</span><span id="ExpressionEvaluator.order-71"><a href="#ExpressionEvaluator.order-71"><span class="linenos">71</span></a>        <span class="n">expression_order</span> <span class="o">=</span> <span class="n">Order</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.order-72"><a href="#ExpressionEvaluator.order-72"><span class="linenos">72</span></a>            <span class="o">*</span><span class="p">(</span><span class="n">expression</span><span class="o">.</span><span class="n">_order</span><span class="p">()</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expressions</span><span class="p">))</span>
</span><span id="ExpressionEvaluator.order-73"><a href="#ExpressionEvaluator.order-73"><span class="linenos">73</span></a>        <span class="k">return</span> <span class="n">Order</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">expression_order</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">order</span><span class="p">())</span>
</span></pre></div>


            <div class="docstring"><p>Forwards to inner.</p>
</div>


                            </div>
                            <div id="ExpressionEvaluator.alignment" class="classattr">
                                        <input id="ExpressionEvaluator.alignment-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">alignment</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">generators</span></span><span class="return-annotation">) -> <span class="n">Collection</span><span class="p">[</span><span class="o">-</span><span class="n">T_contra</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ExpressionEvaluator.alignment-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpressionEvaluator.alignment"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpressionEvaluator.alignment-75"><a href="#ExpressionEvaluator.alignment-75"><span class="linenos">75</span></a>    <span class="k">def</span> <span class="nf">alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">generators</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Collection</span><span class="p">[</span><span class="n">T_contra</span><span class="p">]:</span>
</span><span id="ExpressionEvaluator.alignment-76"><a href="#ExpressionEvaluator.alignment-76"><span class="linenos">76</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Forwards to inner.&quot;&quot;&quot;</span>
</span><span id="ExpressionEvaluator.alignment-77"><a href="#ExpressionEvaluator.alignment-77"><span class="linenos">77</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluator</span><span class="o">.</span><span class="n">alignment</span><span class="p">(</span><span class="o">*</span><span class="n">generators</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Forwards to inner.</p>
</div>


                            </div>
                            <div id="ExpressionEvaluator.prefix_generators" class="classattr">
                                        <input id="ExpressionEvaluator.prefix_generators-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prefix_generators</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="n">icepool</span><span class="o">.</span><span class="n">generator</span><span class="o">.</span><span class="n">multiset_generator</span><span class="o">.</span><span class="n">MultisetGenerator</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ExpressionEvaluator.prefix_generators-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpressionEvaluator.prefix_generators"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpressionEvaluator.prefix_generators-83"><a href="#ExpressionEvaluator.prefix_generators-83"><span class="linenos">83</span></a>    <span class="k">def</span> <span class="nf">prefix_generators</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;tuple[icepool.MultisetGenerator, ...]&#39;</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.prefix_generators-84"><a href="#ExpressionEvaluator.prefix_generators-84"><span class="linenos">84</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prefix_generators</span>
</span></pre></div>


            <div class="docstring"><p>An optional sequence of extra generators whose counts will be prepended to *counts.</p>
</div>


                            </div>
                            <div id="ExpressionEvaluator.validate_arity" class="classattr">
                                        <input id="ExpressionEvaluator.validate_arity-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">validate_arity</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">arity</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ExpressionEvaluator.validate_arity-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ExpressionEvaluator.validate_arity"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ExpressionEvaluator.validate_arity-86"><a href="#ExpressionEvaluator.validate_arity-86"><span class="linenos">86</span></a>    <span class="k">def</span> <span class="nf">validate_arity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arity</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.validate_arity-87"><a href="#ExpressionEvaluator.validate_arity-87"><span class="linenos">87</span></a>        <span class="k">if</span> <span class="n">arity</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_free_arity</span><span class="p">:</span>
</span><span id="ExpressionEvaluator.validate_arity-88"><a href="#ExpressionEvaluator.validate_arity-88"><span class="linenos">88</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="ExpressionEvaluator.validate_arity-89"><a href="#ExpressionEvaluator.validate_arity-89"><span class="linenos">89</span></a>                <span class="sa">f</span><span class="s1">&#39;Expected arity of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_free_arity</span><span class="si">}</span><span class="s1">, got </span><span class="si">{</span><span class="n">arity</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An optional method to verify the total input arity.</p>

<p>This is called after any implicit conversion to generators, but does
not include any <code>extra_generators()</code>.</p>

<p>Overriding <code><a href="#ExpressionEvaluator.next_state">next_state</a></code> with a fixed number of counts will make this
check redundant.</p>

<h6 id="raises">Raises:</h6>

<ul>
<li><code>ValueError</code> if the total input arity is not valid.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>icepool.evaluator.multiset_evaluator.MultisetEvaluator</dt>
                                <dd id="ExpressionEvaluator.range_alignment" class="function">range_alignment</dd>
                <dd id="ExpressionEvaluator.evaluate" class="function">evaluate</dd>
                <dd id="ExpressionEvaluator.sample" class="function">sample</dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>