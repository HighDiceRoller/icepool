"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[2363,125],{99308:(s,n,e)=>{e.r(n),e.d(n,{ISessions:()=>t,Sessions:()=>a});var i=e(74547);const t=new i.Token("@jupyterlite/session:ISessions");var o=e(1005),r=e(81734);class a{constructor(s){this._sessions=[],this._kernels=s.kernels}async get(s){const n=this._sessions.find((n=>n.id===s));if(!n)throw Error(`Session ${s} not found`);return n}async list(){return this._sessions}async patch(s){const{id:n,path:e,name:i}=s,t=this._sessions.findIndex((s=>s.id===n)),o=this._sessions[t];if(!o)throw Error(`Session ${n} not found`);const r={...o,path:null!=e?e:o.path,name:null!=i?i:o.name};return this._sessions[t]=r,r}async startNew(s){var n,e,t;const{path:r,name:a}=s,h=this._sessions.find((s=>s.name===a));if(h)return h;const d=null!==(e=null===(n=s.kernel)||void 0===n?void 0:n.name)&&void 0!==e?e:"",l=null!==(t=s.id)&&void 0!==t?t:i.UUID.uuid4(),u=await this._kernels.startNew({id:l,name:d,location:o.PathExt.dirname(s.path)}),c={id:l,path:r,name:null!=a?a:r,type:"notebook",kernel:{id:u.id,name:u.name}};return this._sessions.push(c),c}async shutdown(s){var n;const e=this._sessions.find((n=>n.id===s));if(!e)throw Error(`Session ${s} not found`);const i=null===(n=e.kernel)||void 0===n?void 0:n.id;i&&await this._kernels.shutdown(i),r.ArrayExt.removeFirstOf(this._sessions,e)}}}}]);
//# sourceMappingURL=2363.d82279b.js.map