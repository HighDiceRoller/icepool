"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[19067],{19067:(e,t,n)=>{n.r(t),n.d(t,{autoCloseTags:()=>te,completionPath:()=>R,esLint:()=>ne,javascript:()=>K,javascriptLanguage:()=>U,jsxLanguage:()=>q,localCompletionSource:()=>M,scopeCompletionSource:()=>_,snippets:()=>O,tsxLanguage:()=>H,typescriptLanguage:()=>z,typescriptSnippets:()=>P});var o=n(52569),i=n(59533),l=n(28207),r=n(29387);function a(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function c(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,o]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:o}of e){t[o[0]]=!0;for(let e=1;e<o.length;e++)n[o[e]]=!0}let o=a(t)+a(n)+"*$";return[new RegExp("^"+o),new RegExp(o)]}(t);return e=>{let i=e.matchBefore(o);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:n}:null}}const s=l.Annotation.define(),f=r.EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"¬∑¬∑¬∑"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'∆í'"}},".cm-completionIcon-class":{"&:after":{content:"'‚óã'"}},".cm-completionIcon-interface":{"&:after":{content:"'‚óå'"}},".cm-completionIcon-variable":{"&:after":{content:"'ùë•'"}},".cm-completionIcon-constant":{"&:after":{content:"'ùê∂'"}},".cm-completionIcon-type":{"&:after":{content:"'ùë°'"}},".cm-completionIcon-enum":{"&:after":{content:"'‚à™'"}},".cm-completionIcon-property":{"&:after":{content:"'‚ñ°'"}},".cm-completionIcon-keyword":{"&:after":{content:"'üîëÔ∏é'"}},".cm-completionIcon-namespace":{"&:after":{content:"'‚ñ¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class p{constructor(e,t,n,o){this.field=e,this.line=t,this.from=n,this.to=o}}class d{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,l.MapMode.TrackDel),n=e.mapPos(this.to,1,l.MapMode.TrackDel);return null==t||null==n?null:new d(this.field,t,n)}}class m{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],o=[t],l=e.doc.lineAt(t),r=/^\s*/.exec(l.text)[0];for(let l of this.lines){if(n.length){let n=r,a=/^\t*/.exec(l)[0].length;for(let t=0;t<a;t++)n+=e.facet(i.indentUnit);o.push(t+n.length-a),l=n+l.slice(a)}n.push(l),t+=l.length+1}let a=this.fieldPositions.map((e=>new d(e.field,o[e.line]+e.from,o[e.line]+e.to)));return{text:n,ranges:a}}static parse(e){let t,n=[],o=[],i=[];for(let l of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(l);){let e=t[1]?+t[1]:null,r=t[2]||t[3]||"",a=-1;for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:r&&n[t].name==r)&&(a=t);if(a<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:r}),a=t;for(let e of i)e.field>=a&&e.field++}i.push(new p(a,o.length,t.index,t.index+r.length)),l=l.slice(0,t.index)+r+l.slice(t.index+t[0].length)}for(let e;e=/\\([{}])/.exec(l);){l=l.slice(0,e.index)+e[1]+l.slice(e.index+e[0].length);for(let t of i)t.line==o.length&&t.from>e.index&&(t.from--,t.to--)}o.push(l)}return new m(o,i)}}let u=r.Decoration.widget({widget:new class extends r.WidgetType{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),g=r.Decoration.mark({class:"cm-snippetField"});class h{constructor(e,t){this.ranges=e,this.active=t,this.deco=r.Decoration.set(e.map((e=>(e.from==e.to?u:g).range(e.from,e.to))))}map(e){let t=[];for(let n of this.ranges){let o=n.map(e);if(!o)return null;t.push(o)}return new h(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const y=l.StateEffect.define({map:(e,t)=>e&&e.map(t)}),b=l.StateEffect.define(),x=l.StateField.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(y))return n.value;if(n.is(b)&&e)return new h(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>r.EditorView.decorations.from(e,(e=>e?e.deco:r.Decoration.none))});function w(e,t){return l.EditorSelection.create(e.filter((e=>e.field==t)).map((e=>l.EditorSelection.range(e.from,e.to))))}function v(e){let t=m.parse(e);return(e,n,o,i)=>{let{text:r,ranges:a}=t.instantiate(e.state,o),c={changes:{from:o,to:i,insert:l.Text.of(r)},scrollIntoView:!0,annotations:n?s.of(n):void 0};if(a.length&&(c.selection=w(a,0)),a.length>1){let t=new h(a,0),n=c.effects=[y.of(t)];void 0===e.state.field(x,!1)&&n.push(l.StateEffect.appendConfig.of([x,I,E,f]))}e.dispatch(e.state.update(c))}}function S(e){return({state:t,dispatch:n})=>{let o=t.field(x,!1);if(!o||e<0&&0==o.active)return!1;let i=o.active+e,l=e>0&&!o.ranges.some((t=>t.field==i+e));return n(t.update({selection:w(o.ranges,i),effects:y.of(l?null:new h(o.ranges,i))})),!0}}const k=[{key:"Tab",run:S(1),shift:S(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(x,!1)&&(t(e.update({effects:y.of(null)})),!0)}],$=l.Facet.define({combine:e=>e.length?e[0]:k}),I=l.Prec.highest(r.keymap.compute([$],(e=>e.facet($))));function T(e,t){return Object.assign(Object.assign({},t),{apply:v(e)})}const E=r.EditorView.domEventHandlers({mousedown(e,t){let n,o=t.state.field(x,!1);if(!o||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let i=o.ranges.find((e=>e.from<=n&&e.to>=n));return!(!i||i.field==o.active||(t.dispatch({selection:w(o.ranges,i.field),effects:y.of(o.ranges.some((e=>e.field>i.field))?new h(o.ranges,i.field):null)}),0))}}),C=new class extends l.RangeValue{};C.startSide=1,C.endSide=-1,"object"==typeof navigator&&navigator.userAgent;var D=n(41348);const O=[T("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),T("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),T("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),T("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),T("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),T("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),T("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),T("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),T("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),T('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),T('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],P=O.concat([T("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),T("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),T("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),A=new D.NodeWeakMap,F=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function j(e){return(t,n)=>{let o=t.node.getChild("VariableDefinition");return o&&n(o,e),!0}}const J=["FunctionDeclaration"],L={FunctionDeclaration:j("function"),ClassDeclaration:j("class"),ClassExpression:()=>!0,EnumDeclaration:j("constant"),TypeAliasDeclaration:j("type"),NamespaceDeclaration:j("namespace"),VariableDefinition(e,t){e.matchContext(J)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function X(e,t){let n=A.get(t);if(n)return n;let o=[],i=!0;function l(t,n){let i=e.sliceString(t.from,t.to);o.push({label:i,type:n})}return t.cursor(D.IterMode.IncludeAnonymous).iterate((t=>{if(i)i=!1;else if(t.name){let e=L[t.name];if(e&&e(t,l)||F.has(t.name))return!1}else if(t.to-t.from>8192){for(let n of X(e,t.node))o.push(n);return!1}})),A.set(t,o),o}const B=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,V=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function M(e){let t=(0,i.syntaxTree)(e.state).resolveInner(e.pos,-1);if(V.indexOf(t.name)>-1)return null;let n="VariableName"==t.name||t.to-t.from<20&&B.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let o=[];for(let n=t;n;n=n.parent)F.has(n.name)&&(o=o.concat(X(e.state.doc,n)));return{options:o,from:n?t.from:e.pos,validFor:B}}function N(e,t,n){var o;let i=[];for(;;){let l,r=t.firstChild;if("VariableName"==(null==r?void 0:r.name))return i.push(e(r)),{path:i.reverse(),name:n};if("MemberExpression"!=(null==r?void 0:r.name)||"PropertyName"!=(null===(o=l=r.lastChild)||void 0===o?void 0:o.name))return null;i.push(e(l)),t=r}}function R(e){let t=t=>e.state.doc.sliceString(t.from,t.to),n=(0,i.syntaxTree)(e.state).resolveInner(e.pos,-1);return"PropertyName"==n.name?N(t,n.parent,t(n)):"."!=n.name&&"?."!=n.name||"MemberExpression"!=n.parent.name?V.indexOf(n.name)>-1?null:"VariableName"==n.name||n.to-n.from<20&&B.test(t(n))?{path:[],name:t(n)}:"MemberExpression"==n.name?N(t,n,""):e.explicit?{path:[],name:""}:null:N(t,n.parent,"")}function _(e){let t=new Map;return n=>{let o=R(n);if(!o)return null;let i=e;for(let e of o.path)if(i=i[e],!i)return null;let l=t.get(i);return l||t.set(i,l=function(e,t){let n=[],o=new Set;for(let i=0;;i++){for(let l of(Object.getOwnPropertyNames||Object.keys)(e)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(l)||o.has(l))continue;let r;o.add(l);try{r=e[l]}catch(e){continue}n.push({label:l,type:"function"==typeof r?/^[A-Z]/.test(l)?"class":t?"function":"method":t?"variable":"property",boost:-i})}let l=Object.getPrototypeOf(e);if(!l)return n;e=l}}(i,!o.path.length)),{from:n.pos-o.name.length,options:l,validFor:B}}}const U=i.LRLanguage.define({name:"javascript",parser:o.E.configure({props:[i.indentNodeProp.add({IfStatement:(0,i.continuedIndent)({except:/^\s*({|else\b)/}),TryStatement:(0,i.continuedIndent)({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:i.flatIndent,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),o=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:o?1:2)*e.unit},Block:(0,i.delimitedIndent)({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":(0,i.continuedIndent)({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),i.foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":i.foldInside,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),W={test:e=>/^JSX/.test(e.name),facet:(0,i.defineLanguageFacet)({commentTokens:{block:{open:"{/*",close:"*/}"}}})},z=U.configure({dialect:"ts"},"typescript"),q=U.configure({dialect:"jsx",props:[i.sublanguageProp.add((e=>e.isTop?[W]:void 0))]}),H=U.configure({dialect:"jsx ts",props:[i.sublanguageProp.add((e=>e.isTop?[W]:void 0))]},"typescript");let Y=e=>({label:e,type:"keyword"});const Z="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Y),G=Z.concat(["declare","implements","private","protected","public"].map(Y));function K(e={}){let t=e.jsx?e.typescript?H:q:e.typescript?z:U,n=e.typescript?P.concat(G):O.concat(Z);return new i.LanguageSupport(t,[U.data.of({autocomplete:(o=V,l=c(n),e=>{for(let t=(0,i.syntaxTree)(e.state).resolveInner(e.pos,-1);t;t=t.parent){if(o.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return l(e)})}),U.data.of({autocomplete:M}),e.jsx?te:[]]);var o,l}function Q(e,t,n=e.length){for(let o=null==t?void 0:t.firstChild;o;o=o.nextSibling)if("JSXIdentifier"==o.name||"JSXBuiltin"==o.name||"JSXNamespacedName"==o.name||"JSXMemberExpression"==o.name)return e.sliceString(o.from,Math.min(o.to,n));return""}const ee="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),te=r.EditorView.inputHandler.of(((e,t,n,o,r)=>{if((ee?e.composing:e.compositionStarted)||e.state.readOnly||t!=n||">"!=o&&"/"!=o||!U.isActiveAt(e.state,t,-1))return!1;let a=r(),{state:c}=a,s=c.changeByRange((e=>{var t;let n,{head:r}=e,a=(0,i.syntaxTree)(c).resolveInner(r-1,-1);if("JSXStartTag"==a.name&&(a=a.parent),c.doc.sliceString(r-1,r)!=o||"JSXAttributeValue"==a.name&&a.to>r);else{if(">"==o&&"JSXFragmentTag"==a.name)return{range:e,changes:{from:r,insert:"</>"}};if("/"==o&&"JSXStartCloseTag"==a.name){let e=a.parent,o=e.parent;if(o&&e.from==r-2&&((n=Q(c.doc,o.firstChild,r))||"JSXFragmentTag"==(null===(t=o.firstChild)||void 0===t?void 0:t.name))){let e=`${n}>`;return{range:l.EditorSelection.cursor(r+e.length,-1),changes:{from:r,insert:e}}}}else if(">"==o){let t=function(e){for(;;){if("JSXOpenTag"==e.name||"JSXSelfClosingTag"==e.name||"JSXFragmentTag"==e.name)return e;if("JSXEscape"==e.name||!e.parent)return null;e=e.parent}}(a);if(t&&"JSXOpenTag"==t.name&&!/^\/?>|^<\//.test(c.doc.sliceString(r,r+2))&&(n=Q(c.doc,t,r)))return{range:e,changes:{from:r,insert:`</${n}>`}}}}return{range:e}}));return!s.changes.empty&&(e.dispatch([a,c.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}));function ne(e,t){return t||(t={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},e.getRules().forEach(((e,n)=>{e.meta.docs.recommended&&(t.rules[n]=2)}))),n=>{let{state:o}=n,i=[];for(let{from:n,to:l}of U.findRegions(o)){let r=o.doc.lineAt(n),a={line:r.number-1,col:n-r.from,pos:n};for(let r of e.verify(o.sliceDoc(n,l),t))i.push(ie(r,o.doc,a))}return i}}function oe(e,t,n,o){return n.line(e+o.line).from+t+(1==e?o.col-1:-1)}function ie(e,t,n){let o=oe(e.line,e.column,t,n),i={from:o,to:null!=e.endLine&&1!=e.endColumn?oe(e.endLine,e.endColumn,t,n):o,message:e.message,source:e.ruleId?"eslint:"+e.ruleId:"eslint",severity:1==e.severity?"warning":"error"};if(e.fix){let{range:t,text:l}=e.fix,r=t[0]+n.pos-o,a=t[1]+n.pos-o;i.actions=[{name:"fix",apply(e,t){e.dispatch({changes:{from:t+r,to:t+a,insert:l},scrollIntoView:!0})}}]}return i}}}]);
//# sourceMappingURL=19067.c03d4ff.js.map