"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[8590,7139],{58590:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S,pluginManagerPlugin:()=>L});var n=a(5379),r=a(93232),s=a(48418),o=a(92922),i=a(23561),l=a(8441),c=a(20074),u=a(65222),p=a(26913),d=a(46257),g=a(77626),m=a.n(g);class h{constructor(){this._status="idle",this._statusChanged=new d.Signal(this)}get status(){return this._status}get statusChanged(){return this._statusChanged}setStatus(e){this._status!==e&&(this._status=e,this._statusChanged.emit(e))}}function v(e){const[t,a]=(0,g.useState)(e.model.status);(0,g.useEffect)((()=>{const t=(e,t)=>{a(t)};return e.model.statusChanged.connect(t),()=>{e.model.statusChanged.disconnect(t)}}),[e.model]);const n="dead"===t,r="idle"===t,s=!n&&!r;return m().createElement("div",{className:"jp-KernelStatus",onClick:e.onClick,style:{cursor:"pointer"},title:"Click to open kernel logs"},m().createElement("div",{className:"jp-KernelStatus-icon-container"},s&&m().createElement("div",{className:"jp-KernelStatus-spinner"},m().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("circle",{className:"jp-KernelStatus-spinner-track",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m().createElement("path",{className:"jp-KernelStatus-spinner-path",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),r&&m().createElement("div",{className:"jp-KernelStatus-success"},m().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2"}),m().createElement("path",{d:"M8 12L11 15L16 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),n&&m().createElement("div",{className:"jp-KernelStatus-error"},m().createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2"}),m().createElement("path",{d:"M15 9L9 15M9 9L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))}class w extends s.ReactWidget{constructor(e){super(),this._model=e.model,this._onClick=e.onClick||(()=>{}),this.addClass("jp-KernelStatus-widget"),this.addClass("jp-mod-highlighted"),this.node.style.cursor="pointer"}get model(){return this._model}render(){return m().createElement(v,{model:this._model,onClick:this._onClick})}}const C={id:"@jupyterlite/apputils-extension:kernel-status",description:"Kernel status indicator for JupyterLite",autoStart:!0,optional:[s.IToolbarWidgetRegistry,p.ILoggerRegistry],activate:(e,t,a)=>{const{commands:n}=e;t&&t.addFactory("Notebook","kernelStatus",(e=>{const t=new h;if(e.sessionContext.statusChanged.connect(((e,a)=>{t.setStatus(a)})),a){const n=e.context.path,r=a.getLogger(n);null==r||r.contentChanged.connect(((e,a)=>{const n=r.outputAreaModel.length;if("append"===a&&n>0){const e=r.outputAreaModel.get(n-1).level;"critical"===e?t.setStatus("dead"):"metadata"!==e&&t.setStatus("busy")}}))}return new w({model:t,onClick:()=>{n.execute("logconsole:open")}})}))}};var k=a(65422);class f extends k.RenderMimeRegistry.UrlResolver{constructor(e){super(e),this._mimeTypes={".apng":"image/apng",".avif":"image/avif",".svg":"image/svg+xml",".png":"image/png",".jpg":"image/jpeg",".jpeg":"image/jpeg",".gif":"image/gif",".webp":"image/webp",".bmp":"image/bmp",".ico":"image/x-icon",".tiff":"image/tiff"},this._manager=e.contents}async resolveUrl(e,t){const a=t&&("src"===t.attribute||"href"===t.attribute&&"a"!==t.tag);if(this.isLocal(e)&&a){const t=encodeURI(n.PathExt.dirname(this.path));e=n.PathExt.resolve(t,e);const a=n.PathExt.extname(e).toLowerCase();if(a&&this._mimeTypes[a]){const t=await this._manager.get(e,{content:!0}),n="base64"===t.format?t.content:window.btoa(t.content);return`data:${this._mimeTypes[a]};base64,${n}`}}return super.resolveUrl(e)}}const P={id:"@jupyterlite/apputils-extension:url-resolver",autoStart:!0,description:"A URL resolver which converts supported image URLs into base64 encoded data strings.",provides:k.IUrlResolverFactory,activate:e=>({createResolver:e=>new f(e)})};var x;!function(e){e.openPluginManager="apputils:open-plugin-manager"}(x||(x={}));const y={id:"@jupyterlite/application-extension:licenses-client",autoStart:!0,provides:s.ILicensesClient,activate:e=>new u.LiteLicensesClient},L={id:"@jupyterlite/application-extension:plugin-manager",description:"Plugin manager viewer",autoStart:!0,optional:[r.JupyterLab.IInfo,i.ITranslator,s.ICommandPalette],provides:o.IPluginManager,activate:(e,t,a,n)=>{var r;const c=null!==(r=null==t?void 0:t.availablePlugins)&&void 0!==r?r:[];if(0===c.length)return{open:async()=>{console.info("The application does not contain information about plugins")}};const{commands:p,serviceManager:d,shell:g}=e,m=(a=null!=a?a:i.nullTranslator).load("jupyterlab"),h=m.__("Plugin Manager"),v=m.__("Advanced Plugin Manager"),w=new s.WidgetTracker({namespace:"plugin-manager"});return p.addCommand(x.openPluginManager,{label:v,execute:e=>{const t=function(e){const t=new u.LitePluginListModel({...e,pluginData:{availablePlugins:c},serverSettings:d.serverSettings,extraLockedPlugins:[L.id],translator:null!=a?a:i.nullTranslator}),n=new o.Plugins({model:t,translator:null!=a?a:i.nullTranslator});return n.title.label=v,n.title.icon=l.extensionIcon,n.title.caption=m.__("Plugin Manager"),new s.MainAreaWidget({content:n,reveal:t.ready})}(e);return g.add(t,"main",{type:"Plugins"}),w.add(t),t.content.model.trackerDataChanged.connect((()=>{w.save(t)})),t}}),n&&n.addItem({command:x.openPluginManager,category:h}),{open:()=>e.commands.execute(x.openPluginManager)}}},_={id:"@jupyterlite/application-extension:translator-connector",description:"Provides the application translation connector.",autoStart:!0,provides:i.ITranslatorConnector,activate:e=>new u.LiteTranslatorConnector},E={id:"@jupyterlite/application-extension:resolver",autoStart:!0,provides:s.IWindowResolver,requires:[r.JupyterFrontEnd.IPaths,r.IRouter,u.IWorkspaceRouter],activate:async(e,t,a,r)=>{const s=new URL(window.location.href),o=s.searchParams.get("workspace")||s.searchParams.get("clone")||n.PageConfig.getOption("workspace")||"default",i={name:o||n.PageConfig.defaultWorkspace};try{return i}catch(t){const{workspaces:r}=e.serviceManager,l=await r.fetch(o),c=`${o.split("-")[0]}-${+new Date}`;await r.save(c,l);const u=n.PageConfig.getOption("appUrl");s.pathname=u,s.searchParams.set("clone",c),s.searchParams.delete("workspace");const p=n.URLExt.join(u,s.toString().split(u)[1]);return a.navigate(p),i}}},j={id:"@jupyterlite/application-extension:workspaces",requires:[c.ILiteRouter],autoStart:!0,provides:u.IWorkspaceRouter,activate:(e,t)=>{const a=n.PageConfig.getOption("appUrl"),r=n.PageConfig.getOption("baseUrl");if(a){const e=n.URLExt.join(a,"workspaces")+"/",s=n.URLExt.join(r,"doc/workspaces/auto-");t.addTransformer({id:j.id,transform:({options:t,url:n})=>{if(t.hard&&n.pathname.startsWith(e)){const t=n.pathname.replace(e,"");n.pathname=a,n.searchParams.set("workspace",t)}return t.hard&&n.pathname.startsWith(s)&&(n.pathname=a,n.searchParams.delete("reset")),{url:n,options:t}}})}return{}}},S=[y,L,_,j,C,E,P]}}]);
//# sourceMappingURL=8590.ac0e716.js.map